(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const df="3.7.7",kb=df,rr=typeof Buffer=="function",pf=typeof TextDecoder=="function"?new TextDecoder:void 0,yf=typeof TextEncoder=="function"?new TextEncoder:void 0,Mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Jr=Array.prototype.slice.call(Mb),so=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Jr),Ab=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Se=String.fromCharCode.bind(String),gf=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),mf=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),bf=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),vf=e=>{let t,n,r,i,o="";const a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,o+=Jr[t>>18&63]+Jr[t>>12&63]+Jr[t>>6&63]+Jr[t&63]}return a?o.slice(0,a-3)+"===".substring(a):o},Ns=typeof btoa=="function"?e=>btoa(e):rr?e=>Buffer.from(e,"binary").toString("base64"):vf,Rs=rr?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(Se.apply(null,e.subarray(n,n+4096)));return Ns(t.join(""))},co=(e,t=!1)=>t?mf(Rs(e)):Rs(e),Eb=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Se(192|t>>>6)+Se(128|t&63):Se(224|t>>>12&15)+Se(128|t>>>6&63)+Se(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Se(240|t>>>18&7)+Se(128|t>>>12&63)+Se(128|t>>>6&63)+Se(128|t&63)}},Tb=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,wf=e=>e.replace(Tb,Eb),xf=rr?e=>Buffer.from(e,"utf8").toString("base64"):yf?e=>Rs(yf.encode(e)):e=>Ns(wf(e)),ir=(e,t=!1)=>t?mf(xf(e)):xf(e),_f=e=>ir(e,!0),Sb=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,$b=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return Se((n>>>10)+55296)+Se((n&1023)+56320);case 3:return Se((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Se((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},kf=e=>e.replace(Sb,$b),Mf=e=>{if(e=e.replace(/\s+/g,""),!Ab.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,i;for(let o=0;o<e.length;)t=so[e.charAt(o++)]<<18|so[e.charAt(o++)]<<12|(r=so[e.charAt(o++)])<<6|(i=so[e.charAt(o++)]),n+=r===64?Se(t>>16&255):i===64?Se(t>>16&255,t>>8&255):Se(t>>16&255,t>>8&255,t&255);return n},Cs=typeof atob=="function"?e=>atob(bf(e)):rr?e=>Buffer.from(e,"base64").toString("binary"):Mf,Af=rr?e=>gf(Buffer.from(e,"base64")):e=>gf(Cs(e).split("").map(t=>t.charCodeAt(0))),Ef=e=>Af(Tf(e)),Nb=rr?e=>Buffer.from(e,"base64").toString("utf8"):pf?e=>pf.decode(Af(e)):e=>kf(Cs(e)),Tf=e=>bf(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Ls=e=>Nb(Tf(e)),Rb=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Sf=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),$f=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,Sf(n));e("fromBase64",function(){return Ls(this)}),e("toBase64",function(t){return ir(this,t)}),e("toBase64URI",function(){return ir(this,!0)}),e("toBase64URL",function(){return ir(this,!0)}),e("toUint8Array",function(){return Ef(this)})},Nf=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,Sf(n));e("toBase64",function(t){return co(this,t)}),e("toBase64URI",function(){return co(this,!0)}),e("toBase64URL",function(){return co(this,!0)})},Cb=()=>{$f(),Nf()},lo={version:df,VERSION:kb,atob:Cs,atobPolyfill:Mf,btoa:Ns,btoaPolyfill:vf,fromBase64:Ls,toBase64:ir,encode:ir,encodeURI:_f,encodeURL:_f,utob:wf,btou:kf,decode:Ls,isValid:Rb,fromUint8Array:co,toUint8Array:Ef,extendString:$f,extendUint8Array:Nf,extendBuiltins:Cb};function ze(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uo(e){let t,n,r;e.length!==2?(t=ze,n=(s,c)=>ze(e(s),c),r=(s,c)=>e(s)-c):(t=e===ze||e===Gr?e:Lb,n=e,r=e);function i(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const h=l+u>>>1;n(s[h],c)<0?l=h+1:u=h}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const h=l+u>>>1;n(s[h],c)<=0?l=h+1:u=h}while(l<u)}return l}function a(s,c,l=0,u=s.length){const h=i(s,c,l,u-1);return h>l&&r(s[h-1],c)>-r(s[h],c)?h-1:h}return{left:i,center:a,right:o}}function Lb(){return 0}function Rf(e){return e===null?NaN:+e}function*Ub(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Db=uo(ze),Ob=Db.right;uo(Rf).center;const fo=Ob;function Us(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function jb(e){return e.length|0}function Ib(e){return!(e>0)}function Pb(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Fb(e){return t=>e(...t)}function Bb(...e){const t=typeof e[e.length-1]=="function"&&Fb(e.pop());e=e.map(Pb);const n=e.map(jb),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Ib))return o;for(;;){o.push(i.map((s,c)=>e[c][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function zb(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function Cf(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function Lf(e,t){const n=Cf(e,t);return n&&Math.sqrt(n)}function Ke(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class $n{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[r++]=s),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Nn extends Map{constructor(t,n=Of){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ds(this,t))}has(t){return super.has(Ds(this,t))}set(t,n){return super.set(Uf(this,t),n)}delete(t){return super.delete(Df(this,t))}}class ho extends Set{constructor(t,n=Of){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Ds(this,t))}add(t){return super.add(Uf(this,t))}delete(t){return super.delete(Df(this,t))}}function Ds({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Uf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Df({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Of(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Os(e){return e}function po(e,...t){return js(e,Os,Os,t)}function or(e,t,...n){return js(e,Os,t,n)}function Wb(e,t,...n){return js(e,Array.from,t,n)}function js(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Nn,c=r[a++];let l=-1;for(const u of o){const h=c(u,++l,o),f=s.get(h);f?f.push(u):s.set(h,[u])}for(const[u,h]of s)s.set(u,i(h,a));return t(s)}(e,0)}function qb(e,t){return Array.from(t,n=>e[n])}function yo(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const s=go(a[i],a[o]);if(s)return s}})):(n=e.map(n),r.sort((i,o)=>go(n[i],n[o]))),qb(e,r)}return e.sort(jf(n))}function jf(e=ze){if(e===ze)return go;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function go(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Is(e,t,n){return(t.length!==2?yo(or(e,t,n),([r,i],[o,a])=>ze(i,a)||ze(r,o)):yo(po(e,n),([r,i],[o,a])=>t(i,a)||ze(r,o))).map(([r])=>r)}const Hb=Math.sqrt(50),Vb=Math.sqrt(10),Yb=Math.sqrt(2);function mo(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Hb?10:o>=Vb?5:o>=Yb?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,i)*a,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?mo(e,t,n*2):[s,c,l]}function Zr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?mo(t,e,n):mo(e,t,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(o-l)/-a;else for(let l=0;l<s;++l)c[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(i+l)/-a;else for(let l=0;l<s;++l)c[l]=(i+l)*a;return c}function bo(e,t,n){return t=+t,e=+e,n=+n,mo(e,t,n)[2]}function Ps(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?bo(t,e,n):bo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Xb(e){return Math.max(1,Math.ceil(Math.log(Us(e))/Math.LN2)+1)}function ct(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Jb(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Dt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Gb(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function If(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?go:jf(i);r>n;){if(r-n>600){const c=r-n+1,l=t-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(l-c/2<0?-1:1),d=Math.max(n,Math.floor(t-l*h/c+f)),y=Math.min(r,Math.floor(t+(c-l)*h/c+f));If(e,t,d,y,i)}const o=e[t];let a=n,s=r;for(Kr(e,n,t),i(e[r],o)>0&&Kr(e,n,r);a<s;){for(Kr(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Kr(e,n,s):(++s,Kr(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Kr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Pf(e,t=ze){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?ze(a,i)>0:ze(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function ar(e,t,n){if(e=Float64Array.from(Ub(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Dt(e);if(t>=1)return ct(e);var r,i=(r-1)*t,o=Math.floor(i),a=ct(If(e,o).subarray(0,o+1)),s=Dt(e.subarray(o+1));return a+(s-a)*(i-o)}}function Zb(e,t,n=Rf){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function Kb(e,t,n){const r=Us(e),i=ar(e,.75)-ar(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function Ff(e,t,n){const r=Us(e),i=Lf(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function Qb(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Fs(e,t){return ar(e,.5,t)}function*e2(e){for(const t of e)yield*t}function Bf(e){return Array.from(e2(e))}function t2(e,t){const n=new Nn;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function n2(e,t=r2){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function r2(e,t){return[e,t]}function Bs(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function cn(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function vo(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function i2(e){return e}var zs=1,Ws=2,qs=3,wo=4,zf=1e-6;function o2(e){return"translate("+e+",0)"}function a2(e){return"translate(0,"+e+")"}function s2(e){return t=>+e(t)}function c2(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function l2(){return!this.__axis}function u2(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===zs||e===wo?-1:1,u=e===wo||e===Ws?"x":"y",h=e===zs||e===qs?o2:a2;function f(d){var y=r??(t.ticks?t.ticks.apply(t,n):t.domain()),p=i??(t.tickFormat?t.tickFormat.apply(t,n):i2),g=Math.max(o,0)+s,b=t.range(),m=+b[0]+c,w=+b[b.length-1]+c,v=(t.bandwidth?c2:s2)(t.copy(),c),_=d.selection?d.selection():d,x=_.selectAll(".domain").data([null]),k=_.selectAll(".tick").data(y,t).order(),A=k.exit(),T=k.enter().append("g").attr("class","tick"),$=k.select("line"),M=k.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(T),$=$.merge(T.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),M=M.merge(T.append("text").attr("fill","currentColor").attr(u,l*g).attr("dy",e===zs?"0em":e===qs?"0.71em":"0.32em")),d!==_&&(x=x.transition(d),k=k.transition(d),$=$.transition(d),M=M.transition(d),A=A.transition(d).attr("opacity",zf).attr("transform",function(L){return isFinite(L=v(L))?h(L+c):this.getAttribute("transform")}),T.attr("opacity",zf).attr("transform",function(L){var I=this.parentNode.__axis;return h((I&&isFinite(I=I(L))?I:v(L))+c)})),A.remove(),x.attr("d",e===wo||e===Ws?a?"M"+l*a+","+m+"H"+c+"V"+w+"H"+l*a:"M"+c+","+m+"V"+w:a?"M"+m+","+l*a+"V"+c+"H"+w+"V"+l*a:"M"+m+","+c+"H"+w),k.attr("opacity",1).attr("transform",function(L){return h(v(L)+c)}),$.attr(u+"2",l*o),M.attr(u,l*g).text(p),_.filter(l2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ws?"start":e===wo?"end":"middle"),_.each(function(){this.__axis=v})}return f.scale=function(d){return arguments.length?(t=d,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(o=a=+d,f):o},f.tickSizeInner=function(d){return arguments.length?(o=+d,f):o},f.tickSizeOuter=function(d){return arguments.length?(a=+d,f):a},f.tickPadding=function(d){return arguments.length?(s=+d,f):s},f.offset=function(d){return arguments.length?(c=+d,f):c},f}function f2(e){return u2(qs,e)}var h2={value:()=>{}};function Wf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xo(n)}function xo(e){this._=e}function d2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}xo.prototype=Wf.prototype={constructor:xo,on:function(e,t){var n=this._,r=d2(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=p2(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=qf(n[i],e.name,t);else if(t==null)for(i in n)n[i]=qf(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new xo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function p2(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function qf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=h2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Hs="http://www.w3.org/1999/xhtml";const sr={svg:"http://www.w3.org/2000/svg",xhtml:Hs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _o(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),sr.hasOwnProperty(t)?{space:sr[t],local:e}:e}function y2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hs&&t.documentElement.namespaceURI===Hs?t.createElement(e):t.createElementNS(n,e)}}function g2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ko(e){var t=_o(e);return(t.local?g2:y2)(t)}function m2(){}function Vs(e){return e==null?m2:function(){return this.querySelector(e)}}function b2(e){typeof e!="function"&&(e=Vs(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),c,l,u=0;u<a;++u)(c=o[u])&&(l=e.call(c,c.__data__,u,o))&&("__data__"in c&&(l.__data__=c.__data__),s[u]=l);return new Xe(r,this._parents)}function v2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function w2(){return[]}function Hf(e){return e==null?w2:function(){return this.querySelectorAll(e)}}function x2(e){return function(){return v2(e.apply(this,arguments))}}function _2(e){typeof e=="function"?e=x2(e):e=Hf(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,c,l=0;l<s;++l)(c=a[l])&&(r.push(e.call(c,c.__data__,l,a)),i.push(c));return new Xe(r,i)}function Vf(e){return function(){return this.matches(e)}}function Yf(e){return function(t){return t.matches(e)}}var k2=Array.prototype.find;function M2(e){return function(){return k2.call(this.children,e)}}function A2(){return this.firstElementChild}function E2(e){return this.select(e==null?A2:M2(typeof e=="function"?e:Yf(e)))}var T2=Array.prototype.filter;function S2(){return Array.from(this.children)}function $2(e){return function(){return T2.call(this.children,e)}}function N2(e){return this.selectAll(e==null?S2:$2(typeof e=="function"?e:Yf(e)))}function R2(e){typeof e!="function"&&(e=Vf(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,l=0;l<a;++l)(c=o[l])&&e.call(c,c.__data__,l,o)&&s.push(c);return new Xe(r,this._parents)}function Xf(e){return new Array(e.length)}function C2(){return new Xe(this._enter||this._groups.map(Xf),this._parents)}function Mo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Mo.prototype={constructor:Mo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function L2(e){return function(){return e}}function U2(e,t,n,r,i,o){for(var a=0,s,c=t.length,l=o.length;a<l;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Mo(e,o[a]);for(;a<c;++a)(s=t[a])&&(i[a]=s)}function D2(e,t,n,r,i,o,a){var s,c,l=new Map,u=t.length,h=o.length,f=new Array(u),d;for(s=0;s<u;++s)(c=t[s])&&(f[s]=d=a.call(c,c.__data__,s,t)+"",l.has(d)?i[s]=c:l.set(d,c));for(s=0;s<h;++s)d=a.call(e,o[s],s,o)+"",(c=l.get(d))?(r[s]=c,c.__data__=o[s],l.delete(d)):n[s]=new Mo(e,o[s]);for(s=0;s<u;++s)(c=t[s])&&l.get(f[s])===c&&(i[s]=c)}function O2(e){return e.__data__}function j2(e,t){if(!arguments.length)return Array.from(this,O2);var n=t?D2:U2,r=this._parents,i=this._groups;typeof e!="function"&&(e=L2(e));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var u=r[l],h=i[l],f=h.length,d=I2(e.call(u,u&&u.__data__,l,r)),y=d.length,p=s[l]=new Array(y),g=a[l]=new Array(y),b=c[l]=new Array(f);n(u,h,p,g,b,d,t);for(var m=0,w=0,v,_;m<y;++m)if(v=p[m]){for(m>=w&&(w=m+1);!(_=g[w])&&++w<y;);v._next=_||null}}return a=new Xe(a,r),a._enter=s,a._exit=c,a}function I2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function P2(){return new Xe(this._exit||this._groups.map(Xf),this._parents)}function F2(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function B2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var l=n[c],u=r[c],h=l.length,f=s[c]=new Array(h),d,y=0;y<h;++y)(d=l[y]||u[y])&&(f[y]=d);for(;c<i;++c)s[c]=n[c];return new Xe(s,this._parents)}function z2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function W2(e){e||(e=q2);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),l,u=0;u<s;++u)(l=a[u])&&(c[u]=l);c.sort(t)}return new Xe(i,this._parents).order()}function q2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function H2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function V2(){return Array.from(this)}function Y2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function X2(){let e=0;for(const t of this)++e;return e}function J2(){return!this.node()}function G2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Z2(e){return function(){this.removeAttribute(e)}}function K2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Q2(e,t){return function(){this.setAttribute(e,t)}}function ev(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function tv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function nv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rv(e,t){var n=_o(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?K2:Z2:typeof t=="function"?n.local?nv:tv:n.local?ev:Q2)(n,t))}function Jf(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function iv(e){return function(){this.style.removeProperty(e)}}function ov(e,t,n){return function(){this.style.setProperty(e,t,n)}}function av(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function sv(e,t,n){return arguments.length>1?this.each((t==null?iv:typeof t=="function"?av:ov)(e,t,n??"")):cr(this.node(),e)}function cr(e,t){return e.style.getPropertyValue(t)||Jf(e).getComputedStyle(e,null).getPropertyValue(t)}function cv(e){return function(){delete this[e]}}function lv(e,t){return function(){this[e]=t}}function uv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function fv(e,t){return arguments.length>1?this.each((t==null?cv:typeof t=="function"?uv:lv)(e,t)):this.node()[e]}function Gf(e){return e.trim().split(/^|\s+/)}function Ys(e){return e.classList||new Zf(e)}function Zf(e){this._node=e,this._names=Gf(e.getAttribute("class")||"")}Zf.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Kf(e,t){for(var n=Ys(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Qf(e,t){for(var n=Ys(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function hv(e){return function(){Kf(this,e)}}function dv(e){return function(){Qf(this,e)}}function pv(e,t){return function(){(t.apply(this,arguments)?Kf:Qf)(this,e)}}function yv(e,t){var n=Gf(e+"");if(arguments.length<2){for(var r=Ys(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?pv:t?hv:dv)(n,t))}function gv(){this.textContent=""}function mv(e){return function(){this.textContent=e}}function bv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function vv(e){return arguments.length?this.each(e==null?gv:(typeof e=="function"?bv:mv)(e)):this.node().textContent}function wv(){this.innerHTML=""}function xv(e){return function(){this.innerHTML=e}}function _v(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function kv(e){return arguments.length?this.each(e==null?wv:(typeof e=="function"?_v:xv)(e)):this.node().innerHTML}function Mv(){this.nextSibling&&this.parentNode.appendChild(this)}function Av(){return this.each(Mv)}function Ev(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tv(){return this.each(Ev)}function Sv(e){var t=typeof e=="function"?e:ko(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $v(){return null}function Nv(e,t){var n=typeof e=="function"?e:ko(e),r=t==null?$v:typeof t=="function"?t:Vs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Rv(){var e=this.parentNode;e&&e.removeChild(this)}function Cv(){return this.each(Rv)}function Lv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Uv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Dv(e){return this.select(e?Uv:Lv)}function Ov(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jv(e){return function(t){e.call(this,t,this.__data__)}}function Iv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Pv(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Fv(e,t,n){return function(){var r=this.__on,i,o=jv(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Bv(e,t,n){var r=Iv(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(i=0,u=s[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=t?Fv:Pv,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function eh(e,t,n){var r=Jf(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function zv(e,t){return function(){return eh(this,e,t)}}function Wv(e,t){return function(){return eh(this,e,t.apply(this,arguments))}}function qv(e,t){return this.each((typeof t=="function"?Wv:zv)(e,t))}function*Hv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var th=[null];function Xe(e,t){this._groups=e,this._parents=t}function Qr(){return new Xe([[document.documentElement]],th)}function Vv(){return this}Xe.prototype=Qr.prototype={constructor:Xe,select:b2,selectAll:_2,selectChild:E2,selectChildren:N2,filter:R2,data:j2,enter:C2,exit:P2,join:F2,merge:B2,selection:Vv,order:z2,sort:W2,call:H2,nodes:V2,node:Y2,size:X2,empty:J2,each:G2,attr:rv,style:sv,property:fv,classed:yv,text:vv,html:kv,raise:Av,lower:Tv,append:Sv,insert:Nv,remove:Cv,clone:Dv,datum:Ov,on:Bv,dispatch:qv,[Symbol.iterator]:Hv};function lr(e){return typeof e=="string"?new Xe([[document.querySelector(e)]],[document.documentElement]):new Xe([[e]],th)}function Yv(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xv(e,t){if(e=Yv(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function ur(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ei(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ln(){}var Rn=.7,fr=1/Rn,hr="\\s*([+-]?\\d+)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jv=/^#([0-9a-f]{3,8})$/,Gv=new RegExp(`^rgb\\(${hr},${hr},${hr}\\)$`),Zv=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),Kv=new RegExp(`^rgba\\(${hr},${hr},${hr},${ti}\\)$`),Qv=new RegExp(`^rgba\\(${wt},${wt},${wt},${ti}\\)$`),ew=new RegExp(`^hsl\\(${ti},${wt},${wt}\\)$`),tw=new RegExp(`^hsla\\(${ti},${wt},${wt},${ti}\\)$`),nh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ur(ln,Cn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rh,formatHex:rh,formatHex8:nw,formatHsl:rw,formatRgb:ih,toString:ih});function rh(){return this.rgb().formatHex()}function nw(){return this.rgb().formatHex8()}function rw(){return lh(this).formatHsl()}function ih(){return this.rgb().formatRgb()}function Cn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Jv.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?oh(t):n===3?new _e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ao(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ao(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gv.exec(e))?new _e(t[1],t[2],t[3],1):(t=Zv.exec(e))?new _e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Kv.exec(e))?Ao(t[1],t[2],t[3],t[4]):(t=Qv.exec(e))?Ao(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ew.exec(e))?ch(t[1],t[2]/100,t[3]/100,1):(t=tw.exec(e))?ch(t[1],t[2]/100,t[3]/100,t[4]):nh.hasOwnProperty(e)?oh(nh[e]):e==="transparent"?new _e(NaN,NaN,NaN,0):null}function oh(e){return new _e(e>>16&255,e>>8&255,e&255,1)}function Ao(e,t,n,r){return r<=0&&(e=t=n=NaN),new _e(e,t,n,r)}function Xs(e){return e instanceof ln||(e=Cn(e)),e?(e=e.rgb(),new _e(e.r,e.g,e.b,e.opacity)):new _e}function un(e,t,n,r){return arguments.length===1?Xs(e):new _e(e,t,n,r??1)}function _e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ur(_e,un,ei(ln,{brighter(e){return e=e==null?fr:Math.pow(fr,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rn:Math.pow(Rn,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _e(Ln(this.r),Ln(this.g),Ln(this.b),Eo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ah,formatHex:ah,formatHex8:iw,formatRgb:sh,toString:sh}));function ah(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}`}function iw(){return`#${Un(this.r)}${Un(this.g)}${Un(this.b)}${Un((isNaN(this.opacity)?1:this.opacity)*255)}`}function sh(){const e=Eo(this.opacity);return`${e===1?"rgb(":"rgba("}${Ln(this.r)}, ${Ln(this.g)}, ${Ln(this.b)}${e===1?")":`, ${e})`}`}function Eo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ln(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Un(e){return e=Ln(e),(e<16?"0":"")+e.toString(16)}function ch(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new lt(e,t,n,r)}function lh(e){if(e instanceof lt)return new lt(e.h,e.s,e.l,e.opacity);if(e instanceof ln||(e=Cn(e)),!e)return new lt;if(e instanceof lt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new lt(a,s,c,e.opacity)}function Js(e,t,n,r){return arguments.length===1?lh(e):new lt(e,t,n,r??1)}function lt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ur(lt,Js,ei(ln,{brighter(e){return e=e==null?fr:Math.pow(fr,e),new lt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rn:Math.pow(Rn,e),new lt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _e(Gs(e>=240?e-240:e+120,i,r),Gs(e,i,r),Gs(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new lt(uh(this.h),To(this.s),To(this.l),Eo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eo(this.opacity);return`${e===1?"hsl(":"hsla("}${uh(this.h)}, ${To(this.s)*100}%, ${To(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uh(e){return e=(e||0)%360,e<0?e+360:e}function To(e){return Math.max(0,Math.min(1,e||0))}function Gs(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fh=Math.PI/180,hh=180/Math.PI,So=18,dh=.96422,ph=1,yh=.82521,gh=4/29,dr=6/29,mh=3*dr*dr,ow=dr*dr*dr;function bh(e){if(e instanceof xt)return new xt(e.l,e.a,e.b,e.opacity);if(e instanceof Ot)return vh(e);e instanceof _e||(e=Xs(e));var t=tc(e.r),n=tc(e.g),r=tc(e.b),i=Ks((.2225045*t+.7168786*n+.0606169*r)/ph),o,a;return t===n&&n===r?o=a=i:(o=Ks((.4360747*t+.3850649*n+.1430804*r)/dh),a=Ks((.0139322*t+.0971045*n+.7141733*r)/yh)),new xt(116*i-16,500*(o-i),200*(i-a),e.opacity)}function Zs(e,t,n,r){return arguments.length===1?bh(e):new xt(e,t,n,r??1)}function xt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}ur(xt,Zs,ei(ln,{brighter(e){return new xt(this.l+So*(e??1),this.a,this.b,this.opacity)},darker(e){return new xt(this.l-So*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=dh*Qs(t),e=ph*Qs(e),n=yh*Qs(n),new _e(ec(3.1338561*t-1.6168667*e-.4906146*n),ec(-.9787684*t+1.9161415*e+.033454*n),ec(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Ks(e){return e>ow?Math.pow(e,1/3):e/mh+gh}function Qs(e){return e>dr?e*e*e:mh*(e-gh)}function ec(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function tc(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function aw(e){if(e instanceof Ot)return new Ot(e.h,e.c,e.l,e.opacity);if(e instanceof xt||(e=bh(e)),e.a===0&&e.b===0)return new Ot(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*hh;return new Ot(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function nc(e,t,n,r){return arguments.length===1?aw(e):new Ot(e,t,n,r??1)}function Ot(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function vh(e){if(isNaN(e.h))return new xt(e.l,0,0,e.opacity);var t=e.h*fh;return new xt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ur(Ot,nc,ei(ln,{brighter(e){return new Ot(this.h,this.c,this.l+So*(e??1),this.opacity)},darker(e){return new Ot(this.h,this.c,this.l-So*(e??1),this.opacity)},rgb(){return vh(this).rgb()}}));var wh=-.14861,rc=1.78277,ic=-.29227,$o=-.90649,ni=1.97294,xh=ni*$o,_h=ni*rc,kh=rc*ic-$o*wh;function sw(e){if(e instanceof Dn)return new Dn(e.h,e.s,e.l,e.opacity);e instanceof _e||(e=Xs(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(kh*r+xh*t-_h*n)/(kh+xh-_h),o=r-i,a=(ni*(n-i)-ic*o)/$o,s=Math.sqrt(a*a+o*o)/(ni*i*(1-i)),c=s?Math.atan2(a,o)*hh-120:NaN;return new Dn(c<0?c+360:c,s,i,e.opacity)}function _t(e,t,n,r){return arguments.length===1?sw(e):new Dn(e,t,n,r??1)}function Dn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ur(Dn,_t,ei(ln,{brighter(e){return e=e==null?fr:Math.pow(fr,e),new Dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rn:Math.pow(Rn,e),new Dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*fh,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new _e(255*(t+n*(wh*r+rc*i)),255*(t+n*(ic*r+$o*i)),255*(t+n*(ni*r)),this.opacity)}}));function cw(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function lw(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return cw((n-r/t)*t,a,i,o,s)}}const No=e=>()=>e;function Mh(e,t){return function(n){return e+n*t}}function uw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function oc(e,t){var n=t-e;return n?Mh(e,n>180||n<-180?n-360*Math.round(n/360):n):No(isNaN(e)?t:e)}function fw(e){return(e=+e)==1?Ce:function(t,n){return n-t?uw(t,n,e):No(isNaN(t)?n:t)}}function Ce(e,t){var n=t-e;return n?Mh(e,n):No(isNaN(e)?t:e)}const On=function e(t){var n=fw(t);function r(i,o){var a=n((i=un(i)).r,(o=un(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),l=Ce(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=e,r}(1);function hw(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=un(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=o(c),s+""}}}var dw=hw(lw);function pw(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function yw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gw(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ri(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function mw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Le(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function bw(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ri(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ac=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sc=new RegExp(ac.source,"g");function vw(e){return function(){return e}}function ww(e){return function(t){return e(t)+""}}function Ah(e,t){var n=ac.lastIndex=sc.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(e=e+"",t=t+"";(r=ac.exec(e))&&(i=sc.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:Le(r,i)})),n=sc.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?ww(c[0].x):vw(t):(t=c.length,function(l){for(var u=0,h;u<t;++u)s[(h=c[u]).i]=h.x(l);return s.join("")})}function ri(e,t){var n=typeof t,r;return t==null||n==="boolean"?No(t):(n==="number"?Le:n==="string"?(r=Cn(t))?(t=r,On):Ah:t instanceof Cn?On:t instanceof Date?mw:yw(t)?pw:Array.isArray(t)?gw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bw:Le)(e,t)}function cc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Eh=180/Math.PI,Th={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sh(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Eh,skewX:Math.atan(c)*Eh,scaleX:a,scaleY:s}}var Ro;function xw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Th:Sh(t.a,t.b,t.c,t.d,t.e,t.f)}function _w(e){return e==null||(Ro||(Ro=document.createElementNS("http://www.w3.org/2000/svg","g")),Ro.setAttribute("transform",e),!(e=Ro.transform.baseVal.consolidate()))?Th:(e=e.matrix,Sh(e.a,e.b,e.c,e.d,e.e,e.f))}function $h(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,u,h,f,d,y){if(l!==h||u!==f){var p=d.push("translate(",null,t,null,n);y.push({i:p-4,x:Le(l,h)},{i:p-2,x:Le(u,f)})}else(h||f)&&d.push("translate("+h+t+f+n)}function a(l,u,h,f){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Le(l,u)})):u&&h.push(i(h)+"rotate("+u+r)}function s(l,u,h,f){l!==u?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Le(l,u)}):u&&h.push(i(h)+"skewX("+u+r)}function c(l,u,h,f,d,y){if(l!==h||u!==f){var p=d.push(i(d)+"scale(",null,",",null,")");y.push({i:p-4,x:Le(l,h)},{i:p-2,x:Le(u,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(l,u){var h=[],f=[];return l=e(l),u=e(u),o(l.translateX,l.translateY,u.translateX,u.translateY,h,f),a(l.rotate,u.rotate,h,f),s(l.skewX,u.skewX,h,f),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,h,f),l=u=null,function(d){for(var y=-1,p=f.length,g;++y<p;)h[(g=f[y]).i]=g.x(d);return h.join("")}}}var kw=$h(xw,"px, ","px)","deg)"),Mw=$h(_w,", ",")",")");function Aw(e){return function(t,n){var r=e((t=Js(t)).h,(n=Js(n)).h),i=Ce(t.s,n.s),o=Ce(t.l,n.l),a=Ce(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const Ew=Aw(oc);function Tw(e,t){var n=Ce((e=Zs(e)).l,(t=Zs(t)).l),r=Ce(e.a,t.a),i=Ce(e.b,t.b),o=Ce(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function Sw(e){return function(t,n){var r=e((t=nc(t)).h,(n=nc(n)).h),i=Ce(t.c,n.c),o=Ce(t.l,n.l),a=Ce(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const $w=Sw(oc);function Nh(e){return function t(n){n=+n;function r(i,o){var a=e((i=_t(i)).h,(o=_t(o)).h),s=Ce(i.s,o.s),c=Ce(i.l,o.l),l=Ce(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=s(u),i.l=c(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=t,r}(1)}Nh(oc);var lc=Nh(Ce);function Co(e,t){t===void 0&&(t=e,e=ri);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function ut(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var pr=0,ii=0,oi=0,Rh=1e3,Lo,ai,Uo=0,jn=0,Do=0,si=typeof performance=="object"&&performance.now?performance:Date,Ch=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function uc(){return jn||(Ch(Nw),jn=si.now()+Do)}function Nw(){jn=0}function Oo(){this._call=this._time=this._next=null}Oo.prototype=Lh.prototype={constructor:Oo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?uc():+n)+(t==null?0:+t),!this._next&&ai!==this&&(ai?ai._next=this:Lo=this,ai=this),this._call=e,this._time=n,fc()},stop:function(){this._call&&(this._call=null,this._time=1/0,fc())}};function Lh(e,t,n){var r=new Oo;return r.restart(e,t,n),r}function Rw(){uc(),++pr;for(var e=Lo,t;e;)(t=jn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pr}function Uh(){jn=(Uo=si.now())+Do,pr=ii=0;try{Rw()}finally{pr=0,Lw(),jn=0}}function Cw(){var e=si.now(),t=e-Uo;t>Rh&&(Do-=t,Uo=e)}function Lw(){for(var e,t=Lo,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Lo=n);ai=e,fc(r)}function fc(e){if(!pr){ii&&(ii=clearTimeout(ii));var t=e-jn;t>24?(e<1/0&&(ii=setTimeout(Uh,e-si.now()-Do)),oi&&(oi=clearInterval(oi))):(oi||(Uo=si.now(),oi=setInterval(Cw,Rh)),pr=1,Ch(Uh))}}function Dh(e,t,n){var r=new Oo;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Uw=Wf("start","end","cancel","interrupt"),Dw=[],Oh=0,jh=1,hc=2,jo=3,Ih=4,dc=5,Io=6;function Po(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Ow(e,n,{name:t,index:r,group:i,on:Uw,tween:Dw,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Oh})}function pc(e,t){var n=ft(e,t);if(n.state>Oh)throw new Error("too late; already scheduled");return n}function kt(e,t){var n=ft(e,t);if(n.state>jo)throw new Error("too late; already running");return n}function ft(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ow(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Lh(o,0,n.time);function o(l){n.state=jh,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var u,h,f,d;if(n.state!==jh)return c();for(u in r)if(d=r[u],d.name===n.name){if(d.state===jo)return Dh(a);d.state===Ih?(d.state=Io,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[u]):+u<t&&(d.state=Io,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[u])}if(Dh(function(){n.state===jo&&(n.state=Ih,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=hc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===hc){for(n.state=jo,i=new Array(f=n.tween.length),u=0,h=-1;u<f;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=dc,1),h=-1,f=i.length;++h<f;)i[h].call(e,u);n.state===dc&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Io,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function jw(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>hc&&r.state<dc,r.state=Io,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function Iw(e){return this.each(function(){jw(this,e)})}function Pw(e,t){var n,r;return function(){var i=kt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Fw(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=kt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function Bw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ft(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Pw:Fw)(n,e,t))}function yc(e,t,n){var r=e._id;return e.each(function(){var i=kt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ft(i,r).value[t]}}function Ph(e,t){var n;return(typeof t=="number"?Le:t instanceof Cn?On:(n=Cn(t))?(t=n,On):Ah)(e,t)}function zw(e){return function(){this.removeAttribute(e)}}function Ww(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qw(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Hw(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Vw(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function Yw(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function Xw(e,t){var n=_o(e),r=n==="transform"?Mw:Ph;return this.attrTween(e,typeof t=="function"?(n.local?Yw:Vw)(n,r,yc(this,"attr."+e,t)):t==null?(n.local?Ww:zw)(n):(n.local?Hw:qw)(n,r,t))}function Jw(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Gw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Zw(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Gw(e,o)),n}return i._value=t,i}function Kw(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Jw(e,o)),n}return i._value=t,i}function Qw(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=_o(e);return this.tween(n,(r.local?Zw:Kw)(r,t))}function e6(e,t){return function(){pc(this,e).delay=+t.apply(this,arguments)}}function t6(e,t){return t=+t,function(){pc(this,e).delay=t}}function n6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?e6:t6)(t,e)):ft(this.node(),t).delay}function r6(e,t){return function(){kt(this,e).duration=+t.apply(this,arguments)}}function i6(e,t){return t=+t,function(){kt(this,e).duration=t}}function o6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?r6:i6)(t,e)):ft(this.node(),t).duration}function a6(e,t){if(typeof t!="function")throw new Error;return function(){kt(this,e).ease=t}}function s6(e){var t=this._id;return arguments.length?this.each(a6(t,e)):ft(this.node(),t).ease}function c6(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;kt(this,e).ease=n}}function l6(e){if(typeof e!="function")throw new Error;return this.each(c6(this._id,e))}function u6(e){typeof e!="function"&&(e=Vf(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,l=0;l<a;++l)(c=o[l])&&e.call(c,c.__data__,l,o)&&s.push(c);return new jt(r,this._parents,this._name,this._id)}function f6(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=t[s],l=n[s],u=c.length,h=a[s]=new Array(u),f,d=0;d<u;++d)(f=c[d]||l[d])&&(h[d]=f);for(;s<r;++s)a[s]=t[s];return new jt(a,this._parents,this._name,this._id)}function h6(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function d6(e,t,n){var r,i,o=h6(t)?pc:kt;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function p6(e,t){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(e):this.each(d6(n,e,t))}function y6(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function g6(){return this.on("end.remove",y6(this._id))}function m6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vs(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,l=o[a]=new Array(c),u,h,f=0;f<c;++f)(u=s[f])&&(h=e.call(u,u.__data__,f,s))&&("__data__"in u&&(h.__data__=u.__data__),l[f]=h,Po(l[f],t,n,f,l,ft(u,n)));return new jt(o,this._parents,t,n)}function b6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Hf(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],l=c.length,u,h=0;h<l;++h)if(u=c[h]){for(var f=e.call(u,u.__data__,h,c),d,y=ft(u,n),p=0,g=f.length;p<g;++p)(d=f[p])&&Po(d,t,n,p,f,y);o.push(f),a.push(u)}return new jt(o,a,t,n)}var v6=Qr.prototype.constructor;function w6(){return new v6(this._groups,this._parents)}function x6(e,t){var n,r,i;return function(){var o=cr(this,e),a=(this.style.removeProperty(e),cr(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Fh(e){return function(){this.style.removeProperty(e)}}function _6(e,t,n){var r,i=n+"",o;return function(){var a=cr(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function k6(e,t,n){var r,i,o;return function(){var a=cr(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),cr(this,e))),a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s))}}function M6(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var c=kt(this,e),l=c.on,u=c.value[o]==null?s||(s=Fh(t)):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(a,i=u),c.on=r}}function A6(e,t,n){var r=(e+="")=="transform"?kw:Ph;return t==null?this.styleTween(e,x6(e,r)).on("end.style."+e,Fh(e)):typeof t=="function"?this.styleTween(e,k6(e,r,yc(this,"style."+e,t))).each(M6(this._id,e)):this.styleTween(e,_6(e,r,t),n).on("end.style."+e,null)}function E6(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function T6(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&E6(e,a,n)),r}return o._value=t,o}function S6(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,T6(e,t,n??""))}function $6(e){return function(){this.textContent=e}}function N6(e){return function(){var t=e(this);this.textContent=t??""}}function R6(e){return this.tween("text",typeof e=="function"?N6(yc(this,"text",e)):$6(e==null?"":e+""))}function C6(e){return function(t){this.textContent=e.call(this,t)}}function L6(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&C6(i)),t}return r._value=e,r}function U6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,L6(e))}function D6(){for(var e=this._name,t=this._id,n=Bh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,l=0;l<s;++l)if(c=a[l]){var u=ft(c,t);Po(c,e,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new jt(r,this._parents,e,n)}function O6(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var l=kt(this,r),u=l.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),l.on=t}),i===0&&o()})}var j6=0;function jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Bh(){return++j6}var It=Qr.prototype;jt.prototype={constructor:jt,select:m6,selectAll:b6,selectChild:It.selectChild,selectChildren:It.selectChildren,filter:u6,merge:f6,selection:w6,transition:D6,call:It.call,nodes:It.nodes,node:It.node,size:It.size,empty:It.empty,each:It.each,on:p6,attr:Xw,attrTween:Qw,style:A6,styleTween:S6,text:R6,textTween:U6,remove:g6,tween:Bw,delay:n6,duration:o6,ease:s6,easeVarying:l6,end:O6,[Symbol.iterator]:It[Symbol.iterator]};function I6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var P6={time:null,delay:0,duration:250,ease:I6};function F6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function B6(e){var t,n;e instanceof jt?(t=e._id,e=e._name):(t=Bh(),(n=P6).time=uc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,l=0;l<s;++l)(c=a[l])&&Po(c,e,t,l,a,n||F6(c,t));return new jt(r,this._parents,e,t)}Qr.prototype.interrupt=Iw,Qr.prototype.transition=B6;const gc=Math.PI,mc=2*gc,In=1e-6,z6=mc-In;function zh(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function W6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zh;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Wh{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zh:W6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=r-t,l=i-n,u=a-t,h=s-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>In)if(!(Math.abs(h*c-l*u)>In)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-a,y=i-s,p=c*c+l*l,g=d*d+y*y,b=Math.sqrt(p),m=Math.sqrt(f),w=o*Math.tan((gc-Math.acos((p+f-g)/(2*b*m)))/2),v=w/m,_=w/b;Math.abs(v-1)>In&&this._append`L${t+v*u},${n+v*h}`,this._append`A${o},${o},0,0,${+(h*d>u*y)},${this._x1=t+_*c},${this._y1=n+_*l}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),c=r*Math.sin(i),l=t+s,u=n+c,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>In||Math.abs(this._y1-u)>In)&&this._append`L${l},${u}`,r&&(f<0&&(f=f%mc+mc),f>z6?this._append`A${r},${r},0,1,${h},${t-s},${n-c}A${r},${r},0,1,${h},${this._x1=l},${this._y1=u}`:f>In&&this._append`A${r},${r},0,${+(f>=gc)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Pn(e=3){return new Wh(+e)}function q6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function yr(e){return e=Fo(Math.abs(e)),e?e[1]:NaN}function H6(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function V6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Y6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ci(e){if(!(t=Y6.exec(e)))throw new Error("invalid format: "+e);var t;return new bc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ci.prototype=bc.prototype;function bc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function X6(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var qh;function J6(e,t){var n=Fo(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(qh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fo(e,Math.max(0,t+o-1))[0]}function Hh(e,t){var n=Fo(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Vh={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:q6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Hh(e*100,t),r:Hh,s:J6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yh(e){return e}var Xh=Array.prototype.map,Jh=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function G6(e){var t=e.grouping===void 0||e.thousands===void 0?Yh:H6(Xh.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Yh:V6(Xh.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(h){h=ci(h);var f=h.fill,d=h.align,y=h.sign,p=h.symbol,g=h.zero,b=h.width,m=h.comma,w=h.precision,v=h.trim,_=h.type;_==="n"?(m=!0,_="g"):Vh[_]||(w===void 0&&(w=12),v=!0,_="g"),(g||f==="0"&&d==="=")&&(g=!0,f="0",d="=");var x=p==="$"?n:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=p==="$"?r:/[%p]/.test(_)?a:"",A=Vh[_],T=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(M){var L=x,I=k,D,E,O;if(_==="c")I=A(M)+I,M="";else{M=+M;var X=M<0||1/M<0;if(M=isNaN(M)?c:A(Math.abs(M),w),v&&(M=X6(M)),X&&+M==0&&y!=="+"&&(X=!1),L=(X?y==="("?y:s:y==="-"||y==="("?"":y)+L,I=(_==="s"?Jh[8+qh/3]:"")+I+(X&&y==="("?")":""),T){for(D=-1,E=M.length;++D<E;)if(O=M.charCodeAt(D),48>O||O>57){I=(O===46?i+M.slice(D+1):M.slice(D))+I,M=M.slice(0,D);break}}}m&&!g&&(M=t(M,1/0));var V=L.length+M.length+I.length,Y=V<b?new Array(b-V+1).join(f):"";switch(m&&g&&(M=t(Y+M,Y.length?b-I.length:1/0),Y=""),d){case"<":M=L+M+I+Y;break;case"=":M=L+Y+M+I;break;case"^":M=Y.slice(0,V=Y.length>>1)+L+M+I+Y.slice(V);break;default:M=Y+L+M+I;break}return o(M)}return $.toString=function(){return h+""},$}function u(h,f){var d=l((h=ci(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(yr(f)/3)))*3,p=Math.pow(10,-y),g=Jh[8+y/3];return function(b){return d(p*b)+g}}return{format:l,formatPrefix:u}}var Bo,gr,Gh;Z6({thousands:",",grouping:[3],currency:["$",""]});function Z6(e){return Bo=G6(e),gr=Bo.format,Gh=Bo.formatPrefix,Bo}function K6(e){return Math.max(0,-yr(Math.abs(e)))}function Q6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yr(t)/3)))*3-yr(Math.abs(e)))}function ex(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yr(t)-yr(e))+1}var Z=1e-6,Zh=1e-12,te=Math.PI,pe=te/2,Kh=te/4,Je=te*2,Ie=180/te,ye=te/180,ce=Math.abs,mr=Math.atan,Pt=Math.atan2,ee=Math.cos,Qh=Math.exp,zo=Math.log,vc=Math.pow,J=Math.sin,Qe=Math.sign||function(e){return e>0?1:e<0?-1:0},We=Math.sqrt,wc=Math.tan;function ed(e){return e>1?0:e<-1?te:Math.acos(e)}function et(e){return e>1?pe:e<-1?-pe:Math.asin(e)}function tt(){}function Wo(e,t){e&&nd.hasOwnProperty(e.type)&&nd[e.type](e,t)}var td={Feature:function(e,t){Wo(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Wo(n[r].geometry,t)}},nd={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){xc(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)xc(n[r],t,0)},Polygon:function(e,t){rd(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)rd(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Wo(n[r],t)}};function xc(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function rd(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)xc(e[n],t,1);t.polygonEnd()}function Fn(e,t){e&&td.hasOwnProperty(e.type)?td[e.type](e,t):Wo(e,t)}function _c(e){return[Pt(e[1],e[0]),et(e[2])]}function br(e){var t=e[0],n=e[1],r=ee(n);return[r*ee(t),r*J(t),J(n)]}function qo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ho(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function kc(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Vo(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Mc(e){var t=We(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ac(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Ec(e,t){return ce(e)>te&&(e-=Math.round(e/Je)*Je),[e,t]}Ec.invert=Ec;function id(e,t,n){return(e%=Je)?t||n?Ac(ad(e),sd(t,n)):ad(e):t||n?sd(t,n):Ec}function od(e){return function(t,n){return t+=e,ce(t)>te&&(t-=Math.round(t/Je)*Je),[t,n]}}function ad(e){var t=od(e);return t.invert=od(-e),t}function sd(e,t){var n=ee(e),r=J(e),i=ee(t),o=J(t);function a(s,c){var l=ee(c),u=ee(s)*l,h=J(s)*l,f=J(c),d=f*n+u*r;return[Pt(h*i-d*o,u*n-f*r),et(d*i+h*o)]}return a.invert=function(s,c){var l=ee(c),u=ee(s)*l,h=J(s)*l,f=J(c),d=f*i-h*o;return[Pt(h*i+f*o,u*n+d*r),et(d*n-u*r)]},a}function tx(e){e=id(e[0]*ye,e[1]*ye,e.length>2?e[2]*ye:0);function t(n){return n=e(n[0]*ye,n[1]*ye),n[0]*=Ie,n[1]*=Ie,n}return t.invert=function(n){return n=e.invert(n[0]*ye,n[1]*ye),n[0]*=Ie,n[1]*=Ie,n},t}function nx(e,t,n,r,i,o){if(n){var a=ee(t),s=J(t),c=r*n;i==null?(i=t+r*Je,o=t-c/2):(i=cd(a,i),o=cd(a,o),(r>0?i<o:i>o)&&(i+=r*Je));for(var l,u=i;r>0?u>o:u<o;u-=c)l=_c([a,-s*ee(u),-s*J(u)]),e.point(l[0],l[1])}}function cd(e,t){t=br(t),t[0]-=e,Mc(t);var n=ed(-t[1]);return((-t[2]<0?-n:n)+Je-Z)%Je}function ld(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:tt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Yo(e,t){return ce(e[0]-t[0])<Z&&ce(e[1]-t[1])<Z}function Xo(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ud(e,t,n,r,i){var o=[],a=[],s,c;if(e.forEach(function(y){if(!((p=y.length-1)<=0)){var p,g=y[0],b=y[p],m;if(Yo(g,b)){if(!g[2]&&!b[2]){for(i.lineStart(),s=0;s<p;++s)i.point((g=y[s])[0],g[1]);i.lineEnd();return}b[0]+=2*Z}o.push(m=new Xo(g,y,null,!0)),a.push(m.o=new Xo(g,null,m,!1)),o.push(m=new Xo(b,y,null,!1)),a.push(m.o=new Xo(b,null,m,!0))}}),!!o.length){for(a.sort(t),fd(o),fd(a),s=0,c=a.length;s<c;++s)a[s].e=n=!n;for(var l=o[0],u,h;;){for(var f=l,d=!0;f.v;)if((f=f.n)===l)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,c=u.length;s<c;++s)i.point((h=u[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(u=f.p.z,s=u.length-1;s>=0;--s)i.point((h=u[s])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,d=!d}while(!f.v);i.lineEnd()}}}function fd(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Tc(e){return ce(e[0])<=te?e[0]:Qe(e[0])*((ce(e[0])+te)%Je-te)}function rx(e,t){var n=Tc(t),r=t[1],i=J(r),o=[J(n),-ee(n),0],a=0,s=0,c=new $n;i===1?r=pe+Z:i===-1&&(r=-pe-Z);for(var l=0,u=e.length;l<u;++l)if(f=(h=e[l]).length)for(var h,f,d=h[f-1],y=Tc(d),p=d[1]/2+Kh,g=J(p),b=ee(p),m=0;m<f;++m,y=v,g=x,b=k,d=w){var w=h[m],v=Tc(w),_=w[1]/2+Kh,x=J(_),k=ee(_),A=v-y,T=A>=0?1:-1,$=T*A,M=$>te,L=g*x;if(c.add(Pt(L*T*J($),b*k+L*ee($))),a+=M?A+T*Je:A,M^y>=n^v>=n){var I=Ho(br(d),br(w));Mc(I);var D=Ho(o,I);Mc(D);var E=(M^A>=0?-1:1)*et(D[2]);(r>E||r===E&&(I[0]||I[1]))&&(s+=M^A>=0?1:-1)}}return(a<-Z||a<Z&&c<-Zh)^s&1}function hd(e,t,n,r){return function(i){var o=t(i),a=ld(),s=t(a),c=!1,l,u,h,f={point:d,lineStart:p,lineEnd:g,polygonStart:function(){f.point=b,f.lineStart=m,f.lineEnd=w,u=[],l=[]},polygonEnd:function(){f.point=d,f.lineStart=p,f.lineEnd=g,u=Bf(u);var v=rx(l,r);u.length?(c||(i.polygonStart(),c=!0),ud(u,ox,v,n,i)):v&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(v,_){e(v,_)&&i.point(v,_)}function y(v,_){o.point(v,_)}function p(){f.point=y,o.lineStart()}function g(){f.point=d,o.lineEnd()}function b(v,_){h.push([v,_]),s.point(v,_)}function m(){s.lineStart(),h=[]}function w(){b(h[0][0],h[0][1]),s.lineEnd();var v=s.clean(),_=a.result(),x,k=_.length,A,T,$;if(h.pop(),l.push(h),h=null,!!k){if(v&1){if(T=_[0],(A=T.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<A;++x)i.point(($=T[x])[0],$[1]);i.lineEnd()}return}k>1&&v&2&&_.push(_.pop().concat(_.shift())),u.push(_.filter(ix))}}return f}}function ix(e){return e.length>1}function ox(e,t){return((e=e.x)[0]<0?e[1]-pe-Z:pe-e[1])-((t=t.x)[0]<0?t[1]-pe-Z:pe-t[1])}const dd=hd(function(){return!0},ax,cx,[-te,-pe]);function ax(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?te:-te,c=ce(o-t);ce(c-te)<Z?(e.point(t,n=(n+a)/2>0?pe:-pe),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),i=0):r!==s&&c>=te&&(ce(t-r)<Z&&(t-=r*Z),ce(o-s)<Z&&(o-=s*Z),n=sx(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=o,n=a),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function sx(e,t,n,r){var i,o,a=J(e-n);return ce(a)>Z?mr((J(t)*(o=ee(r))*J(n)-J(r)*(i=ee(t))*J(e))/(i*o*a)):(t+r)/2}function cx(e,t,n,r){var i;if(e==null)i=n*pe,r.point(-te,i),r.point(0,i),r.point(te,i),r.point(te,0),r.point(te,-i),r.point(0,-i),r.point(-te,-i),r.point(-te,0),r.point(-te,i);else if(ce(e[0]-t[0])>Z){var o=e[0]<t[0]?te:-te;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function lx(e){var t=ee(e),n=2*ye,r=t>0,i=ce(t)>Z;function o(u,h,f,d){nx(d,e,n,f,u,h)}function a(u,h){return ee(u)*ee(h)>t}function s(u){var h,f,d,y,p;return{lineStart:function(){y=d=!1,p=1},point:function(g,b){var m=[g,b],w,v=a(g,b),_=r?v?0:l(g,b):v?l(g+(g<0?te:-te),b):0;if(!h&&(y=d=v)&&u.lineStart(),v!==d&&(w=c(h,m),(!w||Yo(h,w)||Yo(m,w))&&(m[2]=1)),v!==d)p=0,v?(u.lineStart(),w=c(m,h),u.point(w[0],w[1])):(w=c(h,m),u.point(w[0],w[1],2),u.lineEnd()),h=w;else if(i&&h&&r^v){var x;!(_&f)&&(x=c(m,h,!0))&&(p=0,r?(u.lineStart(),u.point(x[0][0],x[0][1]),u.point(x[1][0],x[1][1]),u.lineEnd()):(u.point(x[1][0],x[1][1]),u.lineEnd(),u.lineStart(),u.point(x[0][0],x[0][1],3)))}v&&(!h||!Yo(h,m))&&u.point(m[0],m[1]),h=m,d=v,f=_},lineEnd:function(){d&&u.lineEnd(),h=null},clean:function(){return p|(y&&d)<<1}}}function c(u,h,f){var d=br(u),y=br(h),p=[1,0,0],g=Ho(d,y),b=qo(g,g),m=g[0],w=b-m*m;if(!w)return!f&&u;var v=t*b/w,_=-t*m/w,x=Ho(p,g),k=Vo(p,v),A=Vo(g,_);kc(k,A);var T=x,$=qo(k,T),M=qo(T,T),L=$*$-M*(qo(k,k)-1);if(!(L<0)){var I=We(L),D=Vo(T,(-$-I)/M);if(kc(D,k),D=_c(D),!f)return D;var E=u[0],O=h[0],X=u[1],V=h[1],Y;O<E&&(Y=E,E=O,O=Y);var U=O-E,F=ce(U-te)<Z,j=F||U<Z;if(!F&&V<X&&(Y=X,X=V,V=Y),j?F?X+V>0^D[1]<(ce(D[0]-E)<Z?X:V):X<=D[1]&&D[1]<=V:U>te^(E<=D[0]&&D[0]<=O)){var B=Vo(T,(-$+I)/M);return kc(B,k),[D,_c(B)]}}}function l(u,h){var f=r?e:te-e,d=0;return u<-f?d|=1:u>f&&(d|=2),h<-f?d|=4:h>f&&(d|=8),d}return hd(a,s,o,r?[0,-e]:[-te,e-te])}function ux(e,t,n,r,i,o){var a=e[0],s=e[1],c=t[0],l=t[1],u=0,h=1,f=c-a,d=l-s,y;if(y=n-a,!(!f&&y>0)){if(y/=f,f<0){if(y<u)return;y<h&&(h=y)}else if(f>0){if(y>h)return;y>u&&(u=y)}if(y=i-a,!(!f&&y<0)){if(y/=f,f<0){if(y>h)return;y>u&&(u=y)}else if(f>0){if(y<u)return;y<h&&(h=y)}if(y=r-s,!(!d&&y>0)){if(y/=d,d<0){if(y<u)return;y<h&&(h=y)}else if(d>0){if(y>h)return;y>u&&(u=y)}if(y=o-s,!(!d&&y<0)){if(y/=d,d<0){if(y>h)return;y>u&&(u=y)}else if(d>0){if(y<u)return;y<h&&(h=y)}return u>0&&(e[0]=a+u*f,e[1]=s+u*d),h<1&&(t[0]=a+h*f,t[1]=s+h*d),!0}}}}}var li=1e9,Jo=-li;function pd(e,t,n,r){function i(l,u){return e<=l&&l<=n&&t<=u&&u<=r}function o(l,u,h,f){var d=0,y=0;if(l==null||(d=a(l,h))!==(y=a(u,h))||c(l,u)<0^h>0)do f.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+h+4)%4)!==y);else f.point(u[0],u[1])}function a(l,u){return ce(l[0]-e)<Z?u>0?0:3:ce(l[0]-n)<Z?u>0?2:1:ce(l[1]-t)<Z?u>0?1:0:u>0?3:2}function s(l,u){return c(l.x,u.x)}function c(l,u){var h=a(l,1),f=a(u,1);return h!==f?h-f:h===0?u[1]-l[1]:h===1?l[0]-u[0]:h===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,h=ld(),f,d,y,p,g,b,m,w,v,_,x,k={point:A,lineStart:L,lineEnd:I,polygonStart:$,polygonEnd:M};function A(E,O){i(E,O)&&u.point(E,O)}function T(){for(var E=0,O=0,X=d.length;O<X;++O)for(var V=d[O],Y=1,U=V.length,F=V[0],j,B,ne=F[0],re=F[1];Y<U;++Y)j=ne,B=re,F=V[Y],ne=F[0],re=F[1],B<=r?re>r&&(ne-j)*(r-B)>(re-B)*(e-j)&&++E:re<=r&&(ne-j)*(r-B)<(re-B)*(e-j)&&--E;return E}function $(){u=h,f=[],d=[],x=!0}function M(){var E=T(),O=x&&E,X=(f=Bf(f)).length;(O||X)&&(l.polygonStart(),O&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),X&&ud(f,s,E,o,l),l.polygonEnd()),u=l,f=d=y=null}function L(){k.point=D,d&&d.push(y=[]),_=!0,v=!1,m=w=NaN}function I(){f&&(D(p,g),b&&v&&h.rejoin(),f.push(h.result())),k.point=A,v&&u.lineEnd()}function D(E,O){var X=i(E,O);if(d&&y.push([E,O]),_)p=E,g=O,b=X,_=!1,X&&(u.lineStart(),u.point(E,O));else if(X&&v)u.point(E,O);else{var V=[m=Math.max(Jo,Math.min(li,m)),w=Math.max(Jo,Math.min(li,w))],Y=[E=Math.max(Jo,Math.min(li,E)),O=Math.max(Jo,Math.min(li,O))];ux(V,Y,e,t,n,r)?(v||(u.lineStart(),u.point(V[0],V[1])),u.point(Y[0],Y[1]),X||u.lineEnd(),x=!1):X&&(u.lineStart(),u.point(E,O),x=!1)}m=E,w=O,v=X}return k}}const Sc=e=>e;var $c=new $n,Nc=new $n,yd,gd,Rc,Cc,fn={point:tt,lineStart:tt,lineEnd:tt,polygonStart:function(){fn.lineStart=fx,fn.lineEnd=dx},polygonEnd:function(){fn.lineStart=fn.lineEnd=fn.point=tt,$c.add(ce(Nc)),Nc=new $n},result:function(){var e=$c/2;return $c=new $n,e}};function fx(){fn.point=hx}function hx(e,t){fn.point=md,yd=Rc=e,gd=Cc=t}function md(e,t){Nc.add(Cc*e-Rc*t),Rc=e,Cc=t}function dx(){md(yd,gd)}const bd=fn;var vr=1/0,Go=vr,ui=-vr,Zo=ui,px={point:yx,lineStart:tt,lineEnd:tt,polygonStart:tt,polygonEnd:tt,result:function(){var e=[[vr,Go],[ui,Zo]];return ui=Zo=-(Go=vr=1/0),e}};function yx(e,t){e<vr&&(vr=e),e>ui&&(ui=e),t<Go&&(Go=t),t>Zo&&(Zo=t)}const Ko=px;var Lc=0,Uc=0,fi=0,Qo=0,ea=0,wr=0,Dc=0,Oc=0,hi=0,vd,wd,Mt,At,ht={point:Bn,lineStart:xd,lineEnd:_d,polygonStart:function(){ht.lineStart=bx,ht.lineEnd=vx},polygonEnd:function(){ht.point=Bn,ht.lineStart=xd,ht.lineEnd=_d},result:function(){var e=hi?[Dc/hi,Oc/hi]:wr?[Qo/wr,ea/wr]:fi?[Lc/fi,Uc/fi]:[NaN,NaN];return Lc=Uc=fi=Qo=ea=wr=Dc=Oc=hi=0,e}};function Bn(e,t){Lc+=e,Uc+=t,++fi}function xd(){ht.point=gx}function gx(e,t){ht.point=mx,Bn(Mt=e,At=t)}function mx(e,t){var n=e-Mt,r=t-At,i=We(n*n+r*r);Qo+=i*(Mt+e)/2,ea+=i*(At+t)/2,wr+=i,Bn(Mt=e,At=t)}function _d(){ht.point=Bn}function bx(){ht.point=wx}function vx(){kd(vd,wd)}function wx(e,t){ht.point=kd,Bn(vd=Mt=e,wd=At=t)}function kd(e,t){var n=e-Mt,r=t-At,i=We(n*n+r*r);Qo+=i*(Mt+e)/2,ea+=i*(At+t)/2,wr+=i,i=At*e-Mt*t,Dc+=i*(Mt+e),Oc+=i*(At+t),hi+=i*3,Bn(Mt=e,At=t)}const Md=ht;function Ad(e){this._context=e}Ad.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Je);break}}},result:tt};var jc=new $n,Ic,Ed,Td,di,pi,ta={point:tt,lineStart:function(){ta.point=xx},lineEnd:function(){Ic&&Sd(Ed,Td),ta.point=tt},polygonStart:function(){Ic=!0},polygonEnd:function(){Ic=null},result:function(){var e=+jc;return jc=new $n,e}};function xx(e,t){ta.point=Sd,Ed=di=e,Td=pi=t}function Sd(e,t){di-=e,pi-=t,jc.add(We(di*di+pi*pi)),di=e,pi=t}const $d=ta;let Nd,na,Rd,Cd;class Ld{constructor(t){this._append=t==null?Ud:_x(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Rd||this._append!==na){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Rd=r,na=this._append,Cd=this._,this._=i}this._+=Cd;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Ud(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _x(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Ud;if(t!==Nd){const n=10**t;Nd=t,na=function(r){let i=1;this._+=r[0];for(const o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}return na}function ra(e,t){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Fn(s,i(o))),o.result()}return a.area=function(s){return Fn(s,i(bd)),bd.result()},a.measure=function(s){return Fn(s,i($d)),$d.result()},a.bounds=function(s){return Fn(s,i(Ko)),Ko.result()},a.centroid=function(s){return Fn(s,i(Md)),Md.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,Sc):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new Ld(n)):new Ad(t=s),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);n=c}return t===null&&(o=new Ld(n)),a},a.projection(e).digits(n).context(t)}function Pc(e){return{stream:ia(e)}}function ia(e){return function(t){var n=new Fc;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Fc(){}Fc.prototype={constructor:Fc,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Bc(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Fn(n,e.stream(Ko)),t(Ko.result()),r!=null&&e.clipExtent(r),e}function zc(e,t,n){return Bc(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,c])},n)}function Dd(e,t,n){return zc(e,[[0,0],t],n)}function Od(e,t,n){return Bc(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];e.scale(150*o).translate([a,s])},n)}function jd(e,t,n){return Bc(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var Id=16,kx=ee(30*ye);function Pd(e,t){return+t?Ax(e,t):Mx(e)}function Mx(e){return ia({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Ax(e,t){function n(r,i,o,a,s,c,l,u,h,f,d,y,p,g){var b=l-r,m=u-i,w=b*b+m*m;if(w>4*t&&p--){var v=a+f,_=s+d,x=c+y,k=We(v*v+_*_+x*x),A=et(x/=k),T=ce(ce(x)-1)<Z||ce(o-h)<Z?(o+h)/2:Pt(_,v),$=e(T,A),M=$[0],L=$[1],I=M-r,D=L-i,E=m*I-b*D;(E*E/w>t||ce((b*I+m*D)/w-.5)>.3||a*f+s*d+c*y<kx)&&(n(r,i,o,a,s,c,M,L,T,v/=k,_/=k,x,p,g),g.point(M,L),n(M,L,T,v,_,x,l,u,h,f,d,y,p,g))}}return function(r){var i,o,a,s,c,l,u,h,f,d,y,p,g={point:b,lineStart:m,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=_},polygonEnd:function(){r.polygonEnd(),g.lineStart=m}};function b(A,T){A=e(A,T),r.point(A[0],A[1])}function m(){h=NaN,g.point=w,r.lineStart()}function w(A,T){var $=br([A,T]),M=e(A,T);n(h,f,u,d,y,p,h=M[0],f=M[1],u=A,d=$[0],y=$[1],p=$[2],Id,r),r.point(h,f)}function v(){g.point=b,r.lineEnd()}function _(){m(),g.point=x,g.lineEnd=k}function x(A,T){w(i=A,T),o=h,a=f,s=d,c=y,l=p,g.point=w}function k(){n(h,f,u,d,y,p,o,a,i,s,c,l,Id,r),g.lineEnd=v,v()}return g}}var Ex=ia({point:function(e,t){this.stream.point(e*ye,t*ye)}});function Tx(e){return ia({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Sx(e,t,n,r,i){function o(a,s){return a*=r,s*=i,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},o}function Fd(e,t,n,r,i,o){if(!o)return Sx(e,t,n,r,i);var a=ee(o),s=J(o),c=a*e,l=s*e,u=a/e,h=s/e,f=(s*n-a*t)/e,d=(s*t+a*n)/e;function y(p,g){return p*=r,g*=i,[c*p-l*g+t,n-l*p-c*g]}return y.invert=function(p,g){return[r*(u*p-h*g+f),i*(d-h*p-u*g)]},y}function hn(e){return Bd(function(){return e})()}function Bd(e){var t,n=150,r=480,i=250,o=0,a=0,s=0,c=0,l=0,u,h=0,f=1,d=1,y=null,p=dd,g=null,b,m,w,v=Sc,_=.5,x,k,A,T,$;function M(E){return A(E[0]*ye,E[1]*ye)}function L(E){return E=A.invert(E[0],E[1]),E&&[E[0]*Ie,E[1]*Ie]}M.stream=function(E){return T&&$===E?T:T=Ex(Tx(u)(p(x(v($=E)))))},M.preclip=function(E){return arguments.length?(p=E,y=void 0,D()):p},M.postclip=function(E){return arguments.length?(v=E,g=b=m=w=null,D()):v},M.clipAngle=function(E){return arguments.length?(p=+E?lx(y=E*ye):(y=null,dd),D()):y*Ie},M.clipExtent=function(E){return arguments.length?(v=E==null?(g=b=m=w=null,Sc):pd(g=+E[0][0],b=+E[0][1],m=+E[1][0],w=+E[1][1]),D()):g==null?null:[[g,b],[m,w]]},M.scale=function(E){return arguments.length?(n=+E,I()):n},M.translate=function(E){return arguments.length?(r=+E[0],i=+E[1],I()):[r,i]},M.center=function(E){return arguments.length?(o=E[0]%360*ye,a=E[1]%360*ye,I()):[o*Ie,a*Ie]},M.rotate=function(E){return arguments.length?(s=E[0]%360*ye,c=E[1]%360*ye,l=E.length>2?E[2]%360*ye:0,I()):[s*Ie,c*Ie,l*Ie]},M.angle=function(E){return arguments.length?(h=E%360*ye,I()):h*Ie},M.reflectX=function(E){return arguments.length?(f=E?-1:1,I()):f<0},M.reflectY=function(E){return arguments.length?(d=E?-1:1,I()):d<0},M.precision=function(E){return arguments.length?(x=Pd(k,_=E*E),D()):We(_)},M.fitExtent=function(E,O){return zc(M,E,O)},M.fitSize=function(E,O){return Dd(M,E,O)},M.fitWidth=function(E,O){return Od(M,E,O)},M.fitHeight=function(E,O){return jd(M,E,O)};function I(){var E=Fd(n,0,0,f,d,h).apply(null,t(o,a)),O=Fd(n,r-E[0],i-E[1],f,d,h);return u=id(s,c,l),k=Ac(t,O),A=Ac(u,k),x=Pd(k,_),D()}function D(){return T=$=null,M}return function(){return t=e.apply(this,arguments),M.invert=t.invert&&L,I()}}function Wc(e){var t=0,n=te/3,r=Bd(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*ye,n=o[1]*ye):[t*Ie,n*Ie]},i}function $x(e){var t=ee(e);function n(r,i){return[r*t,J(i)/t]}return n.invert=function(r,i){return[r/t,et(i*t)]},n}function Nx(e,t){var n=J(e),r=(n+J(t))/2;if(ce(r)<Z)return $x(e);var i=1+n*(2*r-n),o=We(i)/r;function a(s,c){var l=We(i-2*r*J(c))/r;return[l*J(s*=r),o-l*ee(s)]}return a.invert=function(s,c){var l=o-c,u=Pt(s,ce(l))*Qe(l);return l*r<0&&(u-=te*Qe(s)*Qe(l)),[u/r,et((i-(s*s+l*l)*r*r)/(2*r))]},a}function oa(){return Wc(Nx).scale(155.424).center([0,33.6442])}function zd(){return oa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Rx(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Cx(){var e,t,n=zd(),r,i=oa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=oa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,l={point:function(f,d){c=[f,d]}};function u(f){var d=f[0],y=f[1];return c=null,r.point(d,y),c||(o.point(d,y),c)||(s.point(d,y),c)}u.invert=function(f){var d=n.scale(),y=n.translate(),p=(f[0]-y[0])/d,g=(f[1]-y[1])/d;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?i:g>=.166&&g<.234&&p>=-.214&&p<-.115?a:n).invert(f)},u.stream=function(f){return e&&t===f?e:e=Rx([n.stream(t=f),i.stream(f),a.stream(f)])},u.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),a.precision(f),h()):n.precision()},u.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),a.scale(f),u.translate(n.translate())):n.scale()},u.translate=function(f){if(!arguments.length)return n.translate();var d=n.scale(),y=+f[0],p=+f[1];return r=n.translate(f).clipExtent([[y-.455*d,p-.238*d],[y+.455*d,p+.238*d]]).stream(l),o=i.translate([y-.307*d,p+.201*d]).clipExtent([[y-.425*d+Z,p+.12*d+Z],[y-.214*d-Z,p+.234*d-Z]]).stream(l),s=a.translate([y-.205*d,p+.212*d]).clipExtent([[y-.214*d+Z,p+.166*d+Z],[y-.115*d-Z,p+.234*d-Z]]).stream(l),h()},u.fitExtent=function(f,d){return zc(u,f,d)},u.fitSize=function(f,d){return Dd(u,f,d)},u.fitWidth=function(f,d){return Od(u,f,d)},u.fitHeight=function(f,d){return jd(u,f,d)};function h(){return e=t=null,u}return u.scale(1070)}function Wd(e){return function(t,n){var r=ee(t),i=ee(n),o=e(r*i);return o===1/0?[2,0]:[o*i*J(t),o*J(n)]}}function yi(e){return function(t,n){var r=We(t*t+n*n),i=e(r),o=J(i),a=ee(i);return[Pt(t*o,r*a),et(r&&n*o/r)]}}var qd=Wd(function(e){return We(2/(1+e))});qd.invert=yi(function(e){return 2*et(e/2)});function Lx(){return hn(qd).scale(124.75).clipAngle(180-.001)}var Hd=Wd(function(e){return(e=ed(e))&&e/J(e)});Hd.invert=yi(function(e){return e});function Ux(){return hn(Hd).scale(79.4188).clipAngle(180-.001)}function aa(e,t){return[e,zo(wc((pe+t)/2))]}aa.invert=function(e,t){return[e,2*mr(Qh(t))-pe]};function Dx(){return Vd(aa).scale(961/Je)}function Vd(e){var t=hn(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,s,c,l;t.scale=function(h){return arguments.length?(r(h),u()):r()},t.translate=function(h){return arguments.length?(i(h),u()):i()},t.center=function(h){return arguments.length?(n(h),u()):n()},t.clipExtent=function(h){return arguments.length?(h==null?a=s=c=l=null:(a=+h[0][0],s=+h[0][1],c=+h[1][0],l=+h[1][1]),u()):a==null?null:[[a,s],[c,l]]};function u(){var h=te*r(),f=t(tx(t.rotate()).invert([0,0]));return o(a==null?[[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]]:e===aa?[[Math.max(f[0]-h,a),s],[Math.min(f[0]+h,c),l]]:[[a,Math.max(f[1]-h,s)],[c,Math.min(f[1]+h,l)]])}return u()}function sa(e){return wc((pe+e)/2)}function Ox(e,t){var n=ee(e),r=e===t?J(e):zo(n/ee(t))/zo(sa(t)/sa(e)),i=n*vc(sa(e),r)/r;if(!r)return aa;function o(a,s){i>0?s<-pe+Z&&(s=-pe+Z):s>pe-Z&&(s=pe-Z);var c=i/vc(sa(s),r);return[c*J(r*a),i-c*ee(r*a)]}return o.invert=function(a,s){var c=i-s,l=Qe(r)*We(a*a+c*c),u=Pt(a,ce(c))*Qe(c);return c*r<0&&(u-=te*Qe(a)*Qe(c)),[u/r,2*mr(vc(i/l,1/r))-pe]},o}function jx(){return Wc(Ox).scale(109.5).parallels([30,30])}function ca(e,t){return[e,t]}ca.invert=ca;function Ix(){return hn(ca).scale(152.63)}function Px(e,t){var n=ee(e),r=e===t?J(e):(n-ee(t))/(t-e),i=n/r+e;if(ce(r)<Z)return ca;function o(a,s){var c=i-s,l=r*a;return[c*J(l),i-c*ee(l)]}return o.invert=function(a,s){var c=i-s,l=Pt(a,ce(c))*Qe(c);return c*r<0&&(l-=te*Qe(a)*Qe(c)),[l/r,i-Qe(r)*We(a*a+c*c)]},o}function Fx(){return Wc(Px).scale(131.154).center([0,13.9389])}var gi=1.340264,mi=-.081106,bi=893e-6,vi=.003796,la=We(3)/2,Bx=12;function Yd(e,t){var n=et(la*J(t)),r=n*n,i=r*r*r;return[e*ee(n)/(la*(gi+3*mi*r+i*(7*bi+9*vi*r))),n*(gi+mi*r+i*(bi+vi*r))]}Yd.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,s,c;o<Bx&&(s=n*(gi+mi*r+i*(bi+vi*r))-t,c=gi+3*mi*r+i*(7*bi+9*vi*r),n-=a=s/c,r=n*n,i=r*r*r,!(ce(a)<Zh));++o);return[la*e*(gi+3*mi*r+i*(7*bi+9*vi*r))/ee(n),et(J(n)/la)]};function zx(){return hn(Yd).scale(177.158)}function Xd(e,t){var n=ee(t),r=ee(e)*n;return[n*J(e)/r,J(t)/r]}Xd.invert=yi(mr);function Wx(){return hn(Xd).scale(144.049).clipAngle(60)}function Jd(e,t){return[ee(t)*J(e),J(t)]}Jd.invert=yi(et);function qx(){return hn(Jd).scale(249.5).clipAngle(90+Z)}function Gd(e,t){var n=ee(t),r=1+ee(e)*n;return[n*J(e)/r,J(t)/r]}Gd.invert=yi(function(e){return 2*mr(e)});function Hx(){return hn(Gd).scale(250).clipAngle(142)}function Zd(e,t){return[zo(wc((pe+t)/2)),-e]}Zd.invert=function(e,t){return[-t,2*mr(Qh(e))-pe]};function Vx(){var e=Vd(Zd),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Et(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qc=Symbol("implicit");function Hc(){var e=new Nn,t=[],n=[],r=qc;function i(o){let a=e.get(o);if(a===void 0){if(r!==qc)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Nn;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Hc(t,n).unknown(r)},Et.apply(i,arguments),i}function fa(){var e=Hc().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,c=0,l=0,u=.5;delete e.unknown;function h(){var f=t().length,d=i<r,y=d?i:r,p=d?r:i;o=(p-y)/Math.max(1,f-c+l*2),s&&(o=Math.floor(o)),y+=(p-y-o*(f-c))*u,a=o*(1-c),s&&(y=Math.round(y),a=Math.round(a));var g=Bs(f).map(function(b){return y+o*b});return n(d?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(f){return arguments.length?(s=!!f,h()):s},e.padding=function(f){return arguments.length?(c=Math.min(1,l=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(l=+f,h()):l},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},e.copy=function(){return fa(t(),[r,i]).round(s).paddingInner(c).paddingOuter(l).align(u)},Et.apply(h(),arguments)}function Kd(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Kd(t())},e}function Yx(){return Kd(fa.apply(null,arguments).paddingInner(1))}function Xx(e){return function(){return e}}function Vc(e){return+e}var Qd=[0,1];function nt(e){return e}function Yc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Xx(isNaN(t)?NaN:.5)}function Jx(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Gx(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Yc(i,r),o=n(a,o)):(r=Yc(r,i),o=n(o,a)),function(s){return o(r(s))}}function Zx(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Yc(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var c=fo(e,s,1,r)-1;return o[c](i[c](s))}}function wi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ha(){var e=Qd,t=Qd,n=ri,r,i,o,a=nt,s,c,l;function u(){var f=Math.min(e.length,t.length);return a!==nt&&(a=Jx(e[0],e[f-1])),s=f>2?Zx:Gx,c=l=null,h}function h(f){return f==null||isNaN(f=+f)?o:(c||(c=s(e.map(r),t,n)))(r(a(f)))}return h.invert=function(f){return a(i((l||(l=s(t,e.map(r),Le)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,Vc),u()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=cc,u()},h.clamp=function(f){return arguments.length?(a=f?!0:nt,u()):a!==nt},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,d){return r=f,i=d,u()}}function e0(){return ha()(nt,nt)}function Kx(e,t,n,r){var i=Ps(e,t,n),o;switch(r=ci(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Q6(i,a))&&(r.precision=o),Gh(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ex(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=K6(i))&&(r.precision=o-(r.type==="%")*2);break}}return gr(r)}function xi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Zr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Kx(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],c,l,u=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);u-- >0;){if(l=bo(a,s,n),l===c)return r[i]=a,r[o]=s,t(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function Xc(){var e=e0();return e.copy=function(){return wi(e,Xc())},Et.apply(e,arguments),xi(e)}function t0(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Vc),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return t0(e).unknown(t)},e=arguments.length?Array.from(e,Vc):[0,1],xi(n)}function n0(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function r0(e){return Math.log(e)}function i0(e){return Math.exp(e)}function Qx(e){return-Math.log(-e)}function e_(e){return-Math.exp(-e)}function t_(e){return isFinite(e)?+("1e"+e):e<0?0:e}function n_(e){return e===10?t_:e===Math.E?Math.exp:t=>Math.pow(e,t)}function r_(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function o0(e){return(t,n)=>-e(-t,n)}function a0(e){const t=e(r0,i0),n=t.domain;let r=10,i,o;function a(){return i=r_(r),o=n_(r),n()[0]<0?(i=o0(i),o=o0(o),e(Qx,e_)):e(r0,i0),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const c=n();let l=c[0],u=c[c.length-1];const h=u<l;h&&([l,u]=[u,l]);let f=i(l),d=i(u),y,p;const g=s==null?10:+s;let b=[];if(!(r%1)&&d-f<g){if(f=Math.floor(f),d=Math.ceil(d),l>0){for(;f<=d;++f)for(y=1;y<r;++y)if(p=f<0?y/o(-f):y*o(f),!(p<l)){if(p>u)break;b.push(p)}}else for(;f<=d;++f)for(y=r-1;y>=1;--y)if(p=f>0?y/o(-f):y*o(f),!(p<l)){if(p>u)break;b.push(p)}b.length*2<g&&(b=Zr(l,u,g))}else b=Zr(f,d,Math.min(d-f,g)).map(o);return h?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ci(c)).precision==null&&(c.trim=!0),c=gr(c)),s===1/0)return c;const l=Math.max(1,r*s/t.ticks().length);return u=>{let h=u/o(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=l?c(u):""}},t.nice=()=>n(n0(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function s0(){const e=a0(ha()).domain([1,10]);return e.copy=()=>wi(e,s0()).base(e.base()),Et.apply(e,arguments),e}function c0(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function l0(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u0(e){var t=1,n=e(c0(t),l0(t));return n.constant=function(r){return arguments.length?e(c0(t=+r),l0(t)):t},xi(n)}function f0(){var e=u0(ha());return e.copy=function(){return wi(e,f0()).constant(e.constant())},Et.apply(e,arguments)}function h0(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function i_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function o_(e){return e<0?-e*e:e*e}function d0(e){var t=e(nt,nt),n=1;function r(){return n===1?e(nt,nt):n===.5?e(i_,o_):e(h0(n),h0(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},xi(t)}function p0(){var e=d0(ha());return e.copy=function(){return wi(e,p0()).exponent(e.exponent())},Et.apply(e,arguments),e}function y0(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=Zb(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[fo(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ze),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return y0().domain(e).range(t).unknown(r)},Et.apply(o,arguments)}function g0(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[fo(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return g0().domain(e).range(t).unknown(n)},Et.apply(i,arguments)}const Jc=new Date,Gc=new Date;function we(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const c=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<a);return c},i.filter=o=>we(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Jc.setTime(+o),Gc.setTime(+a),e(Jc),e(Gc),Math.floor(n(Jc,Gc))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const da=we(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);da.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?we(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):da),da.range;const Ft=1e3,rt=Ft*60,Bt=rt*60,zt=Bt*24,Zc=zt*7,m0=zt*30,Kc=zt*365,dt=we(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ft)},(e,t)=>(t-e)/Ft,e=>e.getUTCSeconds());dt.range;const _i=we(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ft)},(e,t)=>{e.setTime(+e+t*rt)},(e,t)=>(t-e)/rt,e=>e.getMinutes());_i.range;const ki=we(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rt)},(e,t)=>(t-e)/rt,e=>e.getUTCMinutes());ki.range;const Mi=we(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ft-e.getMinutes()*rt)},(e,t)=>{e.setTime(+e+t*Bt)},(e,t)=>(t-e)/Bt,e=>e.getHours());Mi.range;const Ai=we(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bt)},(e,t)=>(t-e)/Bt,e=>e.getUTCHours());Ai.range;const zn=we(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rt)/zt,e=>e.getDate()-1);zn.range;const pa=we(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zt,e=>e.getUTCDate()-1);pa.range;const ya=we(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zt,e=>Math.floor(e/zt));ya.range;function Wn(e){return we(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*rt)/Zc)}const xr=Wn(0),Ei=Wn(1),b0=Wn(2),v0=Wn(3),qn=Wn(4),w0=Wn(5),x0=Wn(6);xr.range,Ei.range,b0.range,v0.range,qn.range,w0.range,x0.range;function Hn(e){return we(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Zc)}const _r=Hn(0),Ti=Hn(1),_0=Hn(2),k0=Hn(3),Vn=Hn(4),M0=Hn(5),A0=Hn(6);_r.range,Ti.range,_0.range,k0.range,Vn.range,M0.range,A0.range;const Si=we(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Si.range;const $i=we(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$i.range;const pt=we(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:we(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}),pt.range;const yt=we(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:we(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}),yt.range;function E0(e,t,n,r,i,o){const a=[[dt,1,Ft],[dt,5,5*Ft],[dt,15,15*Ft],[dt,30,30*Ft],[o,1,rt],[o,5,5*rt],[o,15,15*rt],[o,30,30*rt],[i,1,Bt],[i,3,3*Bt],[i,6,6*Bt],[i,12,12*Bt],[r,1,zt],[r,2,2*zt],[n,1,Zc],[t,1,m0],[t,3,3*m0],[e,1,Kc]];function s(l,u,h){const f=u<l;f&&([l,u]=[u,l]);const d=h&&typeof h.range=="function"?h:c(l,u,h),y=d?d.range(l,+u+1):[];return f?y.reverse():y}function c(l,u,h){const f=Math.abs(u-l)/h,d=uo(([,,g])=>g).right(a,f);if(d===a.length)return e.every(Ps(l/Kc,u/Kc,h));if(d===0)return da.every(Math.max(Ps(l,u,h),1));const[y,p]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return y.every(p)}return[s,c]}const[a_,T0]=E0(yt,$i,_r,ya,Ai,ki),[s_,c_]=E0(pt,Si,xr,zn,Mi,_i);function Qc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function el(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ni(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function l_(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=Ri(i),u=Ci(i),h=Ri(o),f=Ci(o),d=Ri(a),y=Ci(a),p=Ri(s),g=Ci(s),b=Ri(c),m=Ci(c),w={a:X,A:V,b:Y,B:U,c:null,d:L0,e:L0,f:C_,g:z_,G:q_,H:$_,I:N_,j:R_,L:U0,m:L_,M:U_,p:F,q:j,Q:F0,s:B0,S:D_,u:O_,U:j_,V:I_,w:P_,W:F_,x:null,X:null,y:B_,Y:W_,Z:H_,"%":P0},v={a:B,A:ne,b:re,B:Q,c:null,d:O0,e:O0,f:J_,g:o3,G:s3,H:V_,I:Y_,j:X_,L:j0,m:G_,M:Z_,p:z,q:W,Q:F0,s:B0,S:K_,u:Q_,U:e3,V:t3,w:n3,W:r3,x:null,X:null,y:i3,Y:a3,Z:c3,"%":P0},_={a:$,A:M,b:L,B:I,c:D,d:R0,e:R0,f:A_,g:N0,G:$0,H:C0,I:C0,j:x_,L:M_,m:w_,M:__,p:T,q:v_,Q:T_,s:S_,S:k_,u:p_,U:y_,V:g_,w:d_,W:m_,x:E,X:O,y:N0,Y:$0,Z:b_,"%":E_};w.x=x(n,w),w.X=x(r,w),w.c=x(t,w),v.x=x(n,v),v.X=x(r,v),v.c=x(t,v);function x(C,P){return function(q){var S=[],ie=-1,H=0,se=C.length,he,je,Sn;for(q instanceof Date||(q=new Date(+q));++ie<se;)C.charCodeAt(ie)===37&&(S.push(C.slice(H,ie)),(je=S0[he=C.charAt(++ie)])!=null?he=C.charAt(++ie):je=he==="e"?" ":"0",(Sn=P[he])&&(he=Sn(q,je)),S.push(he),H=ie+1);return S.push(C.slice(H,ie)),S.join("")}}function k(C,P){return function(q){var S=Ni(1900,void 0,1),ie=A(S,C,q+="",0),H,se;if(ie!=q.length)return null;if("Q"in S)return new Date(S.Q);if("s"in S)return new Date(S.s*1e3+("L"in S?S.L:0));if(P&&!("Z"in S)&&(S.Z=0),"p"in S&&(S.H=S.H%12+S.p*12),S.m===void 0&&(S.m="q"in S?S.q:0),"V"in S){if(S.V<1||S.V>53)return null;"w"in S||(S.w=1),"Z"in S?(H=el(Ni(S.y,0,1)),se=H.getUTCDay(),H=se>4||se===0?Ti.ceil(H):Ti(H),H=pa.offset(H,(S.V-1)*7),S.y=H.getUTCFullYear(),S.m=H.getUTCMonth(),S.d=H.getUTCDate()+(S.w+6)%7):(H=Qc(Ni(S.y,0,1)),se=H.getDay(),H=se>4||se===0?Ei.ceil(H):Ei(H),H=zn.offset(H,(S.V-1)*7),S.y=H.getFullYear(),S.m=H.getMonth(),S.d=H.getDate()+(S.w+6)%7)}else("W"in S||"U"in S)&&("w"in S||(S.w="u"in S?S.u%7:"W"in S?1:0),se="Z"in S?el(Ni(S.y,0,1)).getUTCDay():Qc(Ni(S.y,0,1)).getDay(),S.m=0,S.d="W"in S?(S.w+6)%7+S.W*7-(se+5)%7:S.w+S.U*7-(se+6)%7);return"Z"in S?(S.H+=S.Z/100|0,S.M+=S.Z%100,el(S)):Qc(S)}}function A(C,P,q,S){for(var ie=0,H=P.length,se=q.length,he,je;ie<H;){if(S>=se)return-1;if(he=P.charCodeAt(ie++),he===37){if(he=P.charAt(ie++),je=_[he in S0?P.charAt(ie++):he],!je||(S=je(C,q,S))<0)return-1}else if(he!=q.charCodeAt(S++))return-1}return S}function T(C,P,q){var S=l.exec(P.slice(q));return S?(C.p=u.get(S[0].toLowerCase()),q+S[0].length):-1}function $(C,P,q){var S=d.exec(P.slice(q));return S?(C.w=y.get(S[0].toLowerCase()),q+S[0].length):-1}function M(C,P,q){var S=h.exec(P.slice(q));return S?(C.w=f.get(S[0].toLowerCase()),q+S[0].length):-1}function L(C,P,q){var S=b.exec(P.slice(q));return S?(C.m=m.get(S[0].toLowerCase()),q+S[0].length):-1}function I(C,P,q){var S=p.exec(P.slice(q));return S?(C.m=g.get(S[0].toLowerCase()),q+S[0].length):-1}function D(C,P,q){return A(C,t,P,q)}function E(C,P,q){return A(C,n,P,q)}function O(C,P,q){return A(C,r,P,q)}function X(C){return a[C.getDay()]}function V(C){return o[C.getDay()]}function Y(C){return c[C.getMonth()]}function U(C){return s[C.getMonth()]}function F(C){return i[+(C.getHours()>=12)]}function j(C){return 1+~~(C.getMonth()/3)}function B(C){return a[C.getUTCDay()]}function ne(C){return o[C.getUTCDay()]}function re(C){return c[C.getUTCMonth()]}function Q(C){return s[C.getUTCMonth()]}function z(C){return i[+(C.getUTCHours()>=12)]}function W(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var P=x(C+="",w);return P.toString=function(){return C},P},parse:function(C){var P=k(C+="",!1);return P.toString=function(){return C},P},utcFormat:function(C){var P=x(C+="",v);return P.toString=function(){return C},P},utcParse:function(C){var P=k(C+="",!0);return P.toString=function(){return C},P}}}var S0={"-":"",_:" ",0:"0"},ke=/^\s*\d+/,u_=/^%/,f_=/[\\^$*+?|[\]().{}]/g;function oe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function h_(e){return e.replace(f_,"\\$&")}function Ri(e){return new RegExp("^(?:"+e.map(h_).join("|")+")","i")}function Ci(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function d_(e,t,n){var r=ke.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function p_(e,t,n){var r=ke.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function y_(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function g_(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function m_(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function $0(e,t,n){var r=ke.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function N0(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b_(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function v_(e,t,n){var r=ke.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function w_(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function R0(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function x_(e,t,n){var r=ke.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function C0(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function __(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function k_(e,t,n){var r=ke.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function M_(e,t,n){var r=ke.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function A_(e,t,n){var r=ke.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function E_(e,t,n){var r=u_.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function T_(e,t,n){var r=ke.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function S_(e,t,n){var r=ke.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function L0(e,t){return oe(e.getDate(),t,2)}function $_(e,t){return oe(e.getHours(),t,2)}function N_(e,t){return oe(e.getHours()%12||12,t,2)}function R_(e,t){return oe(1+zn.count(pt(e),e),t,3)}function U0(e,t){return oe(e.getMilliseconds(),t,3)}function C_(e,t){return U0(e,t)+"000"}function L_(e,t){return oe(e.getMonth()+1,t,2)}function U_(e,t){return oe(e.getMinutes(),t,2)}function D_(e,t){return oe(e.getSeconds(),t,2)}function O_(e){var t=e.getDay();return t===0?7:t}function j_(e,t){return oe(xr.count(pt(e)-1,e),t,2)}function D0(e){var t=e.getDay();return t>=4||t===0?qn(e):qn.ceil(e)}function I_(e,t){return e=D0(e),oe(qn.count(pt(e),e)+(pt(e).getDay()===4),t,2)}function P_(e){return e.getDay()}function F_(e,t){return oe(Ei.count(pt(e)-1,e),t,2)}function B_(e,t){return oe(e.getFullYear()%100,t,2)}function z_(e,t){return e=D0(e),oe(e.getFullYear()%100,t,2)}function W_(e,t){return oe(e.getFullYear()%1e4,t,4)}function q_(e,t){var n=e.getDay();return e=n>=4||n===0?qn(e):qn.ceil(e),oe(e.getFullYear()%1e4,t,4)}function H_(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+oe(t/60|0,"0",2)+oe(t%60,"0",2)}function O0(e,t){return oe(e.getUTCDate(),t,2)}function V_(e,t){return oe(e.getUTCHours(),t,2)}function Y_(e,t){return oe(e.getUTCHours()%12||12,t,2)}function X_(e,t){return oe(1+pa.count(yt(e),e),t,3)}function j0(e,t){return oe(e.getUTCMilliseconds(),t,3)}function J_(e,t){return j0(e,t)+"000"}function G_(e,t){return oe(e.getUTCMonth()+1,t,2)}function Z_(e,t){return oe(e.getUTCMinutes(),t,2)}function K_(e,t){return oe(e.getUTCSeconds(),t,2)}function Q_(e){var t=e.getUTCDay();return t===0?7:t}function e3(e,t){return oe(_r.count(yt(e)-1,e),t,2)}function I0(e){var t=e.getUTCDay();return t>=4||t===0?Vn(e):Vn.ceil(e)}function t3(e,t){return e=I0(e),oe(Vn.count(yt(e),e)+(yt(e).getUTCDay()===4),t,2)}function n3(e){return e.getUTCDay()}function r3(e,t){return oe(Ti.count(yt(e)-1,e),t,2)}function i3(e,t){return oe(e.getUTCFullYear()%100,t,2)}function o3(e,t){return e=I0(e),oe(e.getUTCFullYear()%100,t,2)}function a3(e,t){return oe(e.getUTCFullYear()%1e4,t,4)}function s3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Vn(e):Vn.ceil(e),oe(e.getUTCFullYear()%1e4,t,4)}function c3(){return"+0000"}function P0(){return"%"}function F0(e){return+e}function B0(e){return Math.floor(+e/1e3)}var kr,tl,Li;l3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l3(e){return kr=l_(e),tl=kr.format,kr.parse,Li=kr.utcFormat,kr.utcParse,kr}function u3(e){return new Date(e)}function f3(e){return e instanceof Date?+e:+new Date(+e)}function nl(e,t,n,r,i,o,a,s,c,l){var u=e0(),h=u.invert,f=u.domain,d=l(".%L"),y=l(":%S"),p=l("%I:%M"),g=l("%I %p"),b=l("%a %d"),m=l("%b %d"),w=l("%B"),v=l("%Y");function _(x){return(c(x)<x?d:s(x)<x?y:a(x)<x?p:o(x)<x?g:r(x)<x?i(x)<x?b:m:n(x)<x?w:v)(x)}return u.invert=function(x){return new Date(h(x))},u.domain=function(x){return arguments.length?f(Array.from(x,f3)):f().map(u3)},u.ticks=function(x){var k=f();return e(k[0],k[k.length-1],x??10)},u.tickFormat=function(x,k){return k==null?_:l(k)},u.nice=function(x){var k=f();return(!x||typeof x.range!="function")&&(x=t(k[0],k[k.length-1],x??10)),x?f(n0(k,x)):u},u.copy=function(){return wi(u,nl(e,t,n,r,i,o,a,s,c,l))},u}function h3(){return Et.apply(nl(s_,c_,pt,Si,xr,zn,Mi,_i,dt,tl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function d3(){return Et.apply(nl(a_,T0,yt,$i,_r,pa,Ai,ki,dt,Li).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ga(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ma(){var e=0,t=.5,n=1,r=1,i,o,a,s,c,l=nt,u,h=!1,f;function d(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-o)*(r*p<r*o?s:c),l(h?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t,n]=p,i=u(e=+e),o=u(t=+t),a=u(n=+n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d):[e,t,n]},d.clamp=function(p){return arguments.length?(h=!!p,d):h},d.interpolator=function(p){return arguments.length?(l=p,d):l};function y(p){return function(g){var b,m,w;return arguments.length?([b,m,w]=g,l=Co(p,[b,m,w]),d):[l(0),l(.5),l(1)]}}return d.range=y(ri),d.rangeRound=y(cc),d.unknown=function(p){return arguments.length?(f=p,d):f},function(p){return u=p,i=p(e),o=p(t),a=p(n),s=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function z0(){var e=xi(ma()(nt));return e.copy=function(){return ga(e,z0())},ua.apply(e,arguments)}function W0(){var e=a0(ma()).domain([.1,1,10]);return e.copy=function(){return ga(e,W0()).base(e.base())},ua.apply(e,arguments)}function q0(){var e=u0(ma());return e.copy=function(){return ga(e,q0()).constant(e.constant())},ua.apply(e,arguments)}function H0(){var e=d0(ma());return e.copy=function(){return ga(e,H0()).exponent(e.exponent())},ua.apply(e,arguments)}function G(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const p3=G("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),y3=G("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),g3=G("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),m3=G("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),b3=G("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),v3=G("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),w3=G("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),x3=G("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_3=G("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),k3=G("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),M3=G("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ue=e=>dw(e[e.length-1]);var V0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(G);const Y0=ue(V0);var X0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(G);const J0=ue(X0);var G0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(G);const Z0=ue(G0);var K0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(G);const Q0=ue(K0);var rl=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(G);const ba=ue(rl);var ep=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(G);const tp=ue(ep);var il=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(G);const va=ue(il);var np=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(G);const rp=ue(np);var ip=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(G);const op=ue(ip);var ap=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(G);const sp=ue(ap);var cp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(G);const lp=ue(cp);var up=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(G);const fp=ue(up);var hp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(G);const dp=ue(hp);var pp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(G);const yp=ue(pp);var gp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(G);const mp=ue(gp);var bp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(G);const vp=ue(bp);var wp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(G);const xp=ue(wp);var _p=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(G);const kp=ue(_p);var Mp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(G);const Ap=ue(Mp);var Ep=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(G);const Tp=ue(Ep);var Sp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(G);const $p=ue(Sp);var Np=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(G);const Rp=ue(Np);var Cp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(G);const Lp=ue(Cp);var Up=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(G);const Dp=ue(Up);var Op=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(G);const jp=ue(Op);var Ip=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(G);const Pp=ue(Ip);var Fp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(G);const Bp=ue(Fp);function zp(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Wp=lc(_t(300,.5,0),_t(-240,.5,1));var qp=lc(_t(-100,.75,.35),_t(80,1.5,.8)),Hp=lc(_t(260,.75,.35),_t(80,1.5,.8)),wa=_t();function Vp(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return wa.h=360*e-100,wa.s=1.5-1.5*t,wa.l=.8-.9*t,wa+""}var xa=un(),A3=Math.PI/3,E3=Math.PI*2/3;function Yp(e){var t;return e=(.5-e)*Math.PI,xa.r=255*(t=Math.sin(e))*t,xa.g=255*(t=Math.sin(e+A3))*t,xa.b=255*(t=Math.sin(e+E3))*t,xa+""}function Xp(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function _a(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Jp=_a(G("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Gp=_a(G("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Zp=_a(G("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Kp=_a(G("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function $e(e){return function(){return e}}const Qp=Math.cos,ol=Math.min,ka=Math.sin,xe=Math.sqrt,e1=1e-12,Ma=Math.PI,Aa=2*Ma;function t1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Wh(t)}function n1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function r1(e){this._context=e}r1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ui(e){return new r1(e)}function i1(e){return e[0]}function o1(e){return e[1]}function a1(e,t){var n=$e(!0),r=null,i=Ui,o=null,a=t1(s);e=typeof e=="function"?e:e===void 0?i1:$e(e),t=typeof t=="function"?t:t===void 0?o1:$e(t);function s(c){var l,u=(c=n1(c)).length,h,f=!1,d;for(r==null&&(o=i(d=a())),l=0;l<=u;++l)!(l<u&&n(h=c[l],l,c))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(h,l,c),+t(h,l,c));if(d)return o=null,d+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:$e(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:$e(+c),s):t},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:$e(!!c),s):n},s.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),s):i},s.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),s):r},s}function T3(e,t,n){var r=null,i=$e(!0),o=null,a=Ui,s=null,c=t1(l);e=typeof e=="function"?e:e===void 0?i1:$e(+e),t=typeof t=="function"?t:$e(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?o1:$e(+n);function l(h){var f,d,y,p=(h=n1(h)).length,g,b=!1,m,w=new Array(p),v=new Array(p);for(o==null&&(s=a(m=c())),f=0;f<=p;++f){if(!(f<p&&i(g=h[f],f,h))===b)if(b=!b)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=f-1;y>=d;--y)s.point(w[y],v[y]);s.lineEnd(),s.areaEnd()}b&&(w[f]=+e(g,f,h),v[f]=+t(g,f,h),s.point(r?+r(g,f,h):w[f],n?+n(g,f,h):v[f]))}if(m)return s=null,m+""||null}function u(){return a1().defined(i).curve(a).context(o)}return l.x=function(h){return arguments.length?(e=typeof h=="function"?h:$e(+h),r=null,l):e},l.x0=function(h){return arguments.length?(e=typeof h=="function"?h:$e(+h),l):e},l.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:$e(+h),l):r},l.y=function(h){return arguments.length?(t=typeof h=="function"?h:$e(+h),n=null,l):t},l.y0=function(h){return arguments.length?(t=typeof h=="function"?h:$e(+h),l):t},l.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:$e(+h),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(h){return arguments.length?(i=typeof h=="function"?h:$e(!!h),l):i},l.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),l):a},l.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),l):o},l}class s1{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function S3(e){return new s1(e,!0)}function $3(e){return new s1(e,!1)}const N3=xe(3),c1={draw(e,t){const n=xe(t+ol(t/28,.75))*.59436,r=n/2,i=r*N3;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Di={draw(e,t){const n=xe(t/Ma);e.moveTo(n,0),e.arc(0,0,n,0,Aa)}},l1={draw(e,t){const n=xe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},u1=xe(1/3),R3=u1*2,f1={draw(e,t){const n=xe(t/R3),r=n*u1;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},h1={draw(e,t){const n=xe(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},d1={draw(e,t){const n=xe(t-ol(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},p1={draw(e,t){const n=xe(t),r=-n/2;e.rect(r,r,n,n)}},y1={draw(e,t){const n=xe(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},C3=.8908130915292852,g1=ka(Ma/10)/ka(7*Ma/10),L3=ka(Aa/10)*g1,U3=-Qp(Aa/10)*g1,m1={draw(e,t){const n=xe(t*C3),r=L3*n,i=U3*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Aa*o/5,s=Qp(a),c=ka(a);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},al=xe(3),b1={draw(e,t){const n=-xe(t/(al*3));e.moveTo(0,n*2),e.lineTo(-al*n,-n),e.lineTo(al*n,-n),e.closePath()}},D3=xe(3),v1={draw(e,t){const n=xe(t)*.6824,r=n/2,i=n*D3/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},ot=-.5,at=xe(3)/2,sl=1/xe(12),O3=(sl/2+1)*3,w1={draw(e,t){const n=xe(t/O3),r=n/2,i=n*sl,o=r,a=n*sl+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(ot*r-at*i,at*r+ot*i),e.lineTo(ot*o-at*a,at*o+ot*a),e.lineTo(ot*s-at*c,at*s+ot*c),e.lineTo(ot*r+at*i,ot*i-at*r),e.lineTo(ot*o+at*a,ot*a-at*o),e.lineTo(ot*s+at*c,ot*c-at*s),e.closePath()}},x1={draw(e,t){const n=xe(t-ol(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},j3=[Di,l1,f1,p1,m1,b1,w1],I3=[Di,d1,x1,v1,c1,y1,h1];function dn(){}function Ea(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ta(e){this._context=e}Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ea(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ea(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P3(e){return new Ta(e)}function _1(e){this._context=e}_1.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ea(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F3(e){return new _1(e)}function k1(e){this._context=e}k1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ea(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B3(e){return new k1(e)}function M1(e,t){this._basis=new Ta(e),this._beta=t}M1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,c;++s<=n;)c=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+c*o),this._beta*t[s]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const z3=function e(t){function n(r){return t===1?new Ta(r):new M1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Sa(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function cl(e,t){this._context=e,this._k=(1-t)/6}cl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Sa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Sa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const W3=function e(t){function n(r){return new cl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ll(e,t){this._context=e,this._k=(1-t)/6}ll.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Sa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const q3=function e(t){function n(r){return new ll(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ul(e,t){this._context=e,this._k=(1-t)/6}ul.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const H3=function e(t){function n(r){return new ul(r,t)}return n.tension=function(r){return e(+r)},n}(0);function fl(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>e1){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>e1){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function A1(e,t){this._context=e,this._alpha=t}A1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:fl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const V3=function e(t){function n(r){return t?new A1(r,t):new cl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function E1(e,t){this._context=e,this._alpha=t}E1.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:fl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Y3=function e(t){function n(r){return t?new E1(r,t):new ll(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function T1(e,t){this._context=e,this._alpha=t}T1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const X3=function e(t){function n(r){return t?new T1(r,t):new ul(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function S1(e){this._context=e}S1.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function J3(e){return new S1(e)}function $1(e){return e<0?-1:1}function N1(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return($1(o)+$1(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function R1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function hl(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function $a(e){this._context=e}$a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hl(this,this._t0,R1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hl(this,R1(this,n=N1(this,e,t)),n);break;default:hl(this,this._t0,n=N1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function C1(e){this._context=new L1(e)}(C1.prototype=Object.create($a.prototype)).point=function(e,t){$a.prototype.point.call(this,t,e)};function L1(e){this._context=e}L1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function G3(e){return new $a(e)}function Z3(e){return new C1(e)}function U1(e){this._context=e}U1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=D1(e),i=D1(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function D1(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function K3(e){return new U1(e)}function Na(e,t){this._context=e,this._t=t}Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Q3(e){return new Na(e,.5)}function e8(e){return new Na(e,0)}function t8(e){return new Na(e,1)}function Oi(e,t,n){this.k=e,this.x=t,this.y=n}Oi.prototype={constructor:Oi,scale:function(e){return e===1?this:new Oi(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Oi(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Oi.prototype;function pn(e){return e!=null&&!Number.isNaN(e)}function gt(e,t){return+pn(t)-+pn(e)||ze(e,t)}function Ra(e,t){return+pn(t)-+pn(e)||Gr(e,t)}function dl(e){return e!=null&&`${e}`!=""}function O1(e){return isFinite(e)?e:NaN}function Ca(e){return e>0&&isFinite(e)?e:NaN}function pl(e){return e<0&&isFinite(e)?e:NaN}function n8(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${r8(e.getUTCFullYear())}-${Wt(e.getUTCMonth()+1,2)}-${Wt(e.getUTCDate(),2)}${n||r||i||o?`T${Wt(n,2)}:${Wt(r,2)}${i||o?`:${Wt(i,2)}${o?`.${Wt(o,3)}`:""}`:""}Z`:""}`}function r8(e){return e<0?`-${Wt(-e,6)}`:e>9999?`+${Wt(e,6)}`:Wt(e,4)}function Wt(e,t){return`${e}`.padStart(t,"0")}const i8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function j1(e,t){return i8.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function Mr(e){if(e==null)return;const t=e[0],n=e[e.length-1];return Gr(t,n)}const Ar=1e3,yn=Ar*60,gn=yn*60,Tt=gn*24,St=Tt*7,Yn=Tt*30,mn=Tt*365,yl=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Ar],["5 seconds",5*Ar],["15 seconds",15*Ar],["30 seconds",30*Ar],["minute",yn],["5 minutes",5*yn],["15 minutes",15*yn],["30 minutes",30*yn],["hour",gn],["3 hours",3*gn],["6 hours",6*gn],["12 hours",12*gn],["day",Tt],["2 days",2*Tt],["week",St],["2 weeks",2*St],["month",Yn],["3 months",3*Yn],["6 months",6*Yn],["year",mn],["2 years",2*mn],["5 years",5*mn],["10 years",10*mn],["20 years",20*mn],["50 years",50*mn],["100 years",100*mn]],gl=new Map([["second",Ar],["minute",yn],["hour",gn],["day",Tt],["monday",St],["tuesday",St],["wednesday",St],["thursday",St],["friday",St],["saturday",St],["sunday",St],["week",St],["month",Yn],["year",mn]]),I1=new Map([["second",dt],["minute",_i],["hour",Mi],["day",zn],["monday",Ei],["tuesday",b0],["wednesday",v0],["thursday",qn],["friday",w0],["saturday",x0],["sunday",xr],["week",xr],["month",Si],["year",pt]]),ml=new Map([["second",dt],["minute",ki],["hour",Ai],["day",ya],["monday",Ti],["tuesday",_0],["wednesday",k0],["thursday",Vn],["friday",M0],["saturday",A0],["sunday",_r],["week",_r],["month",$i],["year",yt]]),ji=Symbol("intervalDuration"),La=Symbol("intervalType");for(const[e,t]of I1)t[ji]=gl.get(e),t[La]="time";for(const[e,t]of ml)t[ji]=gl.get(e),t[La]="utc";const Ii=[["year",yt,"utc"],["month",$i,"utc"],["day",ya,"utc",6*Yn],["hour",Ai,"utc",3*Tt],["minute",ki,"utc",6*gn],["second",dt,"utc",30*yn]],Ua=[["year",pt,"time"],["month",Si,"time"],["day",zn,"time",6*Yn],["hour",Mi,"time",3*Tt],["minute",_i,"time",6*gn],["second",dt,"time",30*yn]],o8=[Ii[0],Ua[0],Ii[1],Ua[1],Ii[2],Ua[2],...Ii.slice(3)];function P1(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=ml.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function F1(e){return B1(P1(e),"time")}function bl(e){return B1(P1(e),"utc")}function B1([e,t],n){let r=(n==="time"?I1:ml).get(e);return t>1&&(r=r.every(t),r[ji]=gl.get(e)*t,r[La]=n),r}function z1(e,t){if(!(t>1))return;const n=e[ji];if(!yl.some(([,i])=>i===n)||n%Tt===0&&Tt<n&&n<Yn)return;const[r]=yl[uo(([,i])=>Math.log(i)).center(yl,Math.log(n*t))];return(e[La]==="time"?F1:bl)(r)}function W1(e,t,n){const r=t==="time"?tl:Li;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=a8(n);switch(e){case"millisecond":return Er(r(".%L"),r(":%M:%S"),i);case"second":return Er(r(":%S"),r("%-I:%M"),i);case"minute":return Er(r("%-I:%M"),r("%p"),i);case"hour":return Er(r("%-I %p"),r("%b %-d"),i);case"day":return Er(r("%-d"),r("%b"),i);case"month":return Er(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function a8(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function s8(e){return e==="time"?Ua:e==="utc"?Ii:o8}function c8(e,t,n){const r=ct(n2(t,(i,o)=>Math.abs(o-i)));if(r<1e3)return W1("millisecond","utc",n);for(const[i,o,a,s]of s8(e)){if(r>s||i==="hour"&&!r)break;if(t.every(c=>o.floor(c)>=c))return W1(i,a,n)}}function Er(e,t,n){return(r,i,o)=>{const a=e(r,i),s=t(r,i),c=i-Mr(o);return i!==c&&o[c]!==void 0&&s===t(o[c],c)?a:n(a,s)}}const vl=Object.getPrototypeOf(Uint8Array),l8=Object.prototype.toString;function Xn(e){return e instanceof Array||e instanceof vl}function q1(e){return e instanceof vl&&!u8(e)}function H1(e){return(e==null?void 0:e.prototype)instanceof vl&&!f8(e)}function u8(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function f8(e){return e===BigInt64Array||e===BigUint64Array}const V1=Symbol("reindex");function Me(e,t,n){const r=typeof t;return r==="string"?ay(e)?xl(e.getChild(t),n):Y1(e,X1(t),n):r==="function"?Y1(e,t,n):r==="number"||t instanceof Date||r==="boolean"?ve(e,qt(t),n):typeof(t==null?void 0:t.transform)=="function"?wl(t.transform(e),n):h8(wl(t,n),e==null?void 0:e[V1])}function h8(e,t){return e!=null&&t?El(e,t):e}function Y1(e,t,n){return ve(e,H1(n)?(r,i)=>kl(t(r,i)):t,n)}function wl(e,t){return t===void 0?bn(e):sy(e)?xl(e,t):e instanceof t?e:t.from(e,H1(t)&&!q1(e)?kl:void 0)}function xl(e,t){return e==null?e:(t===void 0||t===Array)&&C8(e.type)?Z1(e.toArray()):wl(e.toArray(),t)}const Da=[null],X1=e=>t=>{var r;const n=t[e];return n===void 0&&t.type==="Feature"?(r=t.properties)==null?void 0:r[e]:n},J1={transform:Vt},Ge={transform:e=>e},d8=()=>1,p8=()=>!0,Pe=e=>e==null?e:`${e}`,Ue=e=>e==null?e:+e,G1=e=>e?e[0]:void 0,_l=e=>e?e[1]:void 0,qt=e=>()=>e;function y8(e){const t=+`${e}`.slice(1)/100;return(n,r)=>ar(n,t,r)}function Tr(e){return q1(e)?e:ve(e,kl,Float64Array)}function kl(e){return e==null?NaN:Number(e)}function Z1(e){return ve(e,K1)}function K1(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?j1(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Ht(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Pa(e)?[void 0,e]:[e,void 0]}function Fe(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function Q1(e,t,n){if(e!=null)return mt(e,t,n)}function mt(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function Sr(e){return ay(e)?e:bn(e)}function bn(e){if(e==null||Xn(e))return e;if(sy(e))return xl(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function ve(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Pi(e,t=Array){return e instanceof t?e.slice():t.from(e)}function g8({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function vn(e){return(e==null?void 0:e.toString)===l8}function Ml(e){return vn(e)&&(e.type!==void 0||e.domain!==void 0)}function Oa(e){return vn(e)&&typeof e.transform!="function"}function $r(e){return Oa(e)&&e.value===void 0&&e.channel===void 0}function m8(e,t,n,r=Ge){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function ja(e,t){return e===void 0&&t===void 0?[G1,_l]:[e,t]}function Al({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Ht(t)),e===void 0&&([e]=Ht(n)),e}function Fi(e){return Xn(e)?e.length:e==null?void 0:e.numRows}function Vt(e){const t=Fi(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function El(e,t){return Xn(e)?ve(t,n=>e[n],e.constructor):ve(t,n=>e.at(n))}function b8(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function Yt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function v8(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Ia(e){let t;return[{transform:()=>t,label:Jn(e)},n=>t=n]}function Xt(e){return e==null?[e]:Ia(e)}function Jn(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Tl(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return qe(r)||qe(i)?ve(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):ve(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function ey(e,t){const n=ty(t==null?void 0:t.interval,t==null?void 0:t.type);return n?ve(e,n):e}function ty(e,t){const n=Sl(e,t);return n&&(r=>pn(r)?n.floor(r):r)}function Sl(e,t){if(e!=null){if(typeof e=="number")return w8(e);if(typeof e=="string")return(t==="time"?F1:bl)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function w8(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>Bs(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>Bs(Math.ceil(n/t),r/t).map(i=>i*t)}}function Nr(e,t){if(e=Sl(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function x8(e,t){if(e=Nr(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function _8(e){return Rr(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function Rr(e){return typeof(e==null?void 0:e.range)=="function"}function Bi(e){return e===void 0||Oa(e)?e:{value:e}}function k8(e){return e==null?null:{transform:t=>Me(t,e,Float64Array),label:Jn(e)}}function wn(e){return e&&typeof e[Symbol.iterator]=="function"}function ny(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function ry(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function qe(e){for(const t of e)if(t!=null)return t instanceof Date}function M8(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&j1(t)}function A8(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function E8(e){for(const t of e)if(t!=null)return typeof t=="number"}function $l(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const T8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Pa(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||T8.has(e))}function S8(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function He(e){return e==null||zi(e)}function zi(e){return/^\s*none\s*$/i.test(e)}function $8(e){return/^\s*round\s*$/i.test(e)}function Nl(e,t){return Q1(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Fa(e="middle"){return Nl(e,"frameAnchor")}function N8(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function R8(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function iy(e){return wn(e)?R8(e):e}function oy(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=mt(e,"clip",["frame","sphere"])),e}function ay(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function sy(e){return e&&typeof e.toArray=="function"&&e.type}function C8(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const $t=Symbol("position"),Jt=Symbol("color"),Wi=Symbol("radius"),qi=Symbol("length"),Hi=Symbol("opacity"),Ba=Symbol("symbol"),cy=Symbol("projection"),ge=new Map([["x",$t],["y",$t],["fx",$t],["fy",$t],["r",Wi],["color",Jt],["opacity",Hi],["symbol",Ba],["length",qi],["projection",cy]]);function L8(e){return e===$t||e===cy}function U8(e){return e===$t||e===Wi||e===qi||e===Hi}const D8=Math.sqrt(3),O8=2/D8,j8={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*O8,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Rl=new Map([["asterisk",c1],["circle",Di],["cross",l1],["diamond",f1],["diamond2",h1],["hexagon",j8],["plus",d1],["square",p1],["square2",y1],["star",m1],["times",x1],["triangle",b1],["triangle2",v1],["wye",w1]]);function Cl(e){return e&&typeof e.draw=="function"}function I8(e){return Cl(e)?!0:typeof e!="string"?!1:Rl.has(e.toLowerCase())}function Ll(e){if(e==null||Cl(e))return e;const t=Rl.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function P8(e){if(e==null||Cl(e))return[void 0,e];if(typeof e=="string"){const t=Rl.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function za({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=ly(e)),t!=null&&!$r(t)&&(r=Ul(r,Ol(t))),n&&(r=Ul(r,uy))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||$r(t))&&{sort:t},transform:Ul(r,a)}}function Cr({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=ly(e)),t!=null&&!$r(t)&&(r=Dl(r,Ol(t))),n&&(r=Dl(r,uy))),{...i,...(t===null||$r(t))&&{sort:t},initializer:Dl(r,o)}}function Ul(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,Sr(n),r,i)}}function Dl(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,s,c,l,u,h;return{data:s=n,facets:c=r,channels:a}=e.call(this,n,r,i,...o),{data:u=s,facets:h=c,channels:l}=t.call(this,s,c,{...i,...a},...o),{data:u,facets:h,channels:{...a,...l}}}}function F8(e,t){return(e.initializer!=null?Cr:za)(e,t)}function ly(e){return(t,n)=>{const r=Me(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function uy(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function B8(e,{sort:t,...n}={}){return{...(Oa(e)&&e.channel!==void 0?Cr:F8)(n,Ol(e)),sort:$r(t)?t:null}}function Ol(e){return(typeof e=="function"&&e.length!==1?z8:W8)(e)}function z8(e){return(t,n)=>{const r=Xn(t)?(i,o)=>e(t[i],t[o]):(i,o)=>e(t.get(i),t.get(o));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function W8(e){let t,n;({channel:t,value:e,order:n}={...Bi(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?Ra:gt),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=gt;break;case"descending":n=Ra;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let s;if(t===void 0)s=Me(i,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(s=a[t],!s)return{};s=s.value}const c=(l,u)=>n(s[l],s[u]);return{data:i,facets:o.map(l=>l.slice().sort(c))}}}function Wa(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function q8(e,t,n=fy){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",Z8]),t.href!=null&&e.href===void 0&&r.push(["href",Il]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?H8(i):n(i,o,t))}function fy(e,t,n,r=hy){let i;vn(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const o=r(e,t,n),[a,s]=Ia(o.label);let c;return{name:e,output:i===void 0?a:{value:a,scale:i},initialize(l){o.initialize(l),c=s([])},scope(l,u){o.scope(l,u)},reduce(l,u){c.push(o.reduce(l,u))}}}function H8(e){return{name:e,initialize(){},scope(){},reduce(){}}}function hy(e,t,n,r=jl){const i=v8(e,n),o=r(t,i);let a,s;return{label:Jn(o===qa?null:i,o.label),initialize(c){a=i===void 0?c:Me(c,i),o.scope==="data"&&(s=o.reduceIndex(Vt(c),a))},scope(c,l){o.scope===c&&(s=o.reduceIndex(l,a))},reduce(c,l){return o.scope==null?o.reduceIndex(c,a,l):o.reduceIndex(c,a,s,l)}}}function dy(e,t){return t?po(e,n=>t[n]):[[,e]]}function jl(e,t,n=V8){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&vn(e))return J8(e);if(typeof e=="function")return G8(e);if(/^p\d{2}$/i.test(e))return Gt(y8(e));switch(`${e}`.toLowerCase()){case"first":return Il;case"last":return K8;case"identity":return yy;case"count":return qa;case"distinct":return Q8;case"sum":return t==null?qa:e5;case"proportion":return gy(t,"data");case"proportion-facet":return gy(t,"facet");case"deviation":return Gt(Lf);case"min":return Gt(Dt);case"min-index":return Gt(Gb);case"max":return Gt(ct);case"max-index":return Gt(Jb);case"mean":return py(Qb);case"median":return py(Fs);case"variance":return Gt(Cf);case"mode":return Gt(t2)}return n(e)}function V8(e){throw new Error(`invalid reduce: ${e}`)}function Y8(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function X8(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>gt(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function J8(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function G8(e){return{reduceIndex(t,n,r){return e(El(n,t),r)}}}function Gt(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function py(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return qe(n)?new Date(r):r}}}const yy={reduceIndex(e,t){return El(t,e)}},Il={reduceIndex(e,t){return t[e[0]]}},Z8={reduceIndex(e,t){const n=yo(or(e,i=>i.length,i=>t[i]),_l),r=n.slice(-5).reverse();if(r.length<n.length){const i=n.slice(0,-4);r[5-1]=[`\u2026 ${i.length.toLocaleString("en-US")} more`,cn(i,_l)]}return r.map(([i,o])=>`${i} (${o.toLocaleString("en-US")})`).join(`
`)}},K8={reduceIndex(e,t){return t[e[e.length-1]]}},qa={label:"Frequency",reduceIndex(e){return e.length}},Q8={label:"Distinct",reduceIndex(e,t){const n=new ho;for(const r of e)n.add(t[r]);return n.size}},e5=Gt(cn);function gy(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>cn(n,o=>r[o])/i}}const t5={reduceIndex(e,t,{z:n}){return n}};function Vi(e,{scale:t,type:n,value:r,filter:i,hint:o,label:a=Jn(r)},s){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),my(s,{scale:t,type:n,value:Me(e,r),label:a,filter:i,hint:o})}function n5(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Vi(t,r,n)]))}function r5(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:ve(o,a)]}));return n.channels=e,n}function my(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&$l(r,Pa)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&$l(r,S8)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&$l(r,I8)?(t.scale=null,t.value=ve(r,Ll)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=ge.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!ge.has(n))throw new Error(`unknown scale: ${n}`);return t}function i5(e,t,n,r,i){const{order:o,reverse:a,reduce:s=!0,limit:c}=i;for(const l in i){if(!ge.has(l))continue;let{value:u,order:h=o,reverse:f=a,reduce:d=s,limit:y=c}=Bi(i[l]);const p=u==null?void 0:u.startsWith("-");if(p&&(u=u.slice(1)),h=h===void 0?p!==(u==="width"||u==="height")?wy:vy:s5(h),d==null||d===!1)continue;const g=l==="fx"||l==="fy"?a5(t,r[l]):o5(n,l);if(!g)throw new Error(`missing channel for scale: ${l}`);const b=g.value,[m=0,w=1/0]=wn(y)?y:y<0?[y]:[0,y];if(u==null)g.domain=()=>{let v=Array.from(new ho(b));return f&&(v=v.reverse()),(m!==0||w!==1/0)&&(v=v.slice(m,w)),v};else{const v=u==="data"?e:u==="height"?by(n,"y1","y2"):u==="width"?by(n,"x1","x2"):Pl(n,u,u==="y"?"y2":u==="x"?"x2":void 0),_=jl(d===!0?"max":d,v);g.domain=()=>{let x=Wb(Vt(b),k=>_.reduceIndex(k,v),k=>b[k]);return h&&x.sort(h),f&&x.reverse(),(m!==0||w!==1/0)&&(x=x.slice(m,w)),x.map(G1)}}}}function o5(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function a5(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const s of e[o])i[s]=a}return t}function by(e,t,n){const r=Pl(e,t),i=Pl(e,n);return ve(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Pl(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function s5(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return vy;case"descending":return wy}throw new Error(`invalid order: ${e}`)}function vy([e,t],[n,r]){return gt(t,r)||gt(e,n)}function wy([e,t],[n,r]){return Ra(t,r)||gt(e,n)}function xy(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const _y=new Map([["accent",y3],["category10",p3],["dark2",g3],["observable10",m3],["paired",b3],["pastel1",v3],["pastel2",w3],["set1",x3],["set2",_3],["set3",k3],["tableau10",M3]]);function c5(e){return e!=null&&_y.has(`${e}`.toLowerCase())}const ky=new Map([..._y,["brbg",Zt(V0,Y0)],["prgn",Zt(X0,J0)],["piyg",Zt(G0,Z0)],["puor",Zt(K0,Q0)],["rdbu",Zt(rl,ba)],["rdgy",Zt(ep,tp)],["rdylbu",Zt(il,va)],["rdylgn",Zt(np,rp)],["spectral",Zt(ip,op)],["burd",My(rl,ba)],["buylrd",My(il,va)],["blues",Ae(Np,Rp)],["greens",Ae(Cp,Lp)],["greys",Ae(Up,Dp)],["oranges",Ae(Fp,Bp)],["purples",Ae(Op,jp)],["reds",Ae(Ip,Pp)],["turbo",Kt(Xp)],["viridis",Kt(Jp)],["magma",Kt(Gp)],["inferno",Kt(Zp)],["plasma",Kt(Kp)],["cividis",Kt(zp)],["cubehelix",Kt(Wp)],["warm",Kt(qp)],["cool",Kt(Hp)],["bugn",Ae(ap,sp)],["bupu",Ae(cp,lp)],["gnbu",Ae(up,fp)],["orrd",Ae(hp,dp)],["pubu",Ae(gp,mp)],["pubugn",Ae(pp,yp)],["purd",Ae(bp,vp)],["rdpu",Ae(wp,xp)],["ylgn",Ae(Mp,Ap)],["ylgnbu",Ae(_p,kp)],["ylorbr",Ae(Ep,Tp)],["ylorrd",Ae(Sp,$p)],["rainbow",Ay(Vp)],["sinebow",Ay(Yp)]]);function Ae(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?ut(t,n):e[n])}function Zt(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?ut(t,n):e[n])}function My(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?ut(r=>t(1-r),n):e[n].slice().reverse())}function Kt(e){return({length:t})=>ut(e,Math.max(2,Math.floor(t)))}function Ay(e){return({length:t})=>ut(e,Math.floor(t)+1).slice(0,-1)}function Ey(e){const t=`${e}`.toLowerCase();if(!ky.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return ky.get(t)}function Ha(e,t){const n=Ey(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function l5(e,t="greys"){const n=new Set,[r,i]=Ha(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const Ty=new Map([["brbg",Y0],["prgn",J0],["piyg",Z0],["puor",Q0],["rdbu",ba],["rdgy",tp],["rdylbu",va],["rdylgn",rp],["spectral",op],["burd",e=>ba(1-e)],["buylrd",e=>va(1-e)],["blues",Rp],["greens",Lp],["greys",Dp],["purples",jp],["reds",Pp],["oranges",Bp],["turbo",Xp],["viridis",Jp],["magma",Gp],["inferno",Zp],["plasma",Kp],["cividis",zp],["cubehelix",Wp],["warm",qp],["cool",Hp],["bugn",sp],["bupu",lp],["gnbu",fp],["orrd",dp],["pubugn",yp],["pubu",mp],["purd",vp],["rdpu",xp],["ylgnbu",kp],["ylgn",Ap],["ylorbr",Tp],["ylorrd",$p],["rainbow",Vp],["sinebow",Yp]]);function Fl(e){const t=`${e}`.toLowerCase();if(!Ty.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Ty.get(t)}const u5=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function f5(e){return e!=null&&u5.has(`${e}`.toLowerCase())}const Sy=e=>t=>e(1-t),Bl=[0,1],$y=new Map([["number",Le],["rgb",On],["hsl",Ew],["hcl",$w],["lab",Tw]]);function Ny(e){const t=`${e}`.toLowerCase();if(!$y.has(t))throw new Error(`unknown interpolator: ${t}`);return $y.get(t)}function Yi(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:s=Cy(e,n),unknown:c,round:l,scheme:u,interval:h,range:f=ge.get(e)===Wi?_5(n,s):ge.get(e)===qi?k5(n,s):ge.get(e)===Hi?Bl:void 0,interpolate:d=ge.get(e)===Jt?u==null&&f!==void 0?On:Fl(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):l?cc:Le,reverse:y}){if(h=Nr(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=Ny(d)),y=!!y,f!==void 0){const p=(s=bn(s)).length,g=(f=bn(f)).length;if(p!==g){if(d.length===1)throw new Error("invalid piecewise interpolator");d=Co(d,f),f=void 0}}if(d.length===1?(y&&(d=Sy(d),y=!1),f===void 0&&(f=Float64Array.from(s,(p,g)=>g/(s.length-1)),f.length===2&&(f=Bl)),t.interpolate((f===Bl?qt:Wl)(d))):t.interpolate(d),a){const[p,g]=Ke(s);(p>0||g<0)&&(s=Pi(s),(Mr(s)||1)===Math.sign(p)?s[0]=0:s[s.length-1]=0)}return y&&(s=vo(s)),t.domain(s).unknown(c),i&&(t.nice(h5(i,r)),s=t.domain()),f!==void 0&&t.range(f),o&&t.clamp(o),{type:r,domain:s,range:f,scale:t,interpolate:d,interval:h}}function h5(e,t){return e===!0?void 0:typeof e=="number"?e:x8(e,t)}function d5(e,t,n){return Yi(e,Xc(),t,n)}function p5(e,t,n){return Ry(e,t,{...n,exponent:.5})}function Ry(e,t,{exponent:n=1,...r}){return Yi(e,p0().exponent(n),t,{...r,type:"pow"})}function y5(e,t,{base:n=10,domain:r=M5(t),...i}){return Yi(e,s0().base(n),t,{...i,domain:r})}function g5(e,t,{constant:n=1,...r}){return Yi(e,f0().constant(n),t,r)}function m5(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=A5(t),unknown:s,interpolate:c,reverse:l}){return n===void 0&&(n=c!==void 0?ut(c,i):ge.get(e)===Jt?Ha(o,i):void 0),a.length>0&&(a=y0(a,n===void 0?{length:i}:n).quantiles()),zl(e,t,{domain:a,range:n,reverse:l,unknown:s})}function b5(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=Cy(e,t),unknown:a,interpolate:s,reverse:c}){const[l,u]=Ke(o);let h;return n===void 0?(h=Zr(l,u,r),h[0]<=l&&h.splice(0,1),h[h.length-1]>=u&&h.pop(),r=h.length+1,n=s!==void 0?ut(s,r):ge.get(e)===Jt?Ha(i,r):void 0):(h=ut(Le(l,u),r+1).slice(1,-1),l instanceof Date&&(h=h.map(f=>new Date(f)))),Mr(bn(o))<0&&h.reverse(),zl(e,t,{domain:h,range:n,reverse:c,unknown:a})}function zl(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?ut(o,n.length+1):ge.get(e)===Jt?Ha(i,n.length+1):void 0,reverse:s}){n=bn(n);const c=Mr(n);if(!isNaN(c)&&!v5(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=vo(a)),{type:"threshold",scale:g0(c<0?vo(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function v5(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=Gr(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function w5(e){return{type:"identity",scale:U8(ge.get(e))?t0():t=>t}}function Xi(e,t=O1){return e.length?[Dt(e,({value:n})=>n===void 0?n:Dt(n,t)),ct(e,({value:n})=>n===void 0?n:ct(n,t))]:[0,1]}function Cy(e,t){const n=ge.get(e);return(n===Wi||n===Hi||n===qi?x5:Xi)(t)}function x5(e){return[0,e.length?ct(e,({value:t})=>t===void 0?t:ct(t,O1)):1]}function _5(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=ar(e,.5,({value:a})=>a===void 0?NaN:ar(a,.25,Ca)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/ct(i);return o<1?i.map(a=>a*o):i}function k5(e,t){const n=Fs(e,({value:o})=>o===void 0?NaN:Fs(o,Math.abs)),r=t.map(o=>12*o/n),i=60/ct(r);return i<1?r.map(o=>o*i):r}function M5(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Xi(e,Ca);if(n<0)return Xi(e,pl)}return[1,10]}function A5(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Wl(e){return(t,n)=>r=>e(t+r*(n-t))}let ql=0,Hl;function E5(){const e=ql;return ql=0,Hl=void 0,e}function xn(e){e!==Hl&&(Hl=e,console.warn(e),++ql)}function Va(e,t,n,r,{type:i,nice:o,clamp:a,domain:s=Xi(r),unknown:c,pivot:l=0,scheme:u,range:h,symmetric:f=!0,interpolate:d=ge.get(e)===Jt?u==null&&h!==void 0?On:Fl(u!==void 0?u:"rdbu"):Le,reverse:y}){l=+l,s=bn(s);let[p,g]=s;if(s.length>2&&xn(`Warning: the diverging ${e} scale domain contains extra elements.`),Gr(p,g)<0&&([p,g]=[g,p],y=!y),p=Math.min(p,l),g=Math.max(g,l),typeof d!="function"&&(d=Ny(d)),h!==void 0&&(d=d.length===1?Wl(d)(...h):Co(d,h)),y&&(d=Sy(d)),f){const b=n.apply(l),m=b-n.apply(p),w=n.apply(g)-b;m<w?p=n.invert(b-w):m>w&&(g=n.invert(b+m))}return t.domain([p,l,g]).unknown(c).interpolator(d),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[p,g],pivot:l,interpolate:d,scale:t}}function T5(e,t,n){return Va(e,z0(),R5,t,n)}function S5(e,t,n){return Ly(e,t,{...n,exponent:.5})}function Ly(e,t,{exponent:n=1,...r}){return Va(e,H0().exponent(n=+n),U5(n),t,{...r,type:"diverging-pow"})}function $5(e,t,{base:n=10,pivot:r=1,domain:i=Xi(t,r<0?pl:Ca),...o}){return Va(e,W0().base(n=+n),C5,t,{domain:i,pivot:r,...o})}function N5(e,t,{constant:n=1,...r}){return Va(e,q0().constant(n=+n),D5(n),t,r)}const R5={apply(e){return e},invert(e){return e}},C5={apply:Math.log,invert:Math.exp},L5={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function U5(e){return e===.5?L5:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function D5(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Uy(e,t,n,r){return Yi(e,t,n,r)}function O5(e,t,n){return Uy(e,h3(),t,n)}function j5(e,t,n){return Uy(e,d3(),t,n)}const Ji=Symbol("ordinal");function Dy(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:c}){return i=Nr(i,r),o===void 0&&(o=jy(n,i,e)),(r==="categorical"||r===Ji)&&(r="ordinal"),s&&(o=vo(o)),o=t.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:c,interval:i}}function I5(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...c}){r=Nr(r,n),i===void 0&&(i=jy(t,r,e));let l;if(ge.get(e)===Ba)l=B5(t),o=o===void 0?z5(l):ve(o,Ll);else if(ge.get(e)===Jt&&(o===void 0&&(n==="ordinal"||n===Ji)&&(o=l5(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const u=Fl(a),h=o[0],f=o[1]-o[0];o=({length:d})=>ut(y=>u(h+f*y),d)}else o=Ey(a);if(s===qc)throw new Error(`implicit unknown on ${e} scale is not supported`);return Dy(e,Hc().unknown(s),t,{...c,type:n,domain:i,range:o,hint:l})}function P5(e,t,{align:n=.5,padding:r=.5,...i}){return Oy(Yx().align(n).padding(r),t,i,e)}function F5(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return Oy(fa().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function Oy(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Dy(r,e,t,n),e.round=i,e}function jy(e,t,n){const r=new ho;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=Ke(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&ge.get(n)===$t)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return yo(r,gt)}function Iy(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function B5(e){return{fill:Iy(e,"fill"),stroke:Iy(e,"stroke")}}function z5(e){return He(e.fill)?I3:j3}function Vl(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:c,clamp:l,zero:u,align:h,padding:f,projection:d,facet:{label:y=t}={},...p}={}){const g={};for(const[b,m]of e){const w=p[b],v=Y5(b,m,{round:ge.get(b)===$t?s:void 0,nice:c,clamp:l,zero:u,align:h,padding:f,projection:d,...w});if(v){let{label:_=b==="fx"||b==="fy"?y:t,percent:x,transform:k,inset:A,insetTop:T=A!==void 0?A:b==="y"?r:0,insetRight:$=A!==void 0?A:b==="x"?i:0,insetBottom:M=A!==void 0?A:b==="y"?o:0,insetLeft:L=A!==void 0?A:b==="x"?a:0}=w||{};if(k==null)k=void 0;else if(typeof k!="function")throw new Error("invalid scale transform; not a function");v.percent=!!x,v.label=_===void 0?q5(m,v):_,v.transform=k,b==="x"||b==="fx"?(v.insetLeft=+L,v.insetRight=+$):(b==="y"||b==="fy")&&(v.insetTop=+T,v.insetBottom=+M),g[b]=v}}return g}function Py(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:o,type:a,interval:s,label:c}=i;t[r]=K5(i),n[r]=o,o.type=a,s!=null&&(o.interval=s),c!=null&&(o.label=c)}return n}function W5(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?Yl(t):t;i&&By(i,a),o&&zy(o,a);const s=i||o?Fy(e,t):t;n&&By(n,s),r&&zy(r,s)}function q5(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Gn(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function H5(e){return Math.sign(Mr(e.domain()))*Math.sign(Mr(e.range()))}function Yl(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:c,marginBottom:l,marginLeft:u}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,c),marginBottom:Math.max(r,l),marginLeft:Math.max(i,u),width:o,height:a}}function Fy({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=Yl(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:s,height:t?t.scale.bandwidth()+r+o:c,facet:{width:s,height:c}}}function By(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,s=o+n,c=i-a-r;e.range=[s,Math.max(s,c)],Gn(e)||(e.range=qy(e)),e.scale.range(e.range)}Wy(e)}function zy(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,s=o+n,c=i-a-r;e.range=[Math.max(s,c),s],Gn(e)?e.range.reverse():e.range=qy(e),e.scale.range(e.range)}Wy(e)}function Wy(e){e.round===void 0&&J5(e)&&V5(e)<=30&&e.scale.round(!0)}function V5({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,s=Math.abs(r-n)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function qy(e){const t=e.scale.domain().length+Yy(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function Y5(e,t=[],n={}){const r=X5(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Gn({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(qe)?xn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Lr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Lr(r)}".`):i.some(M8)?xn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Lr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Lr(r)}".`):i.some(A8)&&xn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Lr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Lr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Xa(t,n,Tr);break;case"identity":switch(ge.get(e)){case $t:n=Xa(t,n,Tr);break;case Ba:n=Xa(t,n,G5);break}break;case"utc":case"time":n=Xa(t,n,Z1);break}switch(r){case"diverging":return T5(e,t,n);case"diverging-sqrt":return S5(e,t,n);case"diverging-pow":return Ly(e,t,n);case"diverging-log":return $5(e,t,n);case"diverging-symlog":return N5(e,t,n);case"categorical":case"ordinal":case Ji:return I5(e,t,n);case"cyclical":case"sequential":case"linear":return d5(e,t,n);case"sqrt":return p5(e,t,n);case"threshold":return zl(e,t,n);case"quantile":return m5(e,t,n);case"quantize":return b5(e,t,n);case"pow":return Ry(e,t,n);case"log":return y5(e,t,n);case"symlog":return g5(e,t,n);case"utc":return j5(e,t,n);case"time":return O5(e,t,n);case"point":return P5(e,t,n);case"band":return F5(e,t,n);case"identity":return w5(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Lr(e){return typeof e=="symbol"?e.description:e}function Hy(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Vy={toString:()=>"projection"};function X5(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(n=Hy(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=Vy);for(const l of t){const u=Hy(l.type);if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}}if(n===Vy)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const c=ge.get(e);if(c===Wi)return"sqrt";if(c===Hi||c===qi)return"linear";if(c===Ba)return"ordinal";if((r||i||[]).length>2)return Xl(c);if(r!==void 0){if(ry(r))return Xl(c);if(qe(r))return"utc"}else{const l=t.map(({value:u})=>u).filter(u=>u!==void 0);if(l.some(ry))return Xl(c);if(l.some(qe))return"utc"}if(c===Jt){if(a!=null||f5(o))return"diverging";if(c5(o))return"categorical"}return"linear"}function Xl(e){switch(e){case $t:return"point";case Jt:return Ji;default:return"ordinal"}}function Gn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Ji}function Yy({type:e}){return e==="threshold"}function J5({type:e}){return e==="point"||e==="band"}function Ya(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Xa(e,{domain:t,...n},r){var i;for(const o of e)o.value!==void 0&&(t===void 0&&(t=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:t===void 0?t:r(t),...n}}function G5(e){return ve(e,Ll)}function Z5(e){return t=>{if(!ge.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function K5({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:c}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const l=e.unknown?e.unknown():void 0;return{type:t,domain:Pi(n),...r!==void 0&&{range:Pi(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...l!==void 0&&{unknown:l},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function Q5(e,t){const{fx:n,fy:r}=Vl(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?Bb(i,o).map(([a,s],c)=>({x:a,y:s,i:c})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function e4(e,{x:t,y:n}){return t&&(t=Gl(t)),n&&(n=Gl(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Jl(e,{fx:t,fy:n}){const r=Vt(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?or(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?or(r,a=>(a.fx=i[a[0]],a),a=>i[a]):or(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function t4(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function n4(e){const t=[],n=new Uint32Array(cn(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const r4=new Map([["top",Zl],["right",eu],["bottom",Kl],["left",Ql],["top-left",Ga(Zl,Ql)],["top-right",Ga(Zl,eu)],["bottom-left",Ga(Kl,Ql)],["bottom-right",Ga(Kl,eu)],["top-empty",a4],["right-empty",l4],["bottom-empty",s4],["left-empty",c4],["empty",u4]]);function i4(e){if(e==null)return null;const t=r4.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Xy=new WeakMap;function Gl(e){let t=Xy.get(e);return t||Xy.set(e,t=new Nn(ve(e,(n,r)=>[n,r]))),t}function _n(e,t){return Gl(e).get(t)}function o4(e,t,n){return t=Yt(t),n=Yt(n),e.find(r=>Object.is(Yt(r.x),t)&&Object.is(Yt(r.y),n))}function Ja(e,t,n){var r;return(r=o4(e,t,n))==null?void 0:r.empty}function Zl(e,{y:t},{y:n}){return t?_n(t,n)===0:!0}function Kl(e,{y:t},{y:n}){return t?_n(t,n)===t.length-1:!0}function Ql(e,{x:t},{x:n}){return t?_n(t,n)===0:!0}function eu(e,{x:t},{x:n}){return t?_n(t,n)===t.length-1:!0}function a4(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=_n(t,r);if(o>0)return Ja(e,n,t[o-1])}function s4(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=_n(t,r);if(o<t.length-1)return Ja(e,n,t[o+1])}function c4(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=_n(t,n);if(o>0)return Ja(e,t[o-1],r)}function l4(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=_n(t,n);if(o<t.length-1)return Ja(e,t[o+1],r)}function u4(e,t,{empty:n}){return n}function Ga(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function tu(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const Jy=Math.PI,Qt=2*Jy,nu=.618;function f4({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let s,c,l="frame";if(vn(e)){let _;if({type:e,domain:c,inset:_,insetTop:n=_!==void 0?_:n,insetRight:r=_!==void 0?_:r,insetBottom:i=_!==void 0?_:i,insetLeft:o=_!==void 0?_:o,clip:l=l,...s}=e,e==null)return}typeof e!="function"&&({type:e}=ru(e));const{width:u,height:h,marginLeft:f,marginRight:d,marginTop:y,marginBottom:p}=a,g=u-f-d-o-r,b=h-y-p-n-i;if(e=e==null?void 0:e({width:g,height:b,clip:l,...s}),e==null)return;l=h4(l,f,y,u-d,h-p);let m=f+o,w=y+n,v;if(c!=null){const[[_,x],[k,A]]=ra(e).bounds(c),T=Math.min(g/(k-_),b/(A-x));T>0?(m-=(T*(_+k)-g)/2,w-=(T*(x+A)-b)/2,v=Pc({point($,M){this.stream.point($*T+m,M*T+w)}})):xn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return v??(v=m===0&&w===0?Gy():Pc({point(_,x){this.stream.point(_+m,x+w)}})),{stream:_=>e.stream(v.stream(l(_)))}}function ru(e){switch(`${e}`.toLowerCase()){case"albers-usa":return bt(Cx,.7463,.4673);case"albers":return Za(zd,.7463,.4673);case"azimuthal-equal-area":return bt(Lx,4,4);case"azimuthal-equidistant":return bt(Ux,Qt,Qt);case"conic-conformal":return Za(jx,Qt,Qt);case"conic-equal-area":return Za(oa,6.1702,2.9781);case"conic-equidistant":return Za(Fx,7.312,3.6282);case"equal-earth":return bt(zx,5.4133,2.6347);case"equirectangular":return bt(Ix,Qt,Jy);case"gnomonic":return bt(Wx,3.4641,3.4641);case"identity":return{type:Gy};case"reflect-y":return{type:d4};case"mercator":return bt(Dx,Qt,Qt);case"orthographic":return bt(qx,2,2);case"stereographic":return bt(Hx,2,2);case"transverse-mercator":return bt(Vx,Qt,Qt);default:throw new Error(`unknown projection type: ${e}`)}}function h4(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return pd(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function bt(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{var l,u,h;const c=e();return a!=null&&((l=c.precision)==null||l.call(c,a)),o!=null&&((u=c.rotate)==null||u.call(c,o)),typeof s=="number"&&((h=c.clipAngle)==null||h.call(c,s)),r!=null&&(c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2])),c},aspectRatio:n/t}}function Za(e,t,n){const{type:r,aspectRatio:i}=bt(e,t,n);return{type:o=>{const{parallels:a,domain:s,width:c,height:l}=o,u=r(o);return a!=null&&(u.parallels(a),s===void 0&&c!=null&&u.fitSize([c,l],{type:"Sphere"})),u},aspectRatio:i}}const Gy=qt({stream:e=>e}),d4=qt(Pc({point(e,t){this.stream.point(e,-t)}}));function p4(e,t,n,r){const i=n[e],o=n[t],a=i.length,s=n[e]=new Float64Array(a).fill(NaN),c=n[t]=new Float64Array(a).fill(NaN);let l;const u=r.stream({point(h,f){s[l]=h,c[l]=f}});for(l=0;l<a;++l)u.point(i[l],o[l])}function y4({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(vn(e)&&(e=e.type),e!=null)}function g4(e){if(typeof(e==null?void 0:e.stream)=="function")return nu;if(vn(e)){let t,n;if({domain:t,type:e,...n}=e,t!=null&&e!=null){const r=typeof e=="string"?ru(e).type:e,[[i,o],[a,s]]=ra(r({...n,width:100,height:100})).bounds(t),c=(s-o)/(a-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:nu}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=ru(e);if(t)return t}return nu}}function m4(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},o={point(a,s){t.push(a),n.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of e.value)Fn(a,o);return[r,i]}function iu(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:oy(n)}}function Ne(e,{document:t}){return lr(ko(e).call(t.documentElement))}const ou=Symbol("unset");function au(e){return(e.length===1?b4:v4)(e)}function b4(e){let t,n=ou;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function v4(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,t=e(...r)),t)}const w4=au(e=>new Intl.NumberFormat(e));au((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}})),au((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function x4(e="en-US"){const t=w4(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function _4(e){return n8(e,"Invalid Date")}function k4(e="en-US"){const t=x4(e);return n=>(n instanceof Date?_4:typeof n=="number"?t:Pe)(n)}const Ur=k4(),Ze=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let M4=0;function A4(){return`plot-clip-${++M4}`}function E4(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:h,strokeLinejoin:f,strokeLinecap:d,strokeMiterlimit:y,strokeDasharray:p,strokeDashoffset:g,opacity:b,mixBlendMode:m,imageFilter:w,paintOrder:v,pointerEvents:_,shapeRendering:x,channels:k},{ariaLabel:A,fill:T="currentColor",fillOpacity:$,stroke:M="none",strokeOpacity:L,strokeWidth:I,strokeLinecap:D,strokeLinejoin:E,strokeMiterlimit:O,paintOrder:X}){T===null&&(s=null,c=null),M===null&&(l=null,h=null),He(T)?!He(M)&&(!He(s)||k!=null&&k.fill)&&(M="none"):He(M)&&(!He(l)||k!=null&&k.stroke)&&(T="none");const[V,Y]=Ht(s,T),[U,F]=Fe(c,$),[j,B]=Ht(l,M),[ne,re]=Fe(h,L),[Q,z]=Fe(b);zi(B)||(u===void 0&&(u=I),d===void 0&&(d=D),f===void 0&&(f=E),y===void 0&&!$8(f)&&(y=O),!zi(Y)&&v===void 0&&(v=X));const[W,C]=Fe(u);return T!==null&&(e.fill=Re(Y,"currentColor"),e.fillOpacity=Gi(F,1)),M!==null&&(e.stroke=Re(B,"none"),e.strokeWidth=Gi(C,1),e.strokeOpacity=Gi(re,1),e.strokeLinejoin=Re(f,"miter"),e.strokeLinecap=Re(d,"butt"),e.strokeMiterlimit=Gi(y,4),e.strokeDasharray=Re(p,"none"),e.strokeDashoffset=Re(g,"0")),e.target=Pe(a),e.ariaLabel=Pe(A),e.ariaDescription=Pe(i),e.ariaHidden=Pe(o),e.opacity=Gi(z,1),e.mixBlendMode=Re(m,"normal"),e.imageFilter=Re(w,"none"),e.paintOrder=Re(v,"normal"),e.pointerEvents=Re(_,"auto"),e.shapeRendering=Re(x,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:V,scale:"auto",optional:!0},fillOpacity:{value:U,scale:"auto",optional:!0},stroke:{value:j,scale:"auto",optional:!0},strokeOpacity:{value:ne,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:Q,scale:"auto",optional:!0}}}function T4(e,t){t&&e.filter(n=>dl(t[n])).append("title").call($4,t)}function S4(e,t){t&&e.filter(([n])=>dl(t[n])).append("title").call(N4,t)}function $4(e,t){t&&e.text(n=>Ur(t[n]))}function N4(e,t){t&&e.text(([n])=>Ur(t[n]))}function Dr(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:c,strokeWidth:l,opacity:u,href:h}){r&&K(e,"aria-label",f=>r[f]),o&&K(e,"fill",f=>o[f]),a&&K(e,"fill-opacity",f=>a[f]),s&&K(e,"stroke",f=>s[f]),c&&K(e,"stroke-opacity",f=>c[f]),l&&K(e,"stroke-width",f=>l[f]),u&&K(e,"opacity",f=>u[f]),h&&eg(e,f=>h[f],t),n||T4(e,i)}function Zy(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:c,strokeWidth:l,opacity:u,href:h}){r&&K(e,"aria-label",([f])=>r[f]),o&&K(e,"fill",([f])=>o[f]),a&&K(e,"fill-opacity",([f])=>a[f]),s&&K(e,"stroke",([f])=>s[f]),c&&K(e,"stroke-opacity",([f])=>c[f]),l&&K(e,"stroke-width",([f])=>l[f]),u&&K(e,"opacity",([f])=>u[f]),h&&eg(e,([f])=>h[f],t),n||S4(e,i)}function R4({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:c},{tip:l}){return[e,l?void 0:t,n,r,i,o,a,s,c].filter(u=>u!==void 0)}function C4(e,t,n){const r=po(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&xn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*Ky(e,t,n,r){const{z:i}=n,{z:o}=r,a=R4(r,n),s=[...t,...a];for(const c of o?C4(e,o,i):[e]){let l,u;e:for(const h of c){for(const f of s)if(!pn(f[h])){u&&u.push(-1);continue e}if(l===void 0){u&&(yield u),l=a.map(f=>Yt(f[h])),u=[h];continue}u.push(h);for(let f=0;f<a.length;++f)if(Yt(a[f][h])!==l[f]){yield u,l=a.map(d=>Yt(d[h])),u=[h];continue e}}u&&(yield u)}}function L4(e,t,n,r){let i;const{clip:o=r.clip}=t;switch(o){case"frame":{e=Ne("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=U4(r,n);break}case"sphere":{i=D4(r);break}}K(e,"aria-label",t.ariaLabel),K(e,"aria-description",t.ariaDescription),K(e,"aria-hidden",t.ariaHidden),K(e,"clip-path",i)}function Qy(e){const t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){const o=A4();lr(n.ownerSVGElement).append("clipPath").attr("id",o).call(e,n,r),t.set(n,i=`url(#${o})`)}return i}}const U4=Qy((e,t,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:s,marginBottom:c}=n;e.append("rect").attr("x",o).attr("y",s).attr("width",r-a-o).attr("height",i-s-c)}),D4=Qy((e,t)=>{const{projection:n}=t;if(!n)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",ra(n)({type:"Sphere"}))});function en(e,t,n,r){L4(e,t,n,r),K(e,"class",t.className),K(e,"fill",t.fill),K(e,"fill-opacity",t.fillOpacity),K(e,"stroke",t.stroke),K(e,"stroke-width",t.strokeWidth),K(e,"stroke-opacity",t.strokeOpacity),K(e,"stroke-linejoin",t.strokeLinejoin),K(e,"stroke-linecap",t.strokeLinecap),K(e,"stroke-miterlimit",t.strokeMiterlimit),K(e,"stroke-dasharray",t.strokeDasharray),K(e,"stroke-dashoffset",t.strokeDashoffset),K(e,"shape-rendering",t.shapeRendering),K(e,"filter",t.imageFilter),K(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;K(e,"pointer-events",i)}function tn(e,t){O4(e,"mix-blend-mode",t.mixBlendMode),K(e,"opacity",t.opacity)}function eg(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(sr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(sr.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function K(e,t,n){n!=null&&e.attr(t,n)}function O4(e,t,n){n!=null&&e.style(t,n)}function nn(e,t,{x:n,y:r},i=Ze,o=Ze){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function Re(e,t){if((e=Pe(e))!==t)return e}function Gi(e,t){if((e=Ue(e))!==t)return e}const j4=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Ka(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!j4.test(e))throw new Error(`invalid class name: ${e}`);return e}function su(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Zi({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}class st{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:c,sort:l,dx:u=0,dy:h=0,margin:f=0,marginTop:d=f,marginRight:y=f,marginBottom:p=f,marginLeft:g=f,className:b,clip:m=i==null?void 0:i.clip,channels:w,tip:v,render:_}=r;if(this.data=t,this.sort=$r(l)?l:null,this.initializer=Cr(r).initializer,this.transform=this.initializer?r.transform:za(r).transform,o===null||o===!1?this.facet=null:(this.facet=mt(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===Da&&typeof s=="string"?[s]:s,this.fy=t===Da&&typeof c=="string"?[c]:c),this.facetAnchor=i4(a),n=iy(n),w!==void 0&&(n={...I4(w),...n}),i!==void 0&&(n={...E4(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([x,k])=>{if(Oa(k.value)){const{value:A,label:T=k.label,scale:$=k.scale}=k.value;k={...k,label:T,scale:$,value:A}}if(t===Da&&typeof k.value=="string"){const{value:A}=k;k={...k,value:[A]}}return[x,k]}).filter(([x,{value:k,optional:A}])=>{if(k!=null)return!0;if(A)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+u,this.dy=+h,this.marginTop=+d,this.marginRight=+y,this.marginBottom=+p,this.marginLeft=+g,this.clip=oy(m),this.tip=P4(v),this.className=b?Ka(b):null,this.facet==="super"){if(s||c)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:k}=n[x];if(!(k!=="x"&&k!=="y"))throw new Error("super-faceting cannot use x or y")}}_!=null&&(this.render=ng(_,this.render))}initialize(t,n,r){let i=Sr(this.data);t===void 0&&i!=null&&(t=[Vt(i)]);const o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=Sr(i)),t!==void 0&&(t.original=o);const a=n5(this.channels,i);return this.sort!=null&&i5(i,t,a,n,this.sort),{data:i,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:o=pn}=n[i];if(o!==null){const a=r[i];t=t.filter(s=>o(a[s]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&p4(i,o,n,r.projection)}}scale(t,n,r){const i=r5(t,n);return r.projection&&this.project(t,i,r),i}}function tg(...e){return e.plot=st.prototype.plot,e}function ng(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,a,s){return e.call(this,n,r,i,o,a,(c,l,u,h,f)=>t.call(this,c,l,u,h,f,s))}}function I4(e){return Object.fromEntries(Object.entries(iy(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:Bi(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function P4(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?mt(e,"tip",["x","y","xy"]):e}function Qa(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:vn(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function F4(e,t,n={}){let r=.5-Ze,i=.5+Ze,o=.5+Ze,a=.5-Ze;for(const{marginTop:p,marginRight:g,marginBottom:b,marginLeft:m}of t)p>r&&(r=p),g>i&&(i=g),b>o&&(o=b),m>a&&(a=m);let{margin:s,marginTop:c=s!==void 0?s:r,marginRight:l=s!==void 0?s:i,marginBottom:u=s!==void 0?s:o,marginLeft:h=s!==void 0?s:a}=n;c=+c,l=+l,u=+u,h=+h;let{width:f=640,height:d=B4(e,n,{width:f,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+u-o)}=n;f=+f,d=+d;const y={width:f,height:d,marginTop:c,marginRight:l,marginBottom:u,marginLeft:h};if(e.fx||e.fy){let{margin:p,marginTop:g=p!==void 0?p:c,marginRight:b=p!==void 0?p:l,marginBottom:m=p!==void 0?p:u,marginLeft:w=p!==void 0?p:h}=n.facet??{};g=+g,b=+b,m=+m,w=+w,y.facet={marginTop:g,marginRight:b,marginBottom:m,marginLeft:w}}return y}function B4({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:c,marginBottomDefault:l,marginLeftDefault:u}){const h=n&&n.scale.domain().length||1,f=g4(i);if(f){const y=r?r.scale.domain().length:1,p=(1.1*h-.1)/(1.1*y-.1)*f,g=Math.max(.1,Math.min(10,p));return Math.round((a-u-c)*g+s+l)}const d=t?Gn(t)?t.scale.domain().length||1:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const y=rg("y",t)/(rg("x",e)*o),p=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,b=p*(a-u-c)-e.insetLeft-e.insetRight;return(y*b+t.insetTop+t.insetBottom)/g+s+l}return!!(t||n)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function rg(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=c=>Math.pow(c,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=Ke(r);return Math.abs(i(a)-i(o))}const ig=new WeakMap;function cu(e,t,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:s,render:c,...l}={}){return a=+a,i!=null&&(n??(n=null),s={...s,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),s={...s,py:{value:o,scale:"y"}}),{x:n,y:r,channels:s,...l,render:ng(function(u,h,f,d,y,p){y={...y,pointerSticky:!1};const g=y.ownerSVGElement,{data:b}=y.getMarkState(this);let m=ig.get(g);m||ig.set(g,m={sticky:!1,roots:[],renders:[]});let w=m.renders.push(B)-1;const{x:v,y:_,fx:x,fy:k}=h;let A=x?x(u.fx)-d.marginLeft:0,T=k?k(u.fy)-d.marginTop:0;v!=null&&v.bandwidth&&(A+=v.bandwidth()/2),_!=null&&_.bandwidth&&(T+=_.bandwidth()/2);const $=u.fi!=null;let M;if($){let z=m.facetStates;z||(m.facetStates=z=new Map),M=z.get(this),M||z.set(this,M=new Map)}const[L,I]=Zi(this,d),{px:D,py:E}=f,O=D?z=>D[z]:ag(f,L),X=E?z=>E[z]:sg(f,I);let V,Y,U,F;function j(z,W){if($)if(F&&(F=cancelAnimationFrame(F)),z==null)M.delete(u.fi);else{M.set(u.fi,W),F=requestAnimationFrame(()=>{F=null;for(const[C,P]of M)if(P<W||P===W&&C<u.fi){z=null;break}B(z)});return}B(z)}function B(z){if(V===z&&U===m.sticky)return;V=z,U=y.pointerSticky=m.sticky;const W=V==null?[]:[V];$&&(W.fx=u.fx,W.fy=u.fy,W.fi=u.fi);const C=p(W,h,f,d,y);if(Y){if($){const P=Y.parentNode,q=Y.getAttribute("transform"),S=C.getAttribute("transform");q?C.setAttribute("transform",q):C.removeAttribute("transform"),S?P.setAttribute("transform",S):P.removeAttribute("transform"),C.removeAttribute("aria-label"),C.removeAttribute("aria-description"),C.removeAttribute("aria-hidden")}Y.replaceWith(C)}if(m.roots[w]=Y=C,!(V==null&&(M==null?void 0:M.size)>1)){const P=V==null?null:Xn(b)?b[V]:b.get(V);y.dispatchValue(P)}return C}function ne(z){if(m.sticky||z.pointerType==="mouse"&&z.buttons===1)return;let[W,C]=Xv(z);W-=A,C-=T;const P=W<d.marginLeft||W>d.width-d.marginRight?1:e,q=C<d.marginTop||C>d.height-d.marginBottom?1:t;let S=null,ie=a*a;for(const H of u){const se=P*(O(H)-W),he=q*(X(H)-C),je=se*se+he*he;je<=ie&&(S=H,ie=je)}if(S!=null&&(e!==1||t!==1)){const H=O(S)-W,se=X(S)-C;ie=H*H+se*se}j(S,ie)}function re(z){z.pointerType==="mouse"&&V!=null&&(m.sticky&&m.roots.some(W=>W==null?void 0:W.contains(z.target))||(m.sticky?(m.sticky=!1,m.renders.forEach(W=>W(null))):(m.sticky=!0,B(V)),z.stopImmediatePropagation()))}function Q(z){z.pointerType==="mouse"&&(m.sticky||j(null))}return g.addEventListener("pointerenter",ne),g.addEventListener("pointermove",ne),g.addEventListener("pointerdown",re),g.addEventListener("pointerleave",Q),B(null)},c)}}function z4(e){return cu(1,1,e)}function W4(e){return cu(1,.01,e)}function og(e){return cu(.01,1,e)}function ag({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function sg({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function cg(e){return Gn(e)&&e.interval===void 0?void 0:"tabular-nums"}function q4(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:c=16+r,marginLeft:l=0,style:u,ticks:h=(i-l-s)/64,tickFormat:f,fontVariant:d=cg(e),round:y=!0,opacity:p,className:g}=t;const b=iu(t);g=Ka(g),p=Fe(p)[1],f===null&&(f=()=>null);const m=Ne("svg",b).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(L=>L.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(su,u);let w=L=>L.selectAll(".tick line").attr("y1",a+c-o),v;const _=y?(L,I)=>L.rangeRound(I):(L,I)=>L.range(I),{type:x,domain:k,range:A,interpolate:T,scale:$,pivot:M}=e;if(T){const L=A===void 0?T:Co(T.length===1?Wl(T):T,A);v=_($.copy(),ut(Le(l,i-s),Math.min(k.length+(M!==void 0),A===void 0?1/0:A.length)));const I=256,D=b.document.createElement("canvas");D.width=I,D.height=1;const E=D.getContext("2d");for(let O=0,X=I-1;O<I;++O)E.fillStyle=L(O/X),E.fillRect(O,0,1,1);m.append("image").attr("opacity",p).attr("x",l).attr("y",a).attr("width",i-l-s).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",D.toDataURL())}else if(x==="threshold"){const L=k,I=f===void 0?D=>D:typeof f=="string"?gr(f):f;v=_(Xc().domain([-1,A.length-1]),[l,i-s]),m.append("g").attr("fill-opacity",p).selectAll().data(A).enter().append("rect").attr("x",(D,E)=>v(E-1)).attr("y",a).attr("width",(D,E)=>v(E)-v(E-1)).attr("height",o-a-c).attr("fill",D=>D),h=ve(L,(D,E)=>E),f=D=>I(L[D],D)}else v=_(fa().domain(k),[l,i-s]),m.append("g").attr("fill-opacity",p).selectAll().data(k).enter().append("rect").attr("x",v).attr("y",a).attr("width",Math.max(0,v.bandwidth()-1)).attr("height",o-a-c).attr("fill",$),w=()=>{};return m.append("g").attr("transform",`translate(0,${o-c})`).call(f2(v).ticks(Array.isArray(h)?null:h,typeof f=="string"?f:void 0).tickFormat(typeof f=="function"?f:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Re(d,"normal")).call(w).call(L=>L.select(".domain").remove()),n!==void 0&&m.append("text").attr("x",l).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),m.node()}const lg=Math.PI/180;function lu(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=uu(n),e.markerMid=uu(r),e.markerEnd=uu(i)}function uu(e){if(e==null||e===!1)return null;if(e===!0)return fg;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return ug("auto");case"arrow-reverse":return ug("auto-start-reverse");case"dot":return H4;case"circle":case"circle-fill":return fg;case"circle-stroke":return V4;case"tick":return fu("auto");case"tick-x":return fu(90);case"tick-y":return fu(0)}throw new Error(`invalid marker: ${e}`)}function ug(e){return(t,n)=>Ne("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function H4(e,t){return Ne("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function fg(e,t){return Ne("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function V4(e,t){return Ne("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function fu(e){return(t,n)=>Ne("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let Y4=0;function hg(e,t,{stroke:n},r){return pg(e,t,n&&(i=>n[i]),null,r)}function X4(e,t,{stroke:n,z:r},i){return pg(e,t,n&&(([o])=>n[o]),r,i)}const hu=1,dg=2;function J4(e,t){const n=new Uint8Array(t.length),r=e.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=ou;o<i;++o){const s=r[o];if(s.length>1){const c=s[0];a!==(a=Yt(t[c]))&&(n[c]|=hu)}}for(let o=i-1,a=ou;o>=0;--o){const s=r[o];if(s.length>1){const c=s[0];a!==(a=Yt(t[c]))&&(n[c]|=dg)}}return([o])=>n[o]}function pg(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a,s){if(!t&&!n&&!r)return;const c=new Map,l=a&&J4(e,a);function u(h,f,d){return function(y){if(d&&!d(y))return;const p=o(y);let g=c.get(f);g||c.set(f,g=new Map);let b=g.get(p);if(!b){const m=this.parentNode.insertBefore(f(p,s),this),w=`plot-marker-${++Y4}`;m.setAttribute("id",w),g.set(p,b=`url(#${w})`)}this.setAttribute(h,b)}}t&&e.each(u("marker-start",t,l&&(h=>l(h)&hu))),n&&l&&e.each(u("marker-start",n,h=>!(l(h)&hu))),n&&e.each(u("marker-mid",n)),r&&e.each(u("marker-end",r,l&&(h=>l(h)&dg)))}function yg({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=gg(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function du({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=gg(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function gg(e,t,n){return e===void 0&&t===void 0&&n===void 0?Ze?[1,0]:[.5,.5]:[t,n]}function mg(e,{interval:t}){return e={...Bi(e)},e.interval=Sl(e.interval===void 0?t:e.interval),e}function bg(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:s,interval:c}=mg(i,n);if(s==null||c==null&&!r)return n;const l=Jn(i);if(c==null){let d;const y={transform:p=>d||(d=Me(p,s)),label:l};return{...n,[e]:void 0,[`${e}1`]:o===void 0?y:o,[`${e}2`]:a===void 0&&!(o===a&&r)?y:a}}let u,h;function f(d){return h!==void 0&&d===u?h:h=ve(Me(u=d,s),y=>c.floor(y))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:f,label:l}:o,[`${e}2`]:a===void 0?{transform:d=>f(d).map(y=>c.offset(y)),label:l}:a})}function vg(e,t,n){const{[e]:r}=n,{value:i,interval:o}=mg(r,n);return i==null||o==null?n:t({...n,[e]:{label:Jn(r),transform:a=>{const s=ve(Me(a,i),l=>o.floor(l)),c=s.map(l=>o.offset(l));return s.map(qe(s)?(l,u)=>l==null||isNaN(l=+l)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((l+u)/2):(l,u)=>l==null||(u=c[u],u==null)?NaN:(+l+ +u)/2)}}})}function G4(e={}){return bg("x",yg,e)}function Z4(e={}){return bg("y",du,e)}function K4(e={}){return vg("x",yg,e)}function Q4(e={}){return vg("y",du,e)}const wg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class e7 extends st{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:c=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Qa(n,"x"),wg),this.insetTop=Ue(s),this.insetBottom=Ue(c),lu(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y1:l,y2:u}=r,{width:h,height:f,marginTop:d,marginRight:y,marginLeft:p,marginBottom:g}=i,{insetTop:b,insetBottom:m}=this;return Ne("svg:g",o).call(en,this,i,o).call(nn,this,{x:c&&a},Ze,0).call(w=>w.selectAll().data(t).enter().append("line").call(tn,this).attr("x1",c?v=>c[v]:(p+h-y)/2).attr("x2",c?v=>c[v]:(p+h-y)/2).attr("y1",l&&!Ya(s)?v=>l[v]+b:d+b).attr("y2",u&&!Ya(s)?s.bandwidth?v=>u[v]+s.bandwidth()-m:v=>u[v]-m:f-g-m).call(Dr,this,r).call(hg,this,r,o)).node()}}class t7 extends st{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:c=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Qa(n,"y"),wg),this.insetRight=Ue(s),this.insetLeft=Ue(c),lu(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n,{y:c,x1:l,x2:u}=r,{width:h,height:f,marginTop:d,marginRight:y,marginLeft:p,marginBottom:g}=i,{insetLeft:b,insetRight:m}=this;return Ne("svg:g",o).call(en,this,i,o).call(nn,this,{y:c&&s},0,Ze).call(w=>w.selectAll().data(t).enter().append("line").call(tn,this).attr("x1",l&&!Ya(a)?v=>l[v]+b:p+b).attr("x2",u&&!Ya(a)?a.bandwidth?v=>u[v]+a.bandwidth()-m:v=>u[v]-m:h-y-m).attr("y1",c?v=>c[v]:(d+f-g)/2).attr("y2",c?v=>c[v]:(d+f-g)/2).call(Dr,this,r).call(hg,this,r,o)).node()}}function xg(e,t){let{x:n=Ge,y:r,y1:i,y2:o,...a}=Z4(t);return[i,o]=_g(r,i,o),new e7(e,{...a,x:n,y1:i,y2:o})}function pu(e,t){let{y:n=Ge,x:r,x1:i,x2:o,...a}=G4(t);return[i,o]=_g(r,i,o),new t7(e,{...a,y:n,x1:i,x2:o})}function _g(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function yu(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const n7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},kg="\xAD";class gu extends st{constructor(t,n={}){const{x:r,y:i,text:o=wn(t)&&ny(t)?Ge:J1,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:l=1,lineWidth:u=1/0,textOverflow:h,monospace:f,fontFamily:d=f?"ui-monospace, monospace":void 0,fontSize:y,fontStyle:p,fontVariant:g,fontWeight:b,rotate:m}=n,[w,v]=Fe(m,0),[_,x]=c7(y);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:_,optional:!0},rotate:{value:k8(w),optional:!0},text:{value:o,filter:dl,optional:!0}},n,n7),this.rotate=v,this.textAnchor=Re(s,"middle"),this.lineAnchor=mt(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+u,this.textOverflow=Mg(h),this.monospace=!!f,this.fontFamily=Pe(d),this.fontSize=x,this.fontStyle=Pe(p),this.fontVariant=Pe(g),this.fontWeight=Pe(b),this.frameAnchor=Fa(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=Sg(this),this.clipLine=$g(this)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:l,rotate:u,text:h,title:f,fontSize:d}=r,{rotate:y}=this,[p,g]=Zi(this,i);return Ne("svg:g",o).call(en,this,i,o).call(Eg,this,h,i).call(nn,this,{x:c&&a,y:l&&s}).call(b=>b.selectAll().data(t).enter().append("text").call(tn,this).call(r7,this,h,f).attr("transform",yu`translate(${c?m=>c[m]:p},${l?m=>l[m]:g})${u?m=>` rotate(${u[m]})`:y?` rotate(${y})`:""}`).call(K,"font-size",d&&(m=>d[m])).call(Dr,this,r)).node()}}function Mg(e){return e==null?null:mt(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function r7(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:c}=t;e.each(function(l){const u=s(Ur(n[l])??"").map(c),h=u.length,f=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let y=0;y<h;++y){if(++d,!u[y])continue;const p=this.ownerDocument.createElementNS(sr.svg,"tspan");p.setAttribute("x",0),y===d-1?p.setAttribute("y",`${(f+y)*o}em`):p.setAttribute("dy",`${d*o}em`),p.textContent=u[y],this.appendChild(p),d=0}}else f&&this.setAttribute("y",`${f*o}em`),this.textContent=u[0];if(a&&!r&&u[0]!==n[l]){const d=this.ownerDocument.createElementNS(sr.svg,"title");d.textContent=n[l],this.appendChild(d)}})}function Ag(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ja(t,n)),new gu(e,{...r,x:t,y:n})}function i7(e,{x:t=Ge,...n}={}){return new gu(e,Q4({...n,x:t}))}function o7(e,{y:t=Ge,...n}={}){return new gu(e,K4({...n,y:t}))}function Eg(e,t,n){K(e,"text-anchor",t.textAnchor),K(e,"font-family",t.fontFamily),K(e,"font-size",t.fontSize),K(e,"font-style",t.fontStyle),K(e,"font-variant",t.fontVariant===void 0?a7(n):t.fontVariant),K(e,"font-weight",t.fontWeight)}function a7(e){return e&&(E8(e)||qe(e))?"tabular-nums":void 0}const s7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function c7(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),s7.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function l7(e,t,n){const r=[];let i,o=0;for(const[a,s,c]of u7(e)){if(i===void 0&&(i=a),o>i&&n(e,i,s)>t&&(r.push(e.slice(i,o)+(e[o-1]===kg?"-":"")),i=a),c){r.push(e.slice(i,s)),i=void 0;continue}o=s}return r}function*u7(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case kg:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Tg={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"\u2018":31,"\u2019":31,"\u201C":47,"\u201D":47,"\u2026":82};function mu(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Ir(e,i))r+=Tg[e[i]]??(Ug(e,i)?120:Tg.e);return r}function bu(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Ir(e,i))r+=Ug(e,i)?126:63;return r}function Sg({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?bu:mu,i=t*100;return o=>l7(o,i,r)}function $g({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?bu:mu,i=t*100;switch(n){case"clip-start":return o=>Rg(o,i,r,"");case"clip-end":return o=>Ng(o,i,r,"");case"ellipsis-start":return o=>Rg(o,i,r,Or);case"ellipsis-middle":return o=>f7(o,i,r,Or);case"ellipsis-end":return o=>Ng(o,i,r,Or)}}const Or="\u2026";function jr(e,t,n,r){const i=[];let o=0;for(let a=0,s=0,c=e.length;a<c;a=s){s=Ir(e,a);const l=n(e,a,s);if(o+l>t){for(o+=r;o>t&&a>0;)s=a,a=i.pop(),o-=n(e,a,s);return[a,t-o]}o+=l,i.push(a)}return[-1,0]}function Ng(e,t,n,r){e=e.trim();const i=n(r),[o]=jr(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function f7(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,s]=jr(e,t/2,n,o),[c]=jr(e,i-t/2-s+o,n,-o);return c<0?r:e.slice(0,a).trimEnd()+r+e.slice(Ir(e,c)).trimStart()}function Rg(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=jr(e,i-t+o,n,-o);return a<0?r:r+e.slice(Ir(e,a)).trimStart()}const vu=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Cg=/\p{Extended_Pictographic}/uy;function Ir(e,t){return t+=h7(e,t)?2:1,p7(e,t)&&(t=vu.lastIndex),d7(e,t)?Ir(e,t+1):t}function Lg(e,t){return e.charCodeAt(t)<128}function h7(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function d7(e,t){return e.charCodeAt(t)===8205}function p7(e,t){return Lg(e,t)?!1:(vu.lastIndex=t,vu.test(e))}function Ug(e,t){return Lg(e,t)?!1:(Cg.lastIndex=t,Cg.test(e))}const y7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Dg=3.5,g7=Dg*5,Og={draw(e,t,n){const r=t*n/g7;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},m7={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},b7=new Map([["arrow",Og],["spike",m7]]);function v7(e){return e&&typeof e.draw=="function"}function w7(e){if(v7(e))return e;const t=b7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class jg extends st{constructor(t,n={}){const{x:r,y:i,r:o=Dg,length:a,rotate:s,shape:c=Og,anchor:l="middle",frameAnchor:u}=n,[h,f]=Fe(a,12),[d,y]=Fe(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,y7),this.r=+o,this.length=f,this.rotate=y,this.shape=w7(c),this.anchor=mt(l,"anchor",["start","middle","end"]),this.frameAnchor=Fa(u)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:l,length:u,rotate:h}=r,{length:f,rotate:d,anchor:y,shape:p,r:g}=this,[b,m]=Zi(this,i);return Ne("svg:g",o).call(en,this,i,o).call(nn,this,{x:c&&a,y:l&&s}).call(w=>w.selectAll().data(t).enter().append("path").call(tn,this).attr("transform",yu`translate(${c?v=>c[v]:b},${l?v=>l[v]:m})${h?v=>` rotate(${h[v]})`:d?` rotate(${d})`:""}${y==="start"?"":y==="end"?u?v=>` translate(0,${u[v]})`:` translate(0,${f})`:u?v=>` translate(0,${u[v]/2})`:` translate(0,${f/2})`}`).attr("d",u?v=>{const _=Pn();return p.draw(_,u[v],g),_}:(()=>{const v=Pn();return p.draw(v,f,g),v})()).call(Dr,this,r)).node()}}function x7(e,t={}){const{x:n=Ge,...r}=t;return new jg(e,{...r,x:n})}function _7(e,t={}){const{y:n=Ge,...r}=t;return new jg(e,{...r,y:n})}function kn(e,t){return arguments.length<2&&!wn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function es({anchor:e}={},t){return e===void 0?t[0]:mt(e,"anchor",t)}function Ig(e){return es(e,["left","right"])}function Pg(e){return es(e,["right","left"])}function Fg(e){return es(e,["bottom","top"])}function Bg(e){return es(e,["top","bottom"])}function zg(){const[e,t]=kn(...arguments);return Wg("y",Ig(t),e,t)}function k7(){const[e,t]=kn(...arguments);return Wg("fy",Pg(t),e,t)}function wu(){const[e,t]=kn(...arguments);return qg("x",Fg(t),e,t)}function M7(){const[e,t]=kn(...arguments);return qg("fx",Bg(t),e,t)}function Wg(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:h,textStrokeOpacity:f,textStrokeWidth:d,tickSize:y=e==="y"?6:0,tickPadding:p,tickRotate:g,x:b,margin:m,marginTop:w=m===void 0?20:m,marginRight:v=m===void 0?t==="right"?40:0:m,marginBottom:_=m===void 0?20:m,marginLeft:x=m===void 0?t==="left"?40:0:m,label:k,labelAnchor:A,labelArrow:T,labelOffset:$,...M}){return y=Ue(y),p=Ue(p),g=Ue(g),A!==void 0&&(A=mt(A,"labelAnchor",["center","top","bottom"])),T=Kg(T),tg(y&&!He(o)?A7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:y,tickPadding:p,tickRotate:g,x:b,...M}):null,He(c)?null:T7(e,t,n,{fill:c,fillOpacity:l,stroke:h,strokeOpacity:f,strokeWidth:d,textAnchor:u,tickSize:y,tickPadding:p,tickRotate:g,x:b,marginTop:w,marginRight:v,marginBottom:_,marginLeft:x,...M}),!He(c)&&k!==null?Ag([],Xg({fill:c,fillOpacity:l,...M},function(L,I,D,E,O){const X=E[e],{marginTop:V,marginRight:Y,marginBottom:U,marginLeft:F}=e==="y"&&O.inset||O,j=A??(X.bandwidth?"center":"top"),B=$??(t==="right"?Y:F)-3;return j==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=j,this.frameAnchor=`${j}-${t}`,this.rotate=0),this.dy=j==="top"?3-V:j==="bottom"?U-3:0,this.dx=t==="right"?B:-B,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Zg(e,X,{anchor:t,label:k,labelAnchor:j,labelArrow:T})]}}}})):null)}function qg(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:h,textStrokeOpacity:f,textStrokeWidth:d,tickSize:y=e==="x"?6:0,tickPadding:p,tickRotate:g,y:b,margin:m,marginTop:w=m===void 0?t==="top"?30:0:m,marginRight:v=m===void 0?20:m,marginBottom:_=m===void 0?t==="bottom"?30:0:m,marginLeft:x=m===void 0?20:m,label:k,labelAnchor:A,labelArrow:T,labelOffset:$,...M}){return y=Ue(y),p=Ue(p),g=Ue(g),A!==void 0&&(A=mt(A,"labelAnchor",["center","left","right"])),T=Kg(T),tg(y&&!He(o)?E7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:y,tickPadding:p,tickRotate:g,y:b,...M}):null,He(c)?null:S7(e,t,n,{fill:c,fillOpacity:l,stroke:h,strokeOpacity:f,strokeWidth:d,textAnchor:u,tickSize:y,tickPadding:p,tickRotate:g,y:b,marginTop:w,marginRight:v,marginBottom:_,marginLeft:x,...M}),!He(c)&&k!==null?Ag([],Xg({fill:c,fillOpacity:l,...M},function(L,I,D,E,O){const X=E[e],{marginTop:V,marginRight:Y,marginBottom:U,marginLeft:F}=e==="x"&&O.inset||O,j=A??(X.bandwidth?"center":"right"),B=$??(t==="top"?V:U)-3;return j==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${j}`,this.textAnchor=j==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-B:B,this.dx=j==="right"?Y-3:j==="left"?3-F:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Zg(e,X,{anchor:t,label:k,labelAnchor:j,labelArrow:T})]}}}})):null)}function A7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:l=0,insetLeft:u=l,insetRight:h=l,dx:f=0,y:d=e==="y"?void 0:null,...y}){return Pr(_7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:d,...y,dx:t==="left"?+f-Ze+ +u:+f+Ze-h,anchor:"start",length:c,shape:t==="left"?O7:j7})}function E7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:l=0,insetTop:u=l,insetBottom:h=l,dy:f=0,x:d=e==="x"?void 0:null,...y}){return Pr(x7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:d,...y,dy:t==="bottom"?+f-Ze-h:+f+Ze+ +u,anchor:"start",length:c,shape:t==="bottom"?U7:D7})}function T7(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*lg):0),text:c,textAnchor:l=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:u=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:f=0,insetLeft:d=f,insetRight:y=f,dx:p=0,y:g=e==="y"?void 0:null,...b}){return Pr(o7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:l,lineAnchor:u,fontVariant:h,rotate:a,y:g,...b,dx:t==="left"?+p-o-s+ +d:+p+ +o+ +s-y},function(m,w,v,_,x){h===void 0&&(this.fontVariant=Gg(m)),c===void 0&&(x.text=Jg(m,w,v,_,t))})}function S7(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*lg):0),text:c,textAnchor:l=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:h,inset:f=0,insetTop:d=f,insetBottom:y=f,dy:p=0,x:g=e==="x"?void 0:null,...b}){return Pr(i7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:l,lineAnchor:u,fontVariant:h,rotate:a,x:g,...b,dy:t==="bottom"?+p+ +o+ +s-y:+p-o-s+ +d},function(m,w,v,_,x){h===void 0&&(this.fontVariant=Gg(m)),c===void 0&&(x.text=Jg(m,w,v,_,t))})}function $7(){const[e,t]=kn(...arguments);return Hg("y",Ig(t),e,t)}function N7(){const[e,t]=kn(...arguments);return Hg("fy",Pg(t),e,t)}function R7(){const[e,t]=kn(...arguments);return Vg("x",Fg(t),e,t)}function C7(){const[e,t]=kn(...arguments);return Vg("fx",Bg(t),e,t)}function Hg(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...s}){return Pr(pu,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...Yg(s)})}function Vg(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...s}){return Pr(xg,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...Yg(s)})}function Yg({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function Xg({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:c,shapeRendering:l,clip:u=!1},h){return[,e]=Ht(e),[,t]=Fe(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:c,shapeRendering:l,clip:u,initializer:h}}function Pr(e,t,n,r,i,o){let a;function s(u,h,f,d,y,p){const g=u==null&&(t==="fx"||t==="fy"),{[t]:b}=d;if(!b)throw new Error(`missing scale: ${t}`);const m=b.domain();let{interval:w,ticks:v,tickFormat:_,tickSpacing:x=t==="x"?80:35}=i;if(typeof v=="string"&&Qg(b)&&(w=v,v=void 0),v===void 0&&(v=Nr(w,b.type)??L7(b,x)),u==null){if(wn(v))u=bn(v);else if(Rr(v))u=_u(v,...Ke(m));else if(b.interval){let A=b.interval;if(b.ticks){const[T,$]=Ke(m),M=($-T)/A[ji];A=z1(A,M/v)??A,u=_u(A,T,$)}else{u=m;const T=u.length;A=z1(A,T/v)??A,A!==b.interval&&(u=_u(A,...Ke(u)))}if(A===b.interval){const T=Math.round(u.length/v);T>1&&(u=u.filter(($,M)=>M%T===0))}}else b.ticks?u=b.ticks(v):u=m;if(!b.ticks&&u.length&&u!==m){const A=new ho(m);u=u.filter(T=>A.has(T)),u.length||xn(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?h=[Vt(u)]:a[t]={scale:t,value:Ge}}o==null||o.call(this,b,u,v,_,a);const k=Object.fromEntries(Object.entries(a).map(([A,T])=>[A,{...T,value:Me(u,T.value)}]));return g&&(h=p.filterFacets(u,k)),{data:u,facets:h,channels:k}}const c=Cr(i).initializer,l=e(n,Cr({...i,initializer:s},c));return n==null?(a=l.channels,l.channels={}):a={},r!==void 0&&Object.assign(l,r),l.clip===void 0&&(l.clip=!1),l}function L7(e,t){const[n,r]=Ke(e.range());return(r-n)/t}function Jg(e,t,n,r,i){return{value:xu(e,t,n,r,i)}}function xu(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&qe(t)?c8(e.type,t,i)??Ur:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?Ur:typeof r=="string"?(qe(e.domain())?Li:gr)(r):qt(r)}function _u(e,t,n){return e.range(t,e.offset(e.floor(n)))}const U7={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},D7={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},O7={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},j7={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Gg(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function Zg(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Qg(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=H5(t);a&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`\u2190 ${r}`;case"right":return`${r} \u2192`;case"up":return n==="right"?`${r} \u2191`:`\u2191 ${r}`;case"down":return n==="right"?`${r} \u2193`:`\u2193 ${r}`}return r}}function Kg(e="auto"){return He(e)?!1:typeof e=="boolean"?e:mt(e,"labelArrow",["auto","up","right","down","left"])}function Qg(e){return qe(e.domain())}function em(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function I7(e,{opacity:t,...n}={}){if(!Gn(e)&&!Yy(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return tm(e,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Fe(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function P7(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(u=>(u=e.hint)==null?void 0:u.stroke)()!==void 0?e.hint.stroke:He(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},c){const[h,f]=Ht(t),[d,y]=Ht(r),p=em(c,h),g=em(c,d),b=a*a*Math.PI;return n=Fe(n)[1],i=Fe(i)[1],o=Fe(o)[1],tm(e,s,(m,w,v,_)=>m.append("svg").attr("viewBox","-8 -8 16 16").attr("width",v).attr("height",_).attr("fill",h==="color"?x=>p.scale(x):f).attr("fill-opacity",n).attr("stroke",d==="color"?x=>g.scale(x):y).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",x=>{const k=Pn();return e.scale(x).draw(k,b),k}))}function tm(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=cg(e),swatchSize:a=15,swatchWidth:s=a,swatchHeight:c=a,marginLeft:l=0,className:u,style:h,width:f}=t;const d=iu(t);u=Ka(u),i=xu(e.scale,e.domain,void 0,i);const y=Ne("div",d).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let p;return r!=null?(p=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,y.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,e,s,c).call(g=>g.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(p=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,y.selectAll().data(e.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,e,s,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),y.call(g=>g.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${p}`)).style("margin-left",l?`${+l}px`:null).style("width",f===void 0?null:`${+f}px`).style("font-variant",Re(o,"normal")).call(su,h).node()}const ku=new Map([["symbol",P7],["color",rm],["opacity",B7]]);function F7(e,t,n={}){return(r,i)=>{if(!ku.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return ku.get(r)(e[r],nm(t,n[r],i),o=>e[o])}}function nm({className:e,...t},{label:n,ticks:r,tickFormat:i}={},o){return N8(o,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function rm(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return I7(e,n);case"ramp":return q4(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function B7({type:e,interpolate:t,...n},{legend:r=!0,color:i=un(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return rm({type:e,...n,interpolate:z7(i)},{legend:r,...o})}function z7(e){const{r:t,g:n,b:r}=un(e)||un(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function W7(e,t,n){const r=[];for(const[i,o]of ku){const a=n[i];if(a!=null&&a.legend&&i in e){const s=o(e[i],nm(t,e[i],a),c=>e[c]);s!=null&&r.push(s)}}return r}function q7(e={}){return g8(e)?e:{...e,x:Ge}}function H7(e,t){if(t.length===1)return{data:e,facets:t};const n=Fi(e),r=new Uint8Array(n);let i=0;for(const s of t)for(const c of s)r[c]&&++i,r[c]=1;if(i===0)return{data:e,facets:t};e=Pi(e);const o=e[V1]=new Uint32Array(n+i);t=t.map(s=>Pi(s,Uint32Array));let a=n;r.fill(0);for(const s of t)for(let c=0,l=s.length;c<l;++c){const u=s[c];r[u]?(s[c]=a,e[a]=e[u],o[a]=u,++a):o[u]=u,r[u]=1}return{data:e,facets:t}}function V7(e={},t={}){arguments.length===1&&([e,t]=X7(e));const{y1:n,y:r=n,x:i,...o}=t,[a,s,c,l]=G7(r,i,"y","x",e,o);return{...a,y1:n,y:s,x1:c,x2:l,x:Tl(c,l)}}function Y7({x:e,x1:t,x2:n,...r}={}){return r=Qa(r,"y"),t===void 0&&n===void 0?V7({x:e,...r}):([t,n]=m8(e,t,n),{...r,x1:t,x2:n})}function X7(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const J7={length:!0};function G7(e,t=d8,n,r,{offset:i,order:o,reverse:a},s){if(t===null)throw new Error(`stack requires ${r}`);const c=Al(s),[l,u]=Xt(e),[h,f]=Ia(t),[d,y]=Ia(t);return h.hint=d.hint=J7,i=Z7(i),o=e9(o,i,r),[za(s,(p,g,b)=>{({data:p,facets:g}=H7(p,g));const m=e==null?void 0:u(ey(Me(p,e),b==null?void 0:b[n])),w=Me(p,t,Float64Array),v=Me(p,c),_=o&&o(p,m,w,v),x=Fi(p),k=f(new Float64Array(x)),A=y(new Float64Array(x)),T=[];for(const $ of g){const M=m?Array.from(po($,L=>m[L]).values()):[$];if(_)for(const L of M)L.sort(_);for(const L of M){let I=0,D=0;a&&L.reverse();for(const E of L){const O=w[E];O<0?I=A[E]=(k[E]=I)+O:O>0?D=A[E]=(k[E]=D)+O:A[E]=k[E]=D}}T.push(M)}return i&&i(T,k,A,v),{data:p,facets:g}}),l,h,d]}function Z7(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return K7;case"center":case"silhouette":return Q7;case"wiggle":return om}throw new Error(`unknown offset: ${e}`)}}function im(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function K7(e,t,n){for(const r of e)for(const i of r){const[o,a]=im(i,n);for(const s of i){const c=1/(a-o||1);t[s]=c*(t[s]-o),n[s]=c*(n[s]-o)}}}function Q7(e,t,n){for(const r of e){for(const i of r){const[o,a]=im(i,n);for(const s of i){const c=(a+o)/2;t[s]-=c,n[s]-=c}}am(r,t,n)}sm(e,t,n)}function om(e,t,n,r){for(const i of e){const o=new Nn;let a=0;for(const s of i){let c=-1;const l=s.map(d=>Math.abs(n[d]-t[d])),u=s.map(d=>{c=r?r[d]:++c;const y=n[d]-t[d],p=o.has(c)?y-o.get(c):0;return o.set(c,y),p}),h=[0,...zb(u)];for(const d of s)t[d]+=a,n[d]+=a;const f=cn(l);f&&(a-=cn(l,(d,y)=>(u[y]/2+h[y])*d)/f)}am(i,t,n)}sm(e,t,n)}function am(e,t,n){const r=Dt(e,i=>Dt(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function sm(e,t,n){const r=e.length;if(r===1)return;const i=e.map(s=>s.flat()),o=i.map(s=>(Dt(s,c=>t[c])+ct(s,c=>n[c]))/2),a=Dt(o);for(let s=0;s<r;s++){const c=a-o[s];for(const l of i[s])t[l]+=c,n[l]+=c}}function e9(e,t,n){if(e===void 0&&t===om)return cm(gt);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?Ra:gt;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return t9(i);case"z":return n9(i);case"sum":return r9(i);case"appearance":return i9(i);case"inside-out":return cm(i)}return lm(X1(e))}if(typeof e=="function")return(e.length===1?lm:o9)(e);if(Xn(e))return a9(e);throw new Error(`invalid order: ${e}`)}}function t9(e){return(t,n,r)=>(i,o)=>e(r[i],r[o])}function n9(e){return(t,n,r,i)=>(o,a)=>e(i[o],i[a])}function r9(e){return ts(e,(t,n,r,i)=>Is(Vt(t),o=>cn(o,a=>r[a]),o=>i[o]))}function i9(e){return ts(e,(t,n,r,i)=>Is(Vt(t),o=>n[Pf(o,a=>r[a])],o=>i[o]))}function cm(e){return ts(e,(t,n,r,i)=>{const o=Vt(t),a=Is(o,h=>n[Pf(h,f=>r[f])],h=>i[h]),s=or(o,h=>cn(h,f=>r[f]),h=>i[h]),c=[],l=[];let u=0;for(const h of a)u<0?(u+=s.get(h),c.push(h)):(u-=s.get(h),l.push(h));return l.reverse().concat(c)})}function lm(e){return t=>{const n=Me(t,e);return(r,i)=>gt(n[r],n[i])}}function o9(e){return t=>Xn(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function a9(e){return ts(gt,()=>e)}function ts(e,t){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new Nn(t(n,r,i,o).map((s,c)=>[s,c]));return(s,c)=>e(a.get(o[s]),a.get(o[c]))}}function s9(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={}){e.insetTop=Ue(n),e.insetRight=Ue(r),e.insetBottom=Ue(i),e.insetLeft=Ue(o)}function c9(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:o=t,rx2:a=t,ry2:s=t,rx1y1:c=i!==void 0?+i:o!==void 0?+o:0,rx1y2:l=i!==void 0?+i:s!==void 0?+s:0,rx2y1:u=a!==void 0?+a:o!==void 0?+o:0,rx2y2:h=a!==void 0?+a:s!==void 0?+s:0}={}){c||l||u||h?(e.rx1y1=c,e.rx1y2=l,e.rx2y1=u,e.rx2y2=h):(e.rx=Re(n,"auto"),e.ry=Re(r,"auto"))}function l9(e,t,n,r,i,o){const{rx1y1:a,rx1y2:s,rx2y1:c,rx2y2:l}=o;typeof t!="function"&&(t=qt(t)),typeof n!="function"&&(n=qt(n)),typeof r!="function"&&(r=qt(r)),typeof i!="function"&&(i=qt(i));const u=Math.max(Math.abs(a+c),Math.abs(s+l)),h=Math.max(Math.abs(a+s),Math.abs(c+l));e.attr("d",f=>{const d=t(f),y=n(f),p=r(f),g=i(f),b=d>p,m=y>g,w=b?p:d,v=b?d:p,_=m?g:y,x=m?y:g,k=Math.min(1,(v-w)/u,(x-_)/h),A=k*(b?m?l:c:m?s:a),T=k*(b?m?s:a:m?l:c),$=k*(b?m?a:s:m?c:l),M=k*(b?m?c:l:m?a:s);return`M${w},${_+rs(A,M)}A${A},${A} 0 0 ${A<0?0:1} ${w+ns(A,M)},${_}H${v-ns(T,$)}A${T},${T} 0 0 ${T<0?0:1} ${v},${_+rs(T,$)}V${x-rs($,T)}A${$},${$} 0 0 ${$<0?0:1} ${v-ns($,T)},${x}H${w+ns(M,A)}A${M},${M} 0 0 ${M<0?0:1} ${w},${x-rs(M,A)}Z`})}function ns(e,t){return t<0?e:Math.abs(e)}function rs(e,t){return t<0?Math.abs(e):e}const u9={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},f9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class h9 extends st{constructor(t={}){const{anchor:n=null}=t;super(Da,void 0,t,n==null?u9:f9),this.anchor=Q1(n,"anchor",["top","right","bottom","left"]),s9(this,t),n||c9(this,t)}render(t,n,r,i,o){const{marginTop:a,marginRight:s,marginBottom:c,marginLeft:l,width:u,height:h}=i,{anchor:f,insetTop:d,insetRight:y,insetBottom:p,insetLeft:g}=this,{rx:b,ry:m,rx1y1:w,rx1y2:v,rx2y1:_,rx2y2:x}=this,k=l+g,A=u-s-y,T=a+d,$=h-c-p;return Ne(f?"svg:line":w||v||_||x?"svg:path":"svg:rect",o).datum(0).call(en,this,i,o).call(tn,this).call(Dr,this,r).call(nn,this,{}).call(f==="left"?M=>M.attr("x1",k).attr("x2",k).attr("y1",T).attr("y2",$):f==="right"?M=>M.attr("x1",A).attr("x2",A).attr("y1",T).attr("y2",$):f==="top"?M=>M.attr("x1",k).attr("x2",A).attr("y1",T).attr("y2",T):f==="bottom"?M=>M.attr("x1",k).attr("x2",A).attr("y1",$).attr("y2",$):w||v||_||x?M=>M.call(l9,k,T,A,$,this):M=>M.attr("x",k).attr("y",T).attr("width",A-k).attr("height",$-T).attr("rx",b).attr("ry",m)).node()}}function d9(e){return new h9(e)}const Mu={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},p9=new Set(["geometry","href","src","ariaLabel","scales"]);class y9 extends st{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&wn(t)&&ny(t)&&(n={...n,title:Ge});const{x:r,y:i,x1:o,x2:a,y1:s,y2:c,anchor:l,preferredAnchor:u="bottom",monospace:h,fontFamily:f=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:y,fontVariant:p,fontWeight:g,lineHeight:b=1,lineWidth:m=20,frameAnchor:w,format:v,textAnchor:_="start",textOverflow:x,textPadding:k=8,title:A,pointerSize:T=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:s!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:s,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:s==null},title:{value:A,optional:!0}},n,Mu),this.anchor=Nl(l,"anchor"),this.preferredAnchor=Nl(u,"preferredAnchor"),this.frameAnchor=Fa(w),this.textAnchor=Re(_,"middle"),this.textPadding=+k,this.pointerSize=+T,this.pathFilter=Pe($),this.lineHeight=+b,this.lineWidth=+m,this.textOverflow=Mg(x),this.monospace=!!h,this.fontFamily=Pe(f),this.fontSize=Ue(d),this.fontStyle=Pe(y),this.fontVariant=Pe(p),this.fontWeight=Pe(g);for(const M in Mu)M in this.channels&&(this[M]=Mu[M]);this.splitLines=Sg(this),this.clipLine=$g(this),this.format=typeof v=="string"||typeof v=="function"?{title:v}:{...v}}render(t,n,r,i,o){const a=this,{x:s,y:c,fx:l,fy:u}=n,{ownerSVGElement:h,document:f}=o,{anchor:d,monospace:y,lineHeight:p,lineWidth:g}=this,{textPadding:b,pointerSize:m,pathFilter:w}=this,{marginTop:v,marginLeft:_}=i,{x1:x,y1:k,x2:A,y2:T,x:$=x??A,y:M=k??T}=r,L=l?l(t.fx)-_:0,I=u?u(t.fy)-v:0,[D,E]=Zi(this,i),O=ag(r,D),X=sg(r,E),V=y?bu:mu,Y=V(Or);let U,F;"title"in r?(U=um.call(this,{title:r.channels.title},n),F=w9):(U=um.call(this,r.channels,n),F=x9);const j=Ne("svg:g",o).call(en,this,i,o).call(Eg,this).call(nn,this,{x:$&&s,y:M&&c}).call(re=>re.selectAll().data(t).enter().append("g").attr("transform",Q=>`translate(${Math.round(O(Q))},${Math.round(X(Q))})`).call(tn,this).call(Q=>Q.append("path").attr("filter",w)).call(Q=>Q.append("text").each(function(z){const W=lr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const C=F.call(a,z,t,U,n,r);if(typeof C=="string")for(const P of a.splitLines(C))B(W,{value:a.clipLine(P)});else{const P=new Set;for(const q of C){const{label:S=""}=q;S&&P.has(S)||(P.add(S),B(W,q))}}})));function B(re,{label:Q,value:z,color:W,opacity:C}){Q??(Q=""),z??(z="");const P=W!=null||C!=null;let q,S=g*100;const[ie]=jr(Q,S,V,Y);if(ie>=0)Q=Q.slice(0,ie).trimEnd()+Or,q=z.trim(),z="";else{(Q||!z&&!P)&&(z=" "+z);const[se]=jr(z,S-V(Q),V,Y);se>=0&&(q=z.trim(),z=z.slice(0,se).trimEnd()+Or)}const H=re.append("tspan").attr("x",0).attr("dy",`${p}em`).text("\u200B");Q&&H.append("tspan").attr("font-weight","bold").text(Q),z&&H.append(()=>f.createTextNode(z)),P&&H.append("tspan").text(" \u25A0").attr("fill",W).attr("fill-opacity",C).style("user-select","none"),q&&H.append("title").text(q)}function ne(){const{width:re,height:Q}=i.facet??i;j.selectChildren().each(function(z){let{x:W,width:C,height:P}=this.getBBox();C=Math.round(C),P=Math.round(P);let q=d;if(q===void 0){const H=O(z)+L,se=X(z)+I,he=H+C+m+b*2<re,je=H-C-m-b*2>0,Sn=se+P+m+b*2<Q,nr=se-P-m-b*2>0;q=he&&je?Sn&&nr?a.preferredAnchor:nr?"bottom":"top":Sn&&nr?he?"left":"right":(he||je)&&(Sn||nr)?`${nr?"bottom":"top"}-${he?"left":"right"}`:a.preferredAnchor}const S=this.firstChild,ie=this.lastChild;if(S.setAttribute("d",v9(q,m,b,C,P)),W)for(const H of ie.childNodes)H.setAttribute("x",-W);ie.setAttribute("y",`${+m9(q,ie.childNodes.length,p).toFixed(6)}em`),ie.setAttribute("transform",`translate(${b9(q,m,b,C,P)})`)}),j.attr("visibility",null)}return t.length&&(j.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(ne):typeof requestAnimationFrame<"u"&&requestAnimationFrame(ne)),j.node()}}function g9(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ja(t,n)),new y9(e,{...r,x:t,y:n})}function m9(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function b9(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function v9(e,t,n,r,i){const o=r+n*2,a=i+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function um(e,t){var i,o;const n={};let r=this.format;r=fm(r,e,"x"),r=fm(r,e,"y"),this.format=r;for(const a in r){const s=r[a];if(!(s===null||s===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const c=xy(e,a);c&&(n[a]=c)}}for(const a in e){if(a in n||a in r||p9.has(a)||(a==="x"||a==="y")&&e.geometry)continue;const s=xy(e,a);if(s){if(s.scale==null&&s.defaultScale==="color")continue;n[a]=s}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const s=this.format[a];if(typeof s=="string"){const c=((i=n[a])==null?void 0:i.value)??((o=t[a])==null?void 0:o.domain())??[];this.format[a]=(qe(c)?Li:gr)(s)}else if(s===void 0||s===!0){const c=t[a];this.format[a]=c!=null&&c.bandwidth?xu(c,c.domain()):Ur}}return n}function fm(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const o=Object.entries(e),a=e[n];return o.splice(o.findIndex(([s])=>s===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function w9(e,t,{title:n}){return this.format.title(n.value[e],e)}function*x9(e,t,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:is(r,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:dm(r,n,"x"),value:hm(this.format.x2,n.x1,a,e)};else if(o==="y2"&&"y1"in n)yield{label:dm(r,n,"y"),value:hm(this.format.y2,n.y1,a,e)};else{const s=a.value[e],c=a.scale;if(!pn(s)&&c==null)continue;yield{label:is(r,n,o),value:this.format[o](s,e),color:c==="color"?i[o][e]:null,opacity:c==="opacity"?i[o][e]:null}}}}function hm(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}\u2013${e(n.value[r],r)}`}function dm(e,t,n){const r=is(e,t,`${n}1`,n),i=is(e,t,`${n}2`,n);return r===i?r:`${r}\u2013${i}`}function is(e,t,n,r=n){const i=t[n],o=e[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function pm(e={}){var Y;const{facet:t,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:s}=e,c=Ka(e.className),l=e.marks===void 0?[]:gm(e.marks);l.push(...S9(l));const u=E9(t,e),h=new Map;for(const U of l){const F=bm(U,u,e);F&&h.set(U,F)}const f=new Map;u&&Ki(f,[u],e),Ki(f,h,e);const d=gm($9(l,f,e));for(const U of d){const F=bm(U,u,e);F&&h.set(U,F)}l.unshift(...d);let y=Q5(f,e);if(y!==void 0){const U=u?tu(y,u):void 0;for(const j of l){if(j.facet===null||j.facet==="super")continue;const B=h.get(j);B!==void 0&&(B.facetsIndex=j.fx!=null||j.fy!=null?tu(y,B):U)}const F=new Set;for(const{facetsIndex:j}of h.values())j==null||j.forEach((B,ne)=>{(B==null?void 0:B.length)>0&&F.add(ne)});y.forEach(0<F.size&&F.size<y.length?(j,B)=>j.empty=!F.has(B):j=>j.empty=!1);for(const j of l)if(j.facet==="exclude"){const B=h.get(j);B!==void 0&&(B.facetsIndex=n4(B.facetsIndex))}}for(const U of ge.keys())Ml(e[U])&&U!=="fx"&&U!=="fy"&&f.set(U,[]);const p=new Map;for(const U of l){if(p.has(U))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:F,channels:j}=h.get(U)??{},{data:B,facets:ne,channels:re}=U.initialize(F,j,e);Au(re,e),p.set(U,{data:B,facets:ne,channels:re})}const g=Vl(Ki(f,p,e),e),b=F4(g,l,e);W5(g,b);const m=Py(g),{fx:w,fy:v}=m,_=w||v?Fy(g,b):b,x=w||v?O9(m,b):b,k=iu(e),A=k.document,T=ko("svg").call(A.documentElement);let $=T;k.ownerSVGElement=T,k.className=c,k.projection=f4(e,_),k.filterFacets=(U,F)=>tu(y,{channels:F,groups:Jl(U,F)}),k.getMarkState=U=>{const F=p.get(U),j=h.get(U);return{...F,channels:{...F.channels,...j==null?void 0:j.channels}}},k.dispatchValue=U=>{$.value!==U&&($.value=U,$.dispatchEvent(new Event("input",{bubbles:!0})))};const M=new Set;for(const[U,F]of p)if(U.initializer!=null){const j=U.facet==="super"?x:_,B=U.initializer(F.data,F.facets,F.channels,m,j,k);if(B.data!==void 0&&(F.data=B.data),B.facets!==void 0&&(F.facets=B.facets),B.channels!==void 0){const{fx:ne,fy:re,...Q}=B.channels;A9(Q),Object.assign(F.channels,Q);for(const z of Object.values(Q)){const{scale:W}=z;W!=null&&!L8(ge.get(W))&&(mm(z,e),M.add(W))}(ne!=null||re!=null)&&h.set(U,!0)}}if(M.size){const U=new Map;Ki(U,p,e,ne=>M.has(ne)),Ki(f,p,e,ne=>M.has(ne));const F=D9(Vl(U,e),g),{scales:j,...B}=Py(F);Object.assign(g,F),Object.assign(m,B),Object.assign(m.scales,j)}let L,I;y!==void 0&&(L={x:w==null?void 0:w.domain(),y:v==null?void 0:v.domain()},y=e4(y,L),I=t4(w,v,b));for(const[U,F]of p)F.values=U.scale(F.channels,m,k);const{width:D,height:E}=b;lr(T).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",D).attr("height",E).attr("viewBox",`0 0 ${D} ${E}`).attr("aria-label",a).attr("aria-description",s).call(U=>U.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(su,n);for(const U of l){const{channels:F,values:j,facets:B}=p.get(U);if(y===void 0||U.facet==="super"){let ne=null;if(B&&(ne=B[0],ne=U.filter(ne,F,j),ne.length===0))continue;const re=U.render(ne,m,j,x,k);if(re==null)continue;T.appendChild(re)}else{let ne;for(const re of y){if(!(((Y=U.facetAnchor)==null?void 0:Y.call(U,y,L,re))??!re.empty))continue;let Q=null;if(B){const W=h.has(U);if(Q=B[W?re.i:0],Q=U.filter(Q,F,j),Q.length===0)continue;!W&&Q===B[0]&&(Q=b8(Q)),Q.fx=re.x,Q.fy=re.y,Q.fi=re.i}const z=U.render(Q,m,j,_,k);if(z!=null){(ne??(ne=lr(T).append("g"))).append(()=>z).datum(re);for(const W of["aria-label","aria-description","aria-hidden","transform"])z.hasAttribute(W)&&(ne.attr(W,z.getAttribute(W)),z.removeAttribute(W))}}ne==null||ne.selectChildren().attr("transform",I)}}const O=W7(g,k,e),{figure:X=r!=null||i!=null||o!=null||O.length>0}=e;X&&($=A.createElement("figure"),$.className=`${c}-figure`,$.style.maxWidth="initial",r!=null&&$.append(ym(A,r,"h2")),i!=null&&$.append(ym(A,i,"h3")),$.append(...O,T),o!=null&&$.append(_9(A,o)),"value"in T&&($.value=T.value,delete T.value)),$.scale=Z5(m.scales),$.legend=F7(g,k,e);const V=E5();return V>0&&lr(T).append("text").attr("x",D).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26A0\uFE0F").append("title").text(`${V.toLocaleString("en-US")} warning${V===1?"":"s"}. Please check the console.`),$}function ym(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function _9(e,t){const n=e.createElement("figcaption");return n.append(t),n}function gm(e){return e.flat(1/0).filter(t=>t!=null).map(k9)}function k9(e){return typeof e.render=="function"?e:new M9(e)}class M9 extends st{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Au(e,t){for(const n in e)mm(e[n],t);return e}function mm(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:s=o?c=>c==null?NaN:c*100:ty(a,i)}=t[n]??{};s!=null&&(e.value=ve(e.value,s),e.transform=!1)}function A9(e){for(const t in e)my(t,e[t])}function Ki(e,t,n,r=p8){var i,o;for(const{channels:a}of t.values())for(const s in a){const c=a[s],{scale:l}=c;if(l!=null&&r(l))if(l==="projection"){if(!y4(n)){const u=((i=n.x)==null?void 0:i.domain)===void 0,h=((o=n.y)==null?void 0:o.domain)===void 0;if(u||h){const[f,d]=m4(c);u&&Eu(e,"x",f),h&&Eu(e,"y",d)}}}else Eu(e,l,c)}return e}function Eu(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function E9(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=Sr(e.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=Vi(i,{value:n,scale:"fx"})),r!=null&&(o.fy=Vi(i,{value:r,scale:"fy"})),Au(o,t);const a=Jl(i,o);return{channels:o,groups:a,data:e.data}}function bm(e,t,n){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const c=Sr(e.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(c===null)return;const l={};return r!=null&&(l.fx=Vi(c,{value:r,scale:"fx"})),i!=null&&(l.fy=Vi(c,{value:i,scale:"fy"})),Au(l,n),{channels:l,groups:Jl(c,l)}}if(t===void 0)return;const{channels:o,groups:a,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Fi(Sr(e.data))===Fi(s)&&xn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function T9(e,t={}){return Cr({...t,x:null,y:null},(n,r,i,o,a,s)=>s.getMarkState(e))}function S9(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?W4:/^y$/i.test(i)?og:z4,r=i(T9(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===og?"left":"bottom");const a=g9(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,t.push(a)}}return t}function $9(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:c,grid:l,facet:u={},facet:{axis:h=c,grid:f}=u,x:{axis:d=c,grid:y=d===null?null:l}=i,y:{axis:p=c,grid:g=p===null?null:l}=o,fx:{axis:b=h,grid:m=b===null?null:f}=a,fy:{axis:w=h,grid:v=w===null?null:f}=s}=n;(r||!Ml(i)&&!vm("x",e))&&(d=y=null),(r||!Ml(o)&&!vm("y",e))&&(p=g=null),t.has("fx")||(b=m=null),t.has("fy")||(w=v=null),d===void 0&&(d=!ss(e,"x")),p===void 0&&(p=!ss(e,"y")),b===void 0&&(b=!ss(e,"fx")),w===void 0&&(w=!ss(e,"fy")),d===!0&&(d="bottom"),p===!0&&(p="left"),b===!0&&(b=d==="top"||d===null?"bottom":"top"),w===!0&&(w=p==="right"||p===null?"left":"right");const _=[];return as(_,v,N7,s),os(_,w,k7,"right","left",u,s),as(_,m,C7,a),os(_,b,M7,"top","bottom",u,a),as(_,g,$7,o),os(_,p,zg,"left","right",n,o),as(_,y,R7,i),os(_,d,wu,"bottom","top",n,i),_}function os(e,t,n,r,i,o,a){if(!t)return;const s=N9(t);a=R9(s?r:t,o,a);const{line:c}=a;(n===zg||n===wu)&&c&&!zi(c)&&e.push(d9(C9(a))),e.push(n(a)),s&&e.push(n({...a,anchor:i,label:null}))}function as(e,t,n,r){!t||zi(t)||e.push(n(L9(t,r)))}function N9(e){return/^\s*both\s*$/i.test(e)}function R9(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:h,label:f=t.label,labelAnchor:d,labelArrow:y=t.labelArrow,labelOffset:p}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:h,label:f,labelAnchor:d,labelArrow:y,labelOffset:p}}function C9(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function L9(e,{stroke:t=Pa(e)?e:void 0,ticks:n=U9(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function U9(e){switch(typeof e){case"number":return!0;case"string":return!Pa(e)}return wn(e)||typeof(e==null?void 0:e.range)=="function"}function ss(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function vm(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function D9(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function O9({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=Yl(n),l=e&&wm(e),u=t&&wm(t);return{marginTop:t?u[0]:r,marginRight:e?s-l[1]:i,marginBottom:t?c-u[1]:o,marginLeft:e?l[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:c}}function wm(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const j9=new Map([["basis",P3],["basis-closed",F3],["basis-open",B3],["bundle",z3],["bump-x",S3],["bump-y",$3],["cardinal",W3],["cardinal-closed",q3],["cardinal-open",H3],["catmull-rom",V3],["catmull-rom-closed",Y3],["catmull-rom-open",X3],["linear",Ui],["linear-closed",J3],["monotone-x",G3],["monotone-y",Z3],["natural",K3],["step",Q3],["step-after",t8],["step-before",e8]]);function xm(e=Ui,t){if(typeof e=="function")return e;const n=j9.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function I9(e=cs,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?cs:xm(e,t)}function cs(e){return Ui(e)}function P9(e={x:"count"},t={}){[e,t]=W9(e,t);const{x:n,y:r}=t;return z9(null,q9(r,t,Ge),n,null,e,du(t))}function F9(e,t,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=Il}=n,i={filter:null};return n[t]!=null&&(i[t]=r),n[`${t}1`]!=null&&(i[`${t}1`]=r),n[`${t}2`]!=null&&(i[`${t}2`]=r),e(i,n)}function B9(e={}){return F9(P9,"x",Qa(e,"y"))}function z9(e,t,n,r,{data:i=yy,filter:o=qa,sort:a,reverse:s,...c}={},l={}){e=_m(e),t=_m(t),c=V9(c,l),i=Am(i,Ge),a=a==null?void 0:km("sort",a,l),o=o==null?void 0:Mm("filter",o,l),n!=null&&Wa(c,"x","x1","x2")&&(n=null),r!=null&&Wa(c,"y","y1","y2")&&(r=null);const[u,h]=Xt(e),[f,d]=Xt(e),[y,p]=Xt(t),[g,b]=Xt(t),[m,w]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[v,_]=Xt(m),{x,y:k,z:A,fill:T,stroke:$,x1:M,x2:L,y1:I,y2:D,domain:E,cumulative:O,thresholds:X,interval:V,...Y}=l,[U,F]=Xt(A),[j]=Ht(T),[B]=Ht($),[ne,re]=Xt(j),[Q,z]=Xt(B);return{..."z"in l&&{z:U||A},..."fill"in l&&{fill:ne||T},..."stroke"in l&&{stroke:Q||$},...za(Y,(W,C,P)=>{const q=ey(Me(W,m),P==null?void 0:P[w]),S=Me(W,A),ie=Me(W,j),H=Me(W,B),se=Y8(c,{z:S,fill:ie,stroke:H}),he=[],je=[],Sn=q&&_([]),nr=S&&F([]),mM=ie&&re([]),bM=H&&z([]),wb=e&&h([]),vM=e&&d([]),xb=t&&p([]),wM=t&&b([]),xM=J9(e,t,W);let _M=0;for(const Yr of c)Yr.initialize(W);a&&a.initialize(W),o&&o.initialize(W);for(const Yr of C){const _b=[];for(const Xr of c)Xr.scope("facet",Yr);a&&a.scope("facet",Yr),o&&o.scope("facet",Yr);for(const[Xr,kM]of dy(Yr,se))for(const[MM,$s]of dy(kM,q))for(const[Ut,sn]of xM($s))if(se&&(sn.z=Xr),!(o&&!o.reduce(Ut,sn))){_b.push(_M++),je.push(i.reduceIndex(Ut,W,sn)),q&&Sn.push(MM),S&&nr.push(se===S?Xr:S[(Ut.length>0?Ut:$s)[0]]),ie&&mM.push(se===ie?Xr:ie[(Ut.length>0?Ut:$s)[0]]),H&&bM.push(se===H?Xr:H[(Ut.length>0?Ut:$s)[0]]),wb&&(wb.push(sn.x1),vM.push(sn.x2)),xb&&(xb.push(sn.y1),wM.push(sn.y2));for(const AM of c)AM.reduce(Ut,sn);a&&a.reduce(Ut,sn)}he.push(_b)}return X8(he,a,s),{data:je,facets:he}}),...!Wa(c,"x")&&(u?{x1:u,x2:f,x:Tl(u,f)}:{x,x1:M,x2:L}),...!Wa(c,"y")&&(y?{y1:y,y2:g,y:Tl(y,g)}:{y:k,y1:I,y2:D}),...v&&{[w]:v},...Object.fromEntries(c.map(({name:W,output:C})=>[W,C]))}}function W9({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function q9(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...Bi(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=H9(e.thresholds,e.interval),e}function _m(e){if(e==null)return;const{value:t,cumulative:n,domain:r=Ke,thresholds:i}=e,o=a=>{let s=Me(a,t),c;if(qe(s)||X9(i)){s=ve(s,K1,Float64Array);let[u,h]=typeof r=="function"?r(s):r,f=typeof i=="function"&&!Rr(i)?i(s,u,h):i;typeof f=="number"&&(f=T0(u,h,f)),Rr(f)&&(r===Ke&&(u=f.floor(u),h=f.offset(f.floor(h))),f=f.range(u,f.offset(h))),c=f}else{s=Tr(s);let[u,h]=typeof r=="function"?r(s):r,f=typeof i=="function"&&!Rr(i)?i(s,u,h):i;if(typeof f=="number")if(r===Ke){let d=bo(u,h,f);if(isFinite(d))if(d>0){let y=Math.round(u/d),p=Math.round(h/d);y*d<=u||--y,p*d>h||++p;let g=p-y+1;f=new Float64Array(g);for(let b=0;b<g;++b)f[b]=(y+b)*d}else if(d<0){d=-d;let y=Math.round(u*d),p=Math.round(h*d);y/d<=u||--y,p/d>h||++p;let g=p-y+1;f=new Float64Array(g);for(let b=0;b<g;++b)f[b]=(y+b)/d}else f=[u];else f=[u]}else f=Zr(u,h,f);else Rr(f)&&(r===Ke&&(u=f.floor(u),h=f.offset(f.floor(h))),f=f.range(u,f.offset(h)));c=f}const l=[];if(c.length===1)l.push([c[0],c[0]]);else for(let u=1;u<c.length;++u)l.push([c[u-1],c[u]]);return l.bin=(n<0?Z9:n>0?G9:Tu)(l,c,s),l};return o.label=Jn(t),o}function H9(e,t,n=Em){if(e===void 0)return t===void 0?n:Nr(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return Kb;case"scott":return Ff;case"sturges":return Xb;case"auto":return Em}return bl(e)}return e}function V9(e,t){return q8(e,t,km)}function km(e,t,n){return fy(e,t,n,Mm)}function Mm(e,t,n){return hy(e,t,n,Am)}function Am(e,t){return jl(e,t,Y9)}function Y9(e){switch(`${e}`.toLowerCase()){case"x":return K9;case"x1":return ek;case"x2":return tk;case"y":return Q9;case"y1":return nk;case"y2":return rk;case"z":return t5}throw new Error(`invalid bin reduce: ${e}`)}function Em(e,t,n){return Math.min(200,Ff(e,t,n))}function X9(e){return _8(e)||wn(e)&&qe(e)}function J9(e,t,n){const r=e==null?void 0:e(n),i=t==null?void 0:t(n);return r&&i?function*(o){const a=r.bin(o);for(const[s,[c,l]]of r.entries()){const u=i.bin(a[s]);for(const[h,[f,d]]of i.entries())yield[u[h],{data:n,x1:c,y1:f,x2:l,y2:d}]}}:r?function*(o){const a=r.bin(o);for(const[s,[c,l]]of r.entries())yield[a[s],{data:n,x1:c,x2:l}]}:function*(o){const a=i.bin(o);for(const[s,[c,l]]of i.entries())yield[a[s],{data:n,y1:c,y2:l}]}}function Tu(e,t,n){return t=Tr(t),r=>{var o;const i=e.map(()=>[]);for(const a of r)(o=i[fo(t,n[a])-1])==null||o.push(a);return i}}function G9(e,t,n){const r=Tu(e,t,n);return i=>{const o=r(i);for(let a=1,s=o.length;a<s;++a){const c=o[a-1],l=o[a];for(const u of c)l.push(u)}return o}}function Z9(e,t,n){const r=Tu(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const s=o[a+1],c=o[a];for(const l of s)c.push(l)}return o}}function Tm(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const K9={reduceIndex(e,t,{x1:n,x2:r}){return Tm(n,r)}},Q9={reduceIndex(e,t,{y1:n,y2:r}){return Tm(n,r)}},ek={reduceIndex(e,t,{x1:n}){return n}},tk={reduceIndex(e,t,{x2:n}){return n}},nk={reduceIndex(e,t,{y1:n}){return n}},rk={reduceIndex(e,t,{y2:n}){return n}},ik={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class ok extends st{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a,z:s,curve:c,tension:l}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:Al(n),optional:!0}},n,ik),this.z=s,this.curve=xm(c,l)}filter(t){return t}render(t,n,r,i,o){const{x1:a,y1:s,x2:c=a,y2:l=s}=r;return Ne("svg:g",o).call(en,this,i,o).call(nn,this,n,0,0).call(u=>u.selectAll().data(Ky(t,[a,s,c,l],this,r)).enter().append("path").call(tn,this).call(Zy,this,r).attr("d",T3().curve(this.curve).defined(h=>h>=0).x0(h=>a[h]).y0(h=>s[h]).x1(h=>c[h]).y1(h=>l[h]))).node()}}function ak(e,t){const{y:n=J1,...r}=B9(t);return new ok(e,Y7(q7({...r,y1:n,y2:void 0})))}const sk={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function ck(e){return e.sort===void 0&&e.reverse===void 0?B8({channel:"-r"},e):e}class lk extends st{constructor(t,n={}){const{x:r,y:i,r:o,rotate:a,symbol:s=Di,frameAnchor:c}=n,[l,u]=Fe(a,0),[h,f]=P8(s),[d,y]=Fe(o,h==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:d,scale:"r",filter:Ca,optional:!0},rotate:{value:l,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},ck(n),sk),this.r=y,this.rotate=u,this.symbol=f,this.frameAnchor=Fa(c);const{channels:p}=this,{symbol:g}=p;if(g){const{fill:b,stroke:m}=p;g.hint={fill:b?b.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:m?m.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,o){const{x:a,y:s}=n,{x:c,y:l,r:u,rotate:h,symbol:f}=r,{r:d,rotate:y,symbol:p}=this,[g,b]=Zi(this,i),m=p===Di,w=u?void 0:d*d*Math.PI;return pl(d)&&(t=[]),Ne("svg:g",o).call(en,this,i,o).call(nn,this,{x:c&&a,y:l&&s}).call(v=>v.selectAll().data(t).enter().append(m?"circle":"path").call(tn,this).call(m?_=>{_.attr("cx",c?x=>c[x]:g).attr("cy",l?x=>l[x]:b).attr("r",u?x=>u[x]:d)}:_=>{_.attr("transform",yu`translate(${c?x=>c[x]:g},${l?x=>l[x]:b})${h?x=>` rotate(${h[x]})`:y?` rotate(${y})`:""}`).attr("d",u&&f?x=>{const k=Pn();return f[x].draw(k,u[x]*u[x]*Math.PI),k}:u?x=>{const k=Pn();return p.draw(k,u[x]*u[x]*Math.PI),k}:f?x=>{const k=Pn();return f[x].draw(k,w),k}:(()=>{const x=Pn();return p.draw(x,w),x})())}).call(Dr,this,r)).node()}}function Sm(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ja(t,n)),new lk(e,{...r,x:t,y:n})}const uk={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class fk extends st{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:s}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Al(n),optional:!0}},n,uk),this.z=o,this.curve=I9(a,s),lu(this,n)}filter(t){return t}project(t,n,r){this.curve!==cs&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:s}=r,{curve:c}=this;return Ne("svg:g",o).call(en,this,i,o).call(nn,this,n).call(l=>l.selectAll().data(Ky(t,[a,s],this,r)).enter().append("path").call(tn,this).call(Zy,this,r).call(X4,this,r,o).attr("d",c===cs&&o.projection?hk(o.projection,a,s):a1().curve(c).defined(u=>u>=0).x(u=>a[u]).y(u=>s[u]))).node()}}function hk(e,t,n){const r=ra(e);return t=Tr(t),n=Tr(n),i=>{let o=[];const a=[o];for(const s of i)s===-1?(o=[],a.push(o)):o.push([t[s],n[s]]);return r({type:"MultiLineString",coordinates:a})}}function Su(e,{x:t,y:n,...r}={}){return[t,n]=ja(t,n),new fk(e,{...r,x:t,y:n})}st.prototype.plot=function({marks:e=[],...t}={}){return pm({...t,marks:[...e,this]})};var dk=Object.create,$m=Object.defineProperty,pk=Object.getOwnPropertyDescriptor,yk=Object.getOwnPropertyNames,gk=Object.getPrototypeOf,mk=Object.prototype.hasOwnProperty,$u=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),De=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),bk=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of yk(t))!mk.call(e,i)&&i!==n&&$m(e,i,{get:()=>t[i],enumerable:!(r=pk(t,i))||r.enumerable});return e},Nu=(e,t,n)=>(n=e!=null?dk(gk(e)):{},bk(t||!e||!e.__esModule?$m(n,"default",{value:e,enumerable:!0}):n,e)),Ru=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},N=(e,t,n)=>(Ru(e,t,"read from private field"),n?n.call(e):t.get(e)),ae=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Be=(e,t,n,r)=>(Ru(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vt=(e,t,n)=>(Ru(e,t,"access private method"),n),ls=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getUint64=e.getInt64=e.setInt64=e.setUint64=e.UINT32_MAX=void 0,e.UINT32_MAX=4294967295;function t(o,a,s){let c=s/4294967296,l=s;o.setUint32(a,c),o.setUint32(a+4,l)}e.setUint64=t;function n(o,a,s){let c=Math.floor(s/4294967296),l=s;o.setUint32(a,c),o.setUint32(a+4,l)}e.setInt64=n;function r(o,a){let s=o.getInt32(a),c=o.getUint32(a+4);return s*4294967296+c}e.getInt64=r;function i(o,a){let s=o.getUint32(a),c=o.getUint32(a+4);return s*4294967296+c}e.getUint64=i}),Cu=De(e=>{var t,n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.utf8DecodeTD=e.TEXT_DECODER_THRESHOLD=e.utf8DecodeJs=e.utf8EncodeTE=e.TEXT_ENCODER_THRESHOLD=e.utf8EncodeJs=e.utf8Count=void 0;var i=ls(),o=(typeof process>"u"||((t=process==null?void 0:process.env)===null||t===void 0?void 0:t.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function a(p){let g=p.length,b=0,m=0;for(;m<g;){let w=p.charCodeAt(m++);if(w&4294967168)if(!(w&4294965248))b+=2;else{if(w>=55296&&w<=56319&&m<g){let v=p.charCodeAt(m);(v&64512)===56320&&(++m,w=((w&1023)<<10)+(v&1023)+65536)}w&4294901760?b+=4:b+=3}else{b++;continue}}return b}e.utf8Count=a;function s(p,g,b){let m=p.length,w=b,v=0;for(;v<m;){let _=p.charCodeAt(v++);if(_&4294967168)if(!(_&4294965248))g[w++]=_>>6&31|192;else{if(_>=55296&&_<=56319&&v<m){let x=p.charCodeAt(v);(x&64512)===56320&&(++v,_=((_&1023)<<10)+(x&1023)+65536)}_&4294901760?(g[w++]=_>>18&7|240,g[w++]=_>>12&63|128,g[w++]=_>>6&63|128):(g[w++]=_>>12&15|224,g[w++]=_>>6&63|128)}else{g[w++]=_;continue}g[w++]=_&63|128}}e.utf8EncodeJs=s;var c=o?new TextEncoder:void 0;e.TEXT_ENCODER_THRESHOLD=o?typeof process<"u"&&((n=process==null?void 0:process.env)===null||n===void 0?void 0:n.TEXT_ENCODING)!=="force"?200:0:i.UINT32_MAX;function l(p,g,b){g.set(c.encode(p),b)}function u(p,g,b){c.encodeInto(p,g.subarray(b))}e.utf8EncodeTE=c!=null&&c.encodeInto?u:l;var h=4096;function f(p,g,b){let m=g,w=m+b,v=[],_="";for(;m<w;){let x=p[m++];if(!(x&128))v.push(x);else if((x&224)===192){let k=p[m++]&63;v.push((x&31)<<6|k)}else if((x&240)===224){let k=p[m++]&63,A=p[m++]&63;v.push((x&31)<<12|k<<6|A)}else if((x&248)===240){let k=p[m++]&63,A=p[m++]&63,T=p[m++]&63,$=(x&7)<<18|k<<12|A<<6|T;$>65535&&($-=65536,v.push($>>>10&1023|55296),$=56320|$&1023),v.push($)}else v.push(x);v.length>=h&&(_+=String.fromCharCode(...v),v.length=0)}return v.length>0&&(_+=String.fromCharCode(...v)),_}e.utf8DecodeJs=f;var d=o?new TextDecoder:null;e.TEXT_DECODER_THRESHOLD=o?typeof process<"u"&&((r=process==null?void 0:process.env)===null||r===void 0?void 0:r.TEXT_DECODER)!=="force"?200:0:i.UINT32_MAX;function y(p,g,b){let m=p.subarray(g,g+b);return d.decode(m)}e.utf8DecodeTD=y}),Nm=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExtData=void 0;var t=class{constructor(n,r){this.type=n,this.data=r}};e.ExtData=t}),Lu=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DecodeError=void 0;var t=class extends Error{constructor(n){super(n);let r=Object.create(t.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:t.name})}};e.DecodeError=t}),Rm=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timestampExtension=e.decodeTimestampExtension=e.decodeTimestampToTimeSpec=e.encodeTimestampExtension=e.encodeDateToTimeSpec=e.encodeTimeSpecToTimestamp=e.EXT_TIMESTAMP=void 0;var t=Lu(),n=ls();e.EXT_TIMESTAMP=-1;var r=4294967296-1,i=17179869184-1;function o({sec:u,nsec:h}){if(u>=0&&h>=0&&u<=i)if(h===0&&u<=r){let f=new Uint8Array(4);return new DataView(f.buffer).setUint32(0,u),f}else{let f=u/4294967296,d=u&4294967295,y=new Uint8Array(8),p=new DataView(y.buffer);return p.setUint32(0,h<<2|f&3),p.setUint32(4,d),y}else{let f=new Uint8Array(12),d=new DataView(f.buffer);return d.setUint32(0,h),(0,n.setInt64)(d,4,u),f}}e.encodeTimeSpecToTimestamp=o;function a(u){let h=u.getTime(),f=Math.floor(h/1e3),d=(h-f*1e3)*1e6,y=Math.floor(d/1e9);return{sec:f+y,nsec:d-y*1e9}}e.encodeDateToTimeSpec=a;function s(u){if(u instanceof Date){let h=a(u);return o(h)}else return null}e.encodeTimestampExtension=s;function c(u){let h=new DataView(u.buffer,u.byteOffset,u.byteLength);switch(u.byteLength){case 4:return{sec:h.getUint32(0),nsec:0};case 8:{let f=h.getUint32(0),d=h.getUint32(4),y=(f&3)*4294967296+d,p=f>>>2;return{sec:y,nsec:p}}case 12:{let f=(0,n.getInt64)(h,4),d=h.getUint32(0);return{sec:f,nsec:d}}default:throw new t.DecodeError(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${u.length}`)}}e.decodeTimestampToTimeSpec=c;function l(u){let h=c(u);return new Date(h.sec*1e3+h.nsec/1e6)}e.decodeTimestampExtension=l,e.timestampExtension={type:e.EXT_TIMESTAMP,encode:s,decode:l}}),Uu=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionCodec=void 0;var t=Nm(),n=Rm(),r=class{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(n.timestampExtension)}register({type:i,encode:o,decode:a}){if(i>=0)this.encoders[i]=o,this.decoders[i]=a;else{let s=1+i;this.builtInEncoders[s]=o,this.builtInDecoders[s]=a}}tryToEncode(i,o){for(let a=0;a<this.builtInEncoders.length;a++){let s=this.builtInEncoders[a];if(s!=null){let c=s(i,o);if(c!=null){let l=-1-a;return new t.ExtData(l,c)}}}for(let a=0;a<this.encoders.length;a++){let s=this.encoders[a];if(s!=null){let c=s(i,o);if(c!=null){let l=a;return new t.ExtData(l,c)}}}return i instanceof t.ExtData?i:null}decode(i,o,a){let s=o<0?this.builtInDecoders[-1-o]:this.decoders[o];return s?s(i,o,a):new t.ExtData(o,i)}};e.ExtensionCodec=r,r.defaultCodec=new r}),Cm=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createDataView=e.ensureUint8Array=void 0;function t(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}e.ensureUint8Array=t;function n(r){if(r instanceof ArrayBuffer)return new DataView(r);let i=t(r);return new DataView(i.buffer,i.byteOffset,i.byteLength)}e.createDataView=n}),Lm=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Encoder=e.DEFAULT_INITIAL_BUFFER_SIZE=e.DEFAULT_MAX_DEPTH=void 0;var t=Cu(),n=Uu(),r=ls(),i=Cm();e.DEFAULT_MAX_DEPTH=100,e.DEFAULT_INITIAL_BUFFER_SIZE=2048;var o=class{constructor(a=n.ExtensionCodec.defaultCodec,s=void 0,c=e.DEFAULT_MAX_DEPTH,l=e.DEFAULT_INITIAL_BUFFER_SIZE,u=!1,h=!1,f=!1,d=!1){this.extensionCodec=a,this.context=s,this.maxDepth=c,this.initialBufferSize=l,this.sortKeys=u,this.forceFloat32=h,this.ignoreUndefined=f,this.forceIntegerToFloat=d,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}reinitializeState(){this.pos=0}encodeSharedRef(a){return this.reinitializeState(),this.doEncode(a,1),this.bytes.subarray(0,this.pos)}encode(a){return this.reinitializeState(),this.doEncode(a,1),this.bytes.slice(0,this.pos)}doEncode(a,s){if(s>this.maxDepth)throw new Error(`Too deep objects in depth ${s}`);a==null?this.encodeNil():typeof a=="boolean"?this.encodeBoolean(a):typeof a=="number"?this.encodeNumber(a):typeof a=="string"?this.encodeString(a):this.encodeObject(a,s)}ensureBufferSizeToWrite(a){let s=this.pos+a;this.view.byteLength<s&&this.resizeBuffer(s*2)}resizeBuffer(a){let s=new ArrayBuffer(a),c=new Uint8Array(s),l=new DataView(s);c.set(this.bytes),this.view=l,this.bytes=c}encodeNil(){this.writeU8(192)}encodeBoolean(a){a===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(a){Number.isSafeInteger(a)&&!this.forceIntegerToFloat?a>=0?a<128?this.writeU8(a):a<256?(this.writeU8(204),this.writeU8(a)):a<65536?(this.writeU8(205),this.writeU16(a)):a<4294967296?(this.writeU8(206),this.writeU32(a)):(this.writeU8(207),this.writeU64(a)):a>=-32?this.writeU8(224|a+32):a>=-128?(this.writeU8(208),this.writeI8(a)):a>=-32768?(this.writeU8(209),this.writeI16(a)):a>=-2147483648?(this.writeU8(210),this.writeI32(a)):(this.writeU8(211),this.writeI64(a)):this.forceFloat32?(this.writeU8(202),this.writeF32(a)):(this.writeU8(203),this.writeF64(a))}writeStringHeader(a){if(a<32)this.writeU8(160+a);else if(a<256)this.writeU8(217),this.writeU8(a);else if(a<65536)this.writeU8(218),this.writeU16(a);else if(a<4294967296)this.writeU8(219),this.writeU32(a);else throw new Error(`Too long string: ${a} bytes in UTF-8`)}encodeString(a){if(a.length>t.TEXT_ENCODER_THRESHOLD){let s=(0,t.utf8Count)(a);this.ensureBufferSizeToWrite(5+s),this.writeStringHeader(s),(0,t.utf8EncodeTE)(a,this.bytes,this.pos),this.pos+=s}else{let s=(0,t.utf8Count)(a);this.ensureBufferSizeToWrite(5+s),this.writeStringHeader(s),(0,t.utf8EncodeJs)(a,this.bytes,this.pos),this.pos+=s}}encodeObject(a,s){let c=this.extensionCodec.tryToEncode(a,this.context);if(c!=null)this.encodeExtension(c);else if(Array.isArray(a))this.encodeArray(a,s);else if(ArrayBuffer.isView(a))this.encodeBinary(a);else if(typeof a=="object")this.encodeMap(a,s);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(a)}`)}encodeBinary(a){let s=a.byteLength;if(s<256)this.writeU8(196),this.writeU8(s);else if(s<65536)this.writeU8(197),this.writeU16(s);else if(s<4294967296)this.writeU8(198),this.writeU32(s);else throw new Error(`Too large binary: ${s}`);let c=(0,i.ensureUint8Array)(a);this.writeU8a(c)}encodeArray(a,s){let c=a.length;if(c<16)this.writeU8(144+c);else if(c<65536)this.writeU8(220),this.writeU16(c);else if(c<4294967296)this.writeU8(221),this.writeU32(c);else throw new Error(`Too large array: ${c}`);for(let l of a)this.doEncode(l,s+1)}countWithoutUndefined(a,s){let c=0;for(let l of s)a[l]!==void 0&&c++;return c}encodeMap(a,s){let c=Object.keys(a);this.sortKeys&&c.sort();let l=this.ignoreUndefined?this.countWithoutUndefined(a,c):c.length;if(l<16)this.writeU8(128+l);else if(l<65536)this.writeU8(222),this.writeU16(l);else if(l<4294967296)this.writeU8(223),this.writeU32(l);else throw new Error(`Too large map object: ${l}`);for(let u of c){let h=a[u];this.ignoreUndefined&&h===void 0||(this.encodeString(u),this.doEncode(h,s+1))}}encodeExtension(a){let s=a.data.length;if(s===1)this.writeU8(212);else if(s===2)this.writeU8(213);else if(s===4)this.writeU8(214);else if(s===8)this.writeU8(215);else if(s===16)this.writeU8(216);else if(s<256)this.writeU8(199),this.writeU8(s);else if(s<65536)this.writeU8(200),this.writeU16(s);else if(s<4294967296)this.writeU8(201),this.writeU32(s);else throw new Error(`Too large extension object: ${s}`);this.writeI8(a.type),this.writeU8a(a.data)}writeU8(a){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,a),this.pos++}writeU8a(a){let s=a.length;this.ensureBufferSizeToWrite(s),this.bytes.set(a,this.pos),this.pos+=s}writeI8(a){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,a),this.pos++}writeU16(a){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,a),this.pos+=2}writeI16(a){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,a),this.pos+=2}writeU32(a){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,a),this.pos+=4}writeI32(a){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,a),this.pos+=4}writeF32(a){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,a),this.pos+=4}writeF64(a){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,a),this.pos+=8}writeU64(a){this.ensureBufferSizeToWrite(8),(0,r.setUint64)(this.view,this.pos,a),this.pos+=8}writeI64(a){this.ensureBufferSizeToWrite(8),(0,r.setInt64)(this.view,this.pos,a),this.pos+=8}};e.Encoder=o}),vk=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.encode=void 0;var t=Lm(),n={};function r(i,o=n){return new t.Encoder(o.extensionCodec,o.context,o.maxDepth,o.initialBufferSize,o.sortKeys,o.forceFloat32,o.ignoreUndefined,o.forceIntegerToFloat).encodeSharedRef(i)}e.encode=r}),wk=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.prettyByte=void 0;function t(n){return`${n<0?"-":""}0x${Math.abs(n).toString(16).padStart(2,"0")}`}e.prettyByte=t}),xk=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CachedKeyDecoder=void 0;var t=Cu(),n=16,r=16,i=class{constructor(o=n,a=r){this.maxKeyLength=o,this.maxLengthPerKey=a,this.hit=0,this.miss=0,this.caches=[];for(let s=0;s<this.maxKeyLength;s++)this.caches.push([])}canBeCached(o){return o>0&&o<=this.maxKeyLength}find(o,a,s){let c=this.caches[s-1];e:for(let l of c){let u=l.bytes;for(let h=0;h<s;h++)if(u[h]!==o[a+h])continue e;return l.str}return null}store(o,a){let s=this.caches[o.length-1],c={bytes:o,str:a};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=c:s.push(c)}decode(o,a,s){let c=this.find(o,a,s);if(c!=null)return this.hit++,c;this.miss++;let l=(0,t.utf8DecodeJs)(o,a,s),u=Uint8Array.prototype.slice.call(o,a,a+s);return this.store(u,l),l}};e.CachedKeyDecoder=i}),Du=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.DataViewIndexOutOfBoundsError=void 0;var t=wk(),n=Uu(),r=ls(),i=Cu(),o=Cm(),a=xk(),s=Lu(),c=p=>{let g=typeof p;return g==="string"||g==="number"},l=-1,u=new DataView(new ArrayBuffer(0)),h=new Uint8Array(u.buffer);e.DataViewIndexOutOfBoundsError=(()=>{try{u.getInt8(0)}catch(p){return p.constructor}throw new Error("never reached")})();var f=new e.DataViewIndexOutOfBoundsError("Insufficient data"),d=new a.CachedKeyDecoder,y=class{constructor(p=n.ExtensionCodec.defaultCodec,g=void 0,b=r.UINT32_MAX,m=r.UINT32_MAX,w=r.UINT32_MAX,v=r.UINT32_MAX,_=r.UINT32_MAX,x=d){this.extensionCodec=p,this.context=g,this.maxStrLength=b,this.maxBinLength=m,this.maxArrayLength=w,this.maxMapLength=v,this.maxExtLength=_,this.keyDecoder=x,this.totalPos=0,this.pos=0,this.view=u,this.bytes=h,this.headByte=l,this.stack=[]}reinitializeState(){this.totalPos=0,this.headByte=l,this.stack.length=0}setBuffer(p){this.bytes=(0,o.ensureUint8Array)(p),this.view=(0,o.createDataView)(this.bytes),this.pos=0}appendBuffer(p){if(this.headByte===l&&!this.hasRemaining(1))this.setBuffer(p);else{let g=this.bytes.subarray(this.pos),b=(0,o.ensureUint8Array)(p),m=new Uint8Array(g.length+b.length);m.set(g),m.set(b,g.length),this.setBuffer(m)}}hasRemaining(p){return this.view.byteLength-this.pos>=p}createExtraByteError(p){let{view:g,pos:b}=this;return new RangeError(`Extra ${g.byteLength-b} of ${g.byteLength} byte(s) found at buffer[${p}]`)}decode(p){this.reinitializeState(),this.setBuffer(p);let g=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return g}*decodeMulti(p){for(this.reinitializeState(),this.setBuffer(p);this.hasRemaining(1);)yield this.doDecodeSync()}async decodeAsync(p){let g=!1,b;for await(let _ of p){if(g)throw this.createExtraByteError(this.totalPos);this.appendBuffer(_);try{b=this.doDecodeSync(),g=!0}catch(x){if(!(x instanceof e.DataViewIndexOutOfBoundsError))throw x}this.totalPos+=this.pos}if(g){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return b}let{headByte:m,pos:w,totalPos:v}=this;throw new RangeError(`Insufficient data in parsing ${(0,t.prettyByte)(m)} at ${v} (${w} in the current buffer)`)}decodeArrayStream(p){return this.decodeMultiAsync(p,!0)}decodeStream(p){return this.decodeMultiAsync(p,!1)}async*decodeMultiAsync(p,g){let b=g,m=-1;for await(let w of p){if(g&&m===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(w),b&&(m=this.readArraySize(),b=!1,this.complete());try{for(;yield this.doDecodeSync(),--m!==0;);}catch(v){if(!(v instanceof e.DataViewIndexOutOfBoundsError))throw v}this.totalPos+=this.pos}}doDecodeSync(){e:for(;;){let p=this.readHeadByte(),g;if(p>=224)g=p-256;else if(p<192)if(p<128)g=p;else if(p<144){let m=p-128;if(m!==0){this.pushMapState(m),this.complete();continue e}else g={}}else if(p<160){let m=p-144;if(m!==0){this.pushArrayState(m),this.complete();continue e}else g=[]}else{let m=p-160;g=this.decodeUtf8String(m,0)}else if(p===192)g=null;else if(p===194)g=!1;else if(p===195)g=!0;else if(p===202)g=this.readF32();else if(p===203)g=this.readF64();else if(p===204)g=this.readU8();else if(p===205)g=this.readU16();else if(p===206)g=this.readU32();else if(p===207)g=this.readU64();else if(p===208)g=this.readI8();else if(p===209)g=this.readI16();else if(p===210)g=this.readI32();else if(p===211)g=this.readI64();else if(p===217){let m=this.lookU8();g=this.decodeUtf8String(m,1)}else if(p===218){let m=this.lookU16();g=this.decodeUtf8String(m,2)}else if(p===219){let m=this.lookU32();g=this.decodeUtf8String(m,4)}else if(p===220){let m=this.readU16();if(m!==0){this.pushArrayState(m),this.complete();continue e}else g=[]}else if(p===221){let m=this.readU32();if(m!==0){this.pushArrayState(m),this.complete();continue e}else g=[]}else if(p===222){let m=this.readU16();if(m!==0){this.pushMapState(m),this.complete();continue e}else g={}}else if(p===223){let m=this.readU32();if(m!==0){this.pushMapState(m),this.complete();continue e}else g={}}else if(p===196){let m=this.lookU8();g=this.decodeBinary(m,1)}else if(p===197){let m=this.lookU16();g=this.decodeBinary(m,2)}else if(p===198){let m=this.lookU32();g=this.decodeBinary(m,4)}else if(p===212)g=this.decodeExtension(1,0);else if(p===213)g=this.decodeExtension(2,0);else if(p===214)g=this.decodeExtension(4,0);else if(p===215)g=this.decodeExtension(8,0);else if(p===216)g=this.decodeExtension(16,0);else if(p===199){let m=this.lookU8();g=this.decodeExtension(m,1)}else if(p===200){let m=this.lookU16();g=this.decodeExtension(m,2)}else if(p===201){let m=this.lookU32();g=this.decodeExtension(m,4)}else throw new s.DecodeError(`Unrecognized type byte: ${(0,t.prettyByte)(p)}`);this.complete();let b=this.stack;for(;b.length>0;){let m=b[b.length-1];if(m.type===0)if(m.array[m.position]=g,m.position++,m.position===m.size)b.pop(),g=m.array;else continue e;else if(m.type===1){if(!c(g))throw new s.DecodeError("The type of key must be string or number but "+typeof g);if(g==="__proto__")throw new s.DecodeError("The key __proto__ is not allowed");m.key=g,m.type=2;continue e}else if(m.map[m.key]=g,m.readCount++,m.readCount===m.size)b.pop(),g=m.map;else{m.key=null,m.type=1;continue e}}return g}}readHeadByte(){return this.headByte===l&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=l}readArraySize(){let p=this.readHeadByte();switch(p){case 220:return this.readU16();case 221:return this.readU32();default:{if(p<160)return p-144;throw new s.DecodeError(`Unrecognized array type byte: ${(0,t.prettyByte)(p)}`)}}}pushMapState(p){if(p>this.maxMapLength)throw new s.DecodeError(`Max length exceeded: map length (${p}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.push({type:1,size:p,key:null,readCount:0,map:{}})}pushArrayState(p){if(p>this.maxArrayLength)throw new s.DecodeError(`Max length exceeded: array length (${p}) > maxArrayLength (${this.maxArrayLength})`);this.stack.push({type:0,size:p,array:new Array(p),position:0})}decodeUtf8String(p,g){var b;if(p>this.maxStrLength)throw new s.DecodeError(`Max length exceeded: UTF-8 byte length (${p}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+g+p)throw f;let m=this.pos+g,w;return this.stateIsMapKey()&&!((b=this.keyDecoder)===null||b===void 0)&&b.canBeCached(p)?w=this.keyDecoder.decode(this.bytes,m,p):p>i.TEXT_DECODER_THRESHOLD?w=(0,i.utf8DecodeTD)(this.bytes,m,p):w=(0,i.utf8DecodeJs)(this.bytes,m,p),this.pos+=g+p,w}stateIsMapKey(){return this.stack.length>0?this.stack[this.stack.length-1].type===1:!1}decodeBinary(p,g){if(p>this.maxBinLength)throw new s.DecodeError(`Max length exceeded: bin length (${p}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(p+g))throw f;let b=this.pos+g,m=this.bytes.subarray(b,b+p);return this.pos+=g+p,m}decodeExtension(p,g){if(p>this.maxExtLength)throw new s.DecodeError(`Max length exceeded: ext length (${p}) > maxExtLength (${this.maxExtLength})`);let b=this.view.getInt8(this.pos+g),m=this.decodeBinary(p,g+1);return this.extensionCodec.decode(m,b,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let p=this.view.getUint8(this.pos);return this.pos++,p}readI8(){let p=this.view.getInt8(this.pos);return this.pos++,p}readU16(){let p=this.view.getUint16(this.pos);return this.pos+=2,p}readI16(){let p=this.view.getInt16(this.pos);return this.pos+=2,p}readU32(){let p=this.view.getUint32(this.pos);return this.pos+=4,p}readI32(){let p=this.view.getInt32(this.pos);return this.pos+=4,p}readU64(){let p=(0,r.getUint64)(this.view,this.pos);return this.pos+=8,p}readI64(){let p=(0,r.getInt64)(this.view,this.pos);return this.pos+=8,p}readF32(){let p=this.view.getFloat32(this.pos);return this.pos+=4,p}readF64(){let p=this.view.getFloat64(this.pos);return this.pos+=8,p}};e.Decoder=y}),Um=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.decodeMulti=e.decode=e.defaultDecodeOptions=void 0;var t=Du();e.defaultDecodeOptions={};function n(i,o=e.defaultDecodeOptions){return new t.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength).decode(i)}e.decode=n;function r(i,o=e.defaultDecodeOptions){return new t.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength).decodeMulti(i)}e.decodeMulti=r}),_k=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ensureAsyncIterable=e.asyncIterableFromStream=e.isAsyncIterable=void 0;function t(o){return o[Symbol.asyncIterator]!=null}e.isAsyncIterable=t;function n(o){if(o==null)throw new Error("Assertion Failure: value must not be null nor undefined")}async function*r(o){let a=o.getReader();try{for(;;){let{done:s,value:c}=await a.read();if(s)return;n(c),yield c}}finally{a.releaseLock()}}e.asyncIterableFromStream=r;function i(o){return t(o)?o:r(o)}e.ensureAsyncIterable=i}),kk=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.decodeStream=e.decodeMultiStream=e.decodeArrayStream=e.decodeAsync=void 0;var t=Du(),n=_k(),r=Um();async function i(c,l=r.defaultDecodeOptions){let u=(0,n.ensureAsyncIterable)(c);return new t.Decoder(l.extensionCodec,l.context,l.maxStrLength,l.maxBinLength,l.maxArrayLength,l.maxMapLength,l.maxExtLength).decodeAsync(u)}e.decodeAsync=i;function o(c,l=r.defaultDecodeOptions){let u=(0,n.ensureAsyncIterable)(c);return new t.Decoder(l.extensionCodec,l.context,l.maxStrLength,l.maxBinLength,l.maxArrayLength,l.maxMapLength,l.maxExtLength).decodeArrayStream(u)}e.decodeArrayStream=o;function a(c,l=r.defaultDecodeOptions){let u=(0,n.ensureAsyncIterable)(c);return new t.Decoder(l.extensionCodec,l.context,l.maxStrLength,l.maxBinLength,l.maxArrayLength,l.maxMapLength,l.maxExtLength).decodeStream(u)}e.decodeMultiStream=a;function s(c,l=r.defaultDecodeOptions){return a(c,l)}e.decodeStream=s}),Ou=De(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.decodeTimestampExtension=e.encodeTimestampExtension=e.decodeTimestampToTimeSpec=e.encodeTimeSpecToTimestamp=e.encodeDateToTimeSpec=e.EXT_TIMESTAMP=e.ExtData=e.ExtensionCodec=e.Encoder=e.DataViewIndexOutOfBoundsError=e.DecodeError=e.Decoder=e.decodeStream=e.decodeMultiStream=e.decodeArrayStream=e.decodeAsync=e.decodeMulti=e.decode=e.encode=void 0;var t=vk();Object.defineProperty(e,"encode",{enumerable:!0,get:function(){return t.encode}});var n=Um();Object.defineProperty(e,"decode",{enumerable:!0,get:function(){return n.decode}}),Object.defineProperty(e,"decodeMulti",{enumerable:!0,get:function(){return n.decodeMulti}});var r=kk();Object.defineProperty(e,"decodeAsync",{enumerable:!0,get:function(){return r.decodeAsync}}),Object.defineProperty(e,"decodeArrayStream",{enumerable:!0,get:function(){return r.decodeArrayStream}}),Object.defineProperty(e,"decodeMultiStream",{enumerable:!0,get:function(){return r.decodeMultiStream}}),Object.defineProperty(e,"decodeStream",{enumerable:!0,get:function(){return r.decodeStream}});var i=Du();Object.defineProperty(e,"Decoder",{enumerable:!0,get:function(){return i.Decoder}}),Object.defineProperty(e,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return i.DataViewIndexOutOfBoundsError}});var o=Lu();Object.defineProperty(e,"DecodeError",{enumerable:!0,get:function(){return o.DecodeError}});var a=Lm();Object.defineProperty(e,"Encoder",{enumerable:!0,get:function(){return a.Encoder}});var s=Uu();Object.defineProperty(e,"ExtensionCodec",{enumerable:!0,get:function(){return s.ExtensionCodec}});var c=Nm();Object.defineProperty(e,"ExtData",{enumerable:!0,get:function(){return c.ExtData}});var l=Rm();Object.defineProperty(e,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return l.EXT_TIMESTAMP}}),Object.defineProperty(e,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return l.encodeDateToTimeSpec}}),Object.defineProperty(e,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return l.encodeTimeSpecToTimestamp}}),Object.defineProperty(e,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return l.decodeTimestampToTimeSpec}}),Object.defineProperty(e,"encodeTimestampExtension",{enumerable:!0,get:function(){return l.encodeTimestampExtension}}),Object.defineProperty(e,"decodeTimestampExtension",{enumerable:!0,get:function(){return l.decodeTimestampExtension}})}),Fr=class extends Error{constructor(e){super(e),this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}},Zn=class extends Fr{},Nt=class extends Fr{},us=class extends Fr{},Rt=typeof process<"u"&&process.release&&process.release.name==="node";if(!globalThis.document&&!globalThis.importScripts&&!Rt)throw new Fr("Cannot determine runtime environment");var R={};function Mk(e){Object.keys(e).forEach(t=>R._free(e[t]))}var Ct={null:0,symbol:1,pairlist:2,closure:3,environment:4,promise:5,call:6,special:7,builtin:8,string:9,logical:10,integer:13,double:14,complex:15,character:16,dots:17,any:18,list:19,expression:20,bytecode:21,pointer:22,weakref:23,raw:24,s4:25,new:30,free:31,function:99};function Dm(e){return!!e&&typeof e=="object"&&Object.keys(Ct).includes(e.type)}function fs(e){return!!e&&typeof e=="object"&&"re"in e&&"im"in e}function hs(e){return R._Rf_protect(rn(e)),e}function be(e,t){return R._Rf_protect(rn(e)),++t.n,e}function Ak(e){let t=R._malloc(4);return R._R_ProtectWithIndex(rn(e),t),{loc:R.getValue(t,"i32"),ptr:t}}function Ek(e){R._Rf_unprotect(1),R._free(e.ptr)}function Tk(e,t){return R._R_Reprotect(rn(e),t.loc),e}function Ee(e){R._Rf_unprotect(e)}function Om(e,t,n){R._Rf_defineVar(rn(t),rn(n),rn(e))}function jm(e,t){let n={},r={n:0};try{let i=new Bm(t);be(i,r),n.code=R.allocateUTF8(e);let o=R._R_ParseEvalString(n.code,i.ptr);return le.wrap(o)}finally{Mk(n),Ee(r.n)}}function ds(e,t){return R.getWasmTableEntry(R.GOT.ffi_safe_eval.value)(rn(e),rn(t))}var Sk=new WeakMap;function $k(e,t){return Sk.set(e,t),e}var Nk=63;function Im(){let e=Array.from({length:4},Rk).join("-");if(e.length!==Nk)throw new Error("comlink internal error: UUID has the wrong length");return e}function Rk(){let e=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16),t=15-e.length;return t>0&&(e=Array.from({length:t},()=>0).join("")+e),e}function rn(e){return bs(e)?e.ptr:e}function Kn(e,t){if(R._TYPEOF(e.ptr)!==Ct[t])throw new Error(`Unexpected object type "${e.type()}" when expecting type "${t}"`)}function Pm(e){if(Dm(e))return new(Jm(e.type))(e);if(e&&typeof e=="object"&&"type"in e&&e.type==="null")return new Fm;if(e===null)return new Wr({type:"logical",names:null,values:[null]});if(typeof e=="boolean")return new Wr(e);if(typeof e=="number")return new ms(e);if(typeof e=="string")return new Mn(e);if(fs(e))return new Wu(e);if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)return new Vu(e);if(Array.isArray(e))return Ck(e);if(typeof e=="object")return eo.fromObject(e);throw new Error("Robj construction for this JS object is not yet supported")}function Ck(e){let t={n:0};if(e.every(n=>n&&typeof n=="object"&&!bs(n)&&!fs(n))){let n=e,r=n.every(o=>Object.keys(o).filter(a=>!Object.keys(n[0]).includes(a)).length===0&&Object.keys(n[0]).filter(a=>!Object.keys(o).includes(a)).length===0),i=n.every(o=>Object.values(o).every(a=>Zm(a)||Gm(a)));if(r&&i)return eo.fromD3(n)}if(e.every(n=>typeof n=="boolean"||n===null))return new Wr(e);if(e.every(n=>typeof n=="number"||n===null))return new ms(e);if(e.every(n=>typeof n=="string"||n===null))return new Mn(e);try{let n=new Qn([new Lt("c"),...e]);return be(n,t),n.eval()}finally{Ee(t.n)}}var Te=class{constructor(e){this.ptr=e}type(){let e=R._TYPEOF(this.ptr);return Object.keys(Ct).find(t=>Ct[t]===e)}},Qi,ps,Br=class extends Te{constructor(e){if(!(e instanceof Te))return Pm(e);super(e.ptr),ae(this,Qi)}static wrap(e){let t=R._TYPEOF(e),n=Object.keys(Ct)[Object.values(Ct).indexOf(t)];return new(Jm(n))(new Te(e))}get[Symbol.toStringTag](){return`RObject:${this.type()}`}static getPersistentObject(e){return Oe[e]}getPropertyValue(e){return this[e]}inspect(){jm(".Internal(inspect(x))",{x:this})}isNull(){return R._TYPEOF(this.ptr)===Ct.null}isNa(){try{let e=jm("is.na(x)",{x:this});return hs(e),e.toBoolean()}finally{Ee(1)}}isUnbound(){return this.ptr===Oe.unboundValue.ptr}attrs(){return ys.wrap(R._ATTRIB(this.ptr))}class(){let e={n:0},t=new Qn([new Lt("class"),this]);be(t,e);try{return t.eval()}finally{Ee(e.n)}}setNames(e){let t;if(e===null)t=Oe.null;else if(Array.isArray(e)&&e.every(n=>typeof n=="string"||n===null))t=new Mn(e);else throw new Error("Argument to setNames must be null or an Array of strings or null");return R._Rf_setAttrib(this.ptr,Oe.namesSymbol.ptr,t.ptr),this}names(){let e=Mn.wrap(R._Rf_getAttrib(this.ptr,Oe.namesSymbol.ptr));return e.isNull()?null:e.toArray()}includes(e){let t=this.names();return t&&t.includes(e)}toJs(e={depth:0},t=1){throw new Error("This R object cannot be converted to JS")}subset(e){return vt(this,Qi,ps).call(this,e,Oe.bracketSymbol.ptr)}get(e){return vt(this,Qi,ps).call(this,e,Oe.bracket2Symbol.ptr)}getDollar(e){return vt(this,Qi,ps).call(this,e,Oe.dollarSymbol.ptr)}pluck(...e){let t=Ak(Oe.null);try{let n=(i,o)=>{let a=i.get(o);return Tk(a,t)},r=e.reduce(n,this);return r.isNull()?void 0:r}finally{Ek(t)}}set(e,t){let n={n:0};try{let r=new Br(e);be(r,n);let i=new Br(t);be(i,n);let o=new Lt("[[<-"),a=R._Rf_lang4(o.ptr,this.ptr,r.ptr,i.ptr);return be(a,n),Br.wrap(ds(a,Oe.baseEnv))}finally{Ee(n.n)}}static getMethods(e){let t=new Set,n=e;do Object.getOwnPropertyNames(n).map(r=>t.add(r));while(n=Object.getPrototypeOf(n));return[...t.keys()].filter(r=>typeof e[r]=="function")}},le=Br;Qi=new WeakSet,ps=function(e,t){let n={n:0};try{let r=new Br(e);be(r,n);let i=R._Rf_lang3(t,this.ptr,r.ptr);return be(i,n),Br.wrap(ds(i,Oe.baseEnv))}finally{Ee(n.n)}};var Fm=class extends le{constructor(){return super(new Te(R.getValue(R._R_NilValue,"*"))),this}toJs(){return{type:"null"}}},Lt=class extends le{constructor(e){if(e instanceof Te){Kn(e,"symbol"),super(e);return}let t=R.allocateUTF8(e);try{super(new Te(R._Rf_install(t)))}finally{R._free(t)}}toJs(){let e=this.toObject();return{type:"symbol",printname:e.printname,symvalue:e.symvalue,internal:e.internal}}toObject(){return{printname:this.printname().isUnbound()?null:this.printname().toString(),symvalue:this.symvalue().isUnbound()?null:this.symvalue().ptr,internal:this.internal().isNull()?null:this.internal().ptr}}toString(){return this.printname().toString()}printname(){return Iu.wrap(R._PRINTNAME(this.ptr))}symvalue(){return le.wrap(R._SYMVALUE(this.ptr))}internal(){return le.wrap(R._INTERNAL(this.ptr))}},ys=class extends le{constructor(e){if(e instanceof Te)return Kn(e,"pairlist"),super(e),this;let t={n:0};try{let{names:n,values:r}=qr(e),i=ys.wrap(R._Rf_allocList(r.length));be(i,t);for(let[o,a]=[0,i];!a.isNull();[o,a]=[o+1,a.cdr()])a.setcar(new le(r[o]));i.setNames(n),super(i)}finally{Ee(t.n)}}get length(){return this.toArray().length}toArray(e={depth:1}){return this.toJs(e).values}toObject({allowDuplicateKey:e=!0,allowEmptyKey:t=!1,depth:n=-1}={}){let r=this.entries({depth:n}),i=r.map(([o])=>o);if(!e&&new Set(i).size!==i.length)throw new Error("Duplicate key when converting pairlist without allowDuplicateKey enabled");if(!t&&i.some(o=>!o))throw new Error("Empty or null key when converting pairlist without allowEmptyKey enabled");return Object.fromEntries(r.filter((o,a)=>r.findIndex(s=>s[0]===o[0])===a))}entries(e={depth:1}){let t=this.toJs(e);return t.values.map((n,r)=>[t.names?t.names[r]:null,n])}toJs(e={depth:0},t=1){let n=[],r=!1,i=[];for(let o=this;!o.isNull();o=o.cdr()){let a=o.tag();a.isNull()?n.push(""):(r=!0,n.push(a.toString())),e.depth&&t>=e.depth?i.push(o.car()):i.push(o.car().toJs(e,t+1))}return{type:"pairlist",names:r?n:null,values:i}}includes(e){return e in this.toObject()}setcar(e){R._SETCAR(this.ptr,e.ptr)}car(){return le.wrap(R._CAR(this.ptr))}cdr(){return le.wrap(R._CDR(this.ptr))}tag(){return le.wrap(R._TAG(this.ptr))}},Qn=class extends le{constructor(e){if(e instanceof Te)return Kn(e,"call"),super(e),this;let t={n:0};try{let{values:n}=qr(e),r=n.map(o=>be(new le(o),t)),i=Qn.wrap(R._Rf_allocVector(Ct.call,n.length));be(i,t);for(let[o,a]=[0,i];!a.isNull();[o,a]=[o+1,a.cdr()])a.setcar(r[o]);super(i)}finally{Ee(t.n)}}setcar(e){R._SETCAR(this.ptr,e.ptr)}car(){return le.wrap(R._CAR(this.ptr))}cdr(){return le.wrap(R._CDR(this.ptr))}eval(){return R.webr.evalR(this,{env:Oe.baseEnv})}capture(e={}){return R.webr.captureR(this,e)}deparse(){let e={n:0};try{let t=R._Rf_lang2(new Lt("deparse1").ptr,R._Rf_lang2(new Lt("quote").ptr,this.ptr));be(t,e);let n=Mn.wrap(ds(t,Oe.baseEnv));return be(n,e),n.toString()}finally{Ee(e.n)}}},ju=class extends le{constructor(e,t=null){if(e instanceof Te){if(Kn(e,"list"),super(e),t){if(t.length!==this.length)throw new Error("Can't construct named `RList`. Supplied `names` must be the same length as the list.");this.setNames(t)}return this}let n={n:0};try{let r=qr(e),i=R._Rf_allocVector(Ct.list,r.values.length);be(i,n),r.values.forEach((a,s)=>{R._SET_VECTOR_ELT(i,s,new le(a).ptr)});let o=t||r.names;if(o&&o.length!==r.values.length)throw new Error("Can't construct named `RList`. Supplied `names` must be the same length as the list.");le.wrap(i).setNames(o),super(new Te(i))}finally{Ee(n.n)}}get length(){return R._LENGTH(this.ptr)}isDataFrame(){let e=ys.wrap(R._ATTRIB(this.ptr)).get("class");return!e.isNull()&&e.toArray().includes("data.frame")}toArray(e={depth:1}){return this.toJs(e).values}toObject({allowDuplicateKey:e=!0,allowEmptyKey:t=!1,depth:n=-1}={}){let r=this.entries({depth:n}),i=r.map(([o])=>o);if(!e&&new Set(i).size!==i.length)throw new Error("Duplicate key when converting list without allowDuplicateKey enabled");if(!t&&i.some(o=>!o))throw new Error("Empty or null key when converting list without allowEmptyKey enabled");return Object.fromEntries(r.filter((o,a)=>r.findIndex(s=>s[0]===o[0])===a))}toD3(){if(!this.isDataFrame())throw new Error("Can't convert R list object to D3 format. Object must be of class 'data.frame'.");return this.entries().reduce((e,t)=>(t[1].forEach((n,r)=>e[r]=Object.assign(e[r]||{},{[t[0]]:n})),e),[])}entries(e={depth:-1}){let t=this.toJs(e);return this.isDataFrame()&&e.depth<0&&(t.values=t.values.map(n=>n.toArray())),t.values.map((n,r)=>[t.names?t.names[r]:null,n])}toJs(e={depth:0},t=1){return{type:"list",names:this.names(),values:[...Array(this.length).keys()].map(n=>e.depth&&t>=e.depth?this.get(n+1):this.get(n+1).toJs(e,t+1))}}},eo=class extends ju{constructor(e){if(e instanceof Te){if(super(e),!this.isDataFrame())throw new Error("Can't construct `RDataFrame`. Supplied R object is not a `data.frame`.");return this}return eo.fromObject(e)}static fromObject(e){let{names:t,values:n}=qr(e),r={n:0};try{let i=!!t&&t.length>0&&t.every(a=>a),o=n.length>0&&n.every(a=>Array.isArray(a)||ArrayBuffer.isView(a)||a instanceof ArrayBuffer);if(i&&o){let a=n,s=a.every(l=>l.length===a[0].length),c=a.every(l=>Zm(l[0])||Gm(l[0]));if(s&&c){let l=new ju({type:"list",names:t,values:a.map(h=>Pm(h))});be(l,r);let u=new Qn([new Lt("as.data.frame"),l]);return be(u,r),new eo(u.eval())}}}finally{Ee(r.n)}throw new Error("Can't construct `data.frame`. Source object is not eligible.")}static fromD3(e){return this.fromObject(Object.fromEntries(Object.keys(e[0]).map(t=>[t,e.map(n=>n[t])])))}},gs=class extends le{exec(...e){let t={n:0};try{let n=new Qn([this,...e]);return be(n,t),n.eval()}finally{Ee(t.n)}}capture(e={},...t){let n={n:0};try{let r=new Qn([this,...t]);return be(r,n),r.capture(e)}finally{Ee(n.n)}}},Iu=class extends le{constructor(e){if(e instanceof Te){Kn(e,"string"),super(e);return}let t=R.allocateUTF8(e);try{super(new Te(R._Rf_mkChar(t)))}finally{R._free(t)}}toString(){return R.UTF8ToString(R._R_CHAR(this.ptr))}toJs(){return{type:"string",value:this.toString()}}},Bm=class extends le{constructor(e={}){if(e instanceof Te)return Kn(e,"environment"),super(e),this;let t=0;try{let{names:n,values:r}=qr(e),i=hs(R._R_NewEnv(Oe.globalEnv.ptr,0,0));++t,r.forEach((o,a)=>{let s=n?n[a]:null;if(!s)throw new Error("Can't create object in new environment with empty symbol name");let c=new Lt(s),l=hs(new le(o));try{Om(i,c,l)}finally{Ee(1)}}),super(new Te(i))}finally{Ee(t)}}ls(e=!1,t=!0){return Mn.wrap(R._R_lsInternal3(this.ptr,Number(e),Number(t))).toArray()}bind(e,t){let n=new Lt(e),r=hs(new le(t));try{Om(this,n,r)}finally{Ee(1)}}names(){return this.ls(!0,!0)}frame(){return le.wrap(R._FRAME(this.ptr))}subset(e){if(typeof e=="number")throw new Error("Object of type environment is not subsettable");return this.getDollar(e)}toObject({depth:e=-1}={}){let t=this.names();return Object.fromEntries([...Array(t.length).keys()].map(n=>{let r=this.getDollar(t[n]);return[t[n],e<0?r:r.toJs({depth:e})]}))}toJs(e={depth:0},t=1){let n=this.names(),r=[...Array(n.length).keys()].map(i=>e.depth&&t>=e.depth?this.getDollar(n[i]):this.getDollar(n[i]).toJs(e,t+1));return{type:"environment",names:n,values:r}}},zr=class extends le{constructor(e,t,n){if(e instanceof Te)return Kn(e,t),super(e),this;let r={n:0};try{let{names:i,values:o}=qr(e),a=R._Rf_allocVector(Ct[t],o.length);be(a,r),o.forEach(n(a)),le.wrap(a).setNames(i),super(new Te(a))}finally{Ee(r.n)}}get length(){return R._LENGTH(this.ptr)}get(e){return super.get(e)}subset(e){return super.subset(e)}getDollar(){throw new Error("$ operator is invalid for atomic vectors")}detectMissing(){let e={n:0};try{let t=R._Rf_lang2(new Lt("is.na").ptr,this.ptr);be(t,e);let n=Wr.wrap(ds(t,Oe.baseEnv));be(n,e);let r=n.toTypedArray();return Array.from(r).map(i=>!!i)}finally{Ee(e.n)}}toArray(){let e=this.toTypedArray();return this.detectMissing().map((t,n)=>t?null:e[n])}toObject({allowDuplicateKey:e=!0,allowEmptyKey:t=!1}={}){let n=this.entries(),r=n.map(([i])=>i);if(!e&&new Set(r).size!==r.length)throw new Error("Duplicate key when converting atomic vector without allowDuplicateKey enabled");if(!t&&r.some(i=>!i))throw new Error("Empty or null key when converting atomic vector without allowEmptyKey enabled");return Object.fromEntries(n.filter((i,o)=>n.findIndex(a=>a[0]===i[0])===o))}entries(){let e=this.toArray(),t=this.names();return e.map((n,r)=>[t?t[r]:null,n])}toJs(){return{type:this.type(),names:this.names(),values:this.toArray()}}},Pu,zm=class extends zr{constructor(e){super(e,"logical",N(zm,Pu))}getBoolean(e){return this.get(e).toArray()[0]}toBoolean(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getBoolean(1);if(e===null)throw new Error("Can't convert missing value `NA` to a JS boolean");return e}toTypedArray(){return new Int32Array(R.HEAP32.subarray(R._LOGICAL(this.ptr)/4,R._LOGICAL(this.ptr)/4+this.length))}toArray(){let e=this.toTypedArray();return this.detectMissing().map((t,n)=>t?null:!!e[n])}},Wr=zm;Pu=new WeakMap,ae(Wr,Pu,e=>{let t=R._LOGICAL(e),n=R.getValue(R._R_NaInt,"i32");return(r,i)=>{R.setValue(t+4*i,r===null?n:!!r,"i32")}});var Fu,Wm=class extends zr{constructor(e){super(e,"integer",N(Wm,Fu))}getNumber(e){return this.get(e).toArray()[0]}toNumber(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getNumber(1);if(e===null)throw new Error("Can't convert missing value `NA` to a JS number");return e}toTypedArray(){return new Int32Array(R.HEAP32.subarray(R._INTEGER(this.ptr)/4,R._INTEGER(this.ptr)/4+this.length))}},qm=Wm;Fu=new WeakMap,ae(qm,Fu,e=>{let t=R._INTEGER(e),n=R.getValue(R._R_NaInt,"i32");return(r,i)=>{R.setValue(t+4*i,r===null?n:Math.round(Number(r)),"i32")}});var Bu,Hm=class extends zr{constructor(e){super(e,"double",N(Hm,Bu))}getNumber(e){return this.get(e).toArray()[0]}toNumber(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getNumber(1);if(e===null)throw new Error("Can't convert missing value `NA` to a JS number");return e}toTypedArray(){return new Float64Array(R.HEAPF64.subarray(R._REAL(this.ptr)/8,R._REAL(this.ptr)/8+this.length))}},ms=Hm;Bu=new WeakMap,ae(ms,Bu,e=>{let t=R._REAL(e),n=R.getValue(R._R_NaReal,"double");return(r,i)=>{R.setValue(t+8*i,r===null?n:r,"double")}});var zu,Vm=class extends zr{constructor(e){super(e,"complex",N(Vm,zu))}getComplex(e){return this.get(e).toArray()[0]}toComplex(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getComplex(1);if(e===null)throw new Error("Can't convert missing value `NA` to a JS object");return e}toTypedArray(){return new Float64Array(R.HEAPF64.subarray(R._COMPLEX(this.ptr)/8,R._COMPLEX(this.ptr)/8+2*this.length))}toArray(){let e=this.toTypedArray();return this.detectMissing().map((t,n)=>t?null:{re:e[2*n],im:e[2*n+1]})}},Wu=Vm;zu=new WeakMap,ae(Wu,zu,e=>{let t=R._COMPLEX(e),n=R.getValue(R._R_NaReal,"double");return(r,i)=>{R.setValue(t+8*(2*i),r===null?n:r.re,"double"),R.setValue(t+8*(2*i+1),r===null?n:r.im,"double")}});var qu,Ym=class extends zr{constructor(e){super(e,"character",N(Ym,qu))}getString(e){return this.get(e).toArray()[0]}toString(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getString(1);if(e===null)throw new Error("Can't convert missing value `NA` to a JS string");return e}toTypedArray(){return new Uint32Array(R.HEAPU32.subarray(R._STRING_PTR(this.ptr)/4,R._STRING_PTR(this.ptr)/4+this.length))}toArray(){return this.detectMissing().map((e,t)=>e?null:R.UTF8ToString(R._R_CHAR(R._STRING_ELT(this.ptr,t))))}},Mn=Ym;qu=new WeakMap,ae(Mn,qu,e=>(t,n)=>{t===null?R._SET_STRING_ELT(e,n,Oe.naString.ptr):R._SET_STRING_ELT(e,n,new Iu(t).ptr)});var Hu,Xm=class extends zr{constructor(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e)),super(e,"raw",N(Xm,Hu))}getNumber(e){return this.get(e).toArray()[0]}toNumber(){if(this.length!==1)throw new Error("Can't convert atomic vector of length > 1 to a scalar JS value");let e=this.getNumber(1);if(e===null)throw new Error("Can't convert missing value `NA` to a JS number");return e}toTypedArray(){return new Uint8Array(R.HEAPU8.subarray(R._RAW(this.ptr),R._RAW(this.ptr)+this.length))}},Vu=Xm;Hu=new WeakMap,ae(Vu,Hu,e=>{let t=R._RAW(e);return(n,r)=>{R.setValue(t+r,Number(n),"i8")}});function qr(e){return Dm(e)?e:Array.isArray(e)||ArrayBuffer.isView(e)?{names:null,values:e}:e&&typeof e=="object"&&!fs(e)?{names:Object.keys(e),values:Object.values(e)}:{names:null,values:[e]}}function Jm(e){let t={object:le,null:Fm,symbol:Lt,pairlist:ys,closure:gs,environment:Bm,call:Qn,special:gs,builtin:gs,string:Iu,logical:Wr,integer:qm,double:ms,complex:Wu,character:Mn,list:ju,raw:Vu,function:gs,dataframe:eo};return e in t?t[e]:le}function bs(e){return e instanceof le}function Gm(e){let t=["logical","integer","double","complex","character"];return bs(e)&&t.includes(e.type())||bs(e)&&e.isNa()}function Zm(e){return e===null||typeof e=="number"||typeof e=="boolean"||typeof e=="string"||fs(e)}var Oe;function vs(){let e={resolve:()=>{},reject:()=>{},promise:Promise.resolve()},t=new Promise((n,r)=>{e.resolve=n,e.reject=r});return e.promise=t,e}function Lk(e){return new Promise(t=>setTimeout(t,e))}function An(e,t,n,...r){return e==null||Uk(e)?e:e instanceof ArrayBuffer?new Uint8Array(e):t(e)?n(e,...r):Array.isArray(e)||ArrayBuffer.isView(e)?e.map(i=>An(i,t,n,...r)):e instanceof Te?e:typeof e=="object"?Object.fromEntries(Object.entries(e).map(([i,o])=>[i,An(o,t,n,...r)])):e}function Yu(e,t){let n=new XMLHttpRequest;n.open("get",e,!0),n.onload=()=>{let r=new Worker(URL.createObjectURL(new Blob([n.responseText])));t(r)},n.send()}function Xu(e){if(Rt)return!1;let t=new URL(location.href),n=new URL(e,location.origin);return!(t.host===n.host&&t.port===n.port&&t.protocol===n.protocol)}function Uk(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap}var Dk=Nu(Ou()),Ok=new TextEncoder;async function jk(e,t,n){try{let{taskId:r,sizeBuffer:i,dataBuffer:o,signalBuffer:a}=t,s=(0,Dk.encode)(n),c=s.length<=o.length;if(Atomics.store(i,0,s.length),Atomics.store(i,1,+c),!c){let[l,u]=Ik(e);o.set(Ok.encode(l)),await Km(a,r),o=(await u).dataBuffer}o.set(s),Atomics.store(i,1,1),await Km(a,r)}catch(r){console.warn(r)}}function Ik(e){let t=Im();return[t,new Promise(n=>{Rt?e.once("message",r=>{!r.id||r.id!==t||n(r)}):e.addEventListener("message",function r(i){!i.data||!i.data.id||i.data.id!==t||(e.removeEventListener("message",r),n(i.data))}),e.start&&e.start()})]}async function Km(e,t){let n=(t>>1)%32,r=1;for(;Atomics.compareExchange(e,n+1,0,t)!==0;)await Lk(r),r<32&&(r*=2);Atomics.or(e,0,1<<n),Atomics.notify(e,0)}var on,an,ws,Ju,Gu=class{constructor(){ae(this,ws),ae(this,on,void 0),ae(this,an,void 0),Be(this,an,[]),Be(this,on,[])}reset(){Be(this,an,[]),Be(this,on,[])}put(e){N(this,an).length||vt(this,ws,Ju).call(this),N(this,an).shift()(e)}async get(){return N(this,on).length||vt(this,ws,Ju).call(this),N(this,on).shift()}isEmpty(){return!N(this,on).length}isBlocked(){return!!N(this,an).length}get length(){return N(this,on).length-N(this,an).length}};on=new WeakMap,an=new WeakMap,ws=new WeakSet,Ju=function(){N(this,on).push(new Promise(e=>{N(this,an).push(e)}))};function Pk(e,t){return Qm({type:"request",data:{uuid:Im(),msg:e}},t)}function Zu(e,t,n){return Qm({type:"response",data:{uuid:e,resp:t}},n)}function Qm(e,t){return t&&$k(e,t),e}function Fk(e){let t=new Zn(e.obj.message);return e.obj.name!=="Error"&&(t.name=e.obj.name),t.stack=e.obj.stack,t}function Bk(e){return!!e&&typeof e=="object"&&"payloadType"in e&&"obj"in e}function eb(e){return Bk(e)&&e.payloadType==="ptr"}var to,xs,Ku=class{constructor(){this.inputQueue=new Gu,this.outputQueue=new Gu,this.systemQueue=new Gu,ae(this,to,new Map),ae(this,xs,!1)}async read(){return await this.outputQueue.get()}async flush(){let e=[];for(;!this.outputQueue.isEmpty();)e.push(await this.read());return e}async readSystem(){return await this.systemQueue.get()}write(e){if(N(this,xs))throw new Nt("The webR communication channel has been closed.");this.inputQueue.put(e)}async request(e,t){let n=Pk(e,t),{resolve:r,reject:i,promise:o}=vs();return N(this,to).set(n.data.uuid,{resolve:r,reject:i}),this.write(n),o}putClosedMessage(){Be(this,xs,!0),this.outputQueue.put({type:"closed"})}resolveResponse(e){let t=e.data.uuid,n=N(this,to).get(t);if(n){let r=e.data.resp;N(this,to).delete(t),r.payloadType==="err"?n.reject(Fk(r)):n.resolve(r)}else console.warn("Can't find request.")}};to=new WeakMap,xs=new WeakMap,Nu(Ou()),new TextDecoder("utf-8"),Rt&&(globalThis.Worker=$u("worker_threads").Worker);var no,Qu,tb,_s,nb=class extends Ku{constructor(e){super(),ae(this,Qu),ae(this,no,void 0),this.close=()=>{},ae(this,_s,async(n,r)=>{if(!(!r||!r.type))switch(r.type){case"resolve":Be(this,no,new Int32Array(r.data)),this.resolve();return;case"response":this.resolveResponse(r);return;case"system":this.systemQueue.put(r.data);return;default:this.outputQueue.put(r);return;case"sync-request":{let i=r,o=i.data.msg,a=i.data.reqData;switch(o.type){case"read":{let s=await this.inputQueue.get();await jk(n,a,s);break}default:throw new Nt(`Unsupported request type '${o.type}'.`)}return}case"request":throw new Nt("Can't send messages of type 'request' from a worker. Please Use 'sync-request' instead.")}}),{resolve:this.resolve,reject:this.reject,promise:this.initialised}=vs();let t=n=>{vt(this,Qu,tb).call(this,n),this.close=()=>{n.terminate(),this.putClosedMessage()};let r={type:"init",data:{config:e,channelType:En.SharedArrayBuffer}};n.postMessage(r)};if(Xu(e.baseUrl))Yu(`${e.baseUrl}webr-worker.js`,n=>t(n));else{let n=new Worker(`${e.baseUrl}webr-worker.js`);t(n)}}interrupt(){if(!N(this,no))throw new Nt("Failed attempt to interrupt before initialising interruptBuffer");this.inputQueue.reset(),N(this,no)[0]=1}};no=new WeakMap,Qu=new WeakSet,tb=function(e){Rt?(e.on("message",t=>{N(this,_s).call(this,e,t)}),e.on("error",t=>{console.error(t),this.reject(new Zn("An error occurred initialising the webR SharedBufferChannel worker."))})):(e.onmessage=t=>N(this,_s).call(this,e,t.data),e.onerror=t=>{console.error(t),this.reject(new Zn("An error occurred initialising the webR SharedBufferChannel worker."))})},_s=new WeakMap,Nu(Ou()),Rt&&(globalThis.Worker=$u("worker_threads").Worker);var ro,Hr,io,ef,rb,tf,ib,nf,ob,ks,zk=class extends Ku{constructor(e){super(),ae(this,ef),ae(this,tf),ae(this,nf),this.close=()=>{},ae(this,ro,new Map),ae(this,Hr,void 0),ae(this,io,!1),ae(this,ks,(n,r)=>{if(!(!r||!r.type))switch(r.type){case"resolve":this.resolve();return;case"response":this.resolveResponse(r);return;case"system":this.systemQueue.put(r.data);return;default:this.outputQueue.put(r);return;case"sync-request":{let i=r.data;N(this,ro).set(i.data.uuid,i.data.msg);return}case"request":throw new Nt("Can't send messages of type 'request' from a worker.Use service worker fetch request instead.")}}),{resolve:this.resolve,reject:this.reject,promise:this.initialised}=vs(),console.warn("The ServiceWorker communication channel is deprecated and will be removed in a future version of webR. Consider using the PostMessage channel instead. If blocking input is required (for example, `browser()`) the SharedArrayBuffer channel should be used. See https://docs.r-wasm.org/webr/latest/serving.html for further information.");let t=n=>{vt(this,nf,ob).call(this,n),this.close=()=>{n.terminate(),this.putClosedMessage()},vt(this,ef,rb).call(this,`${e.serviceWorkerUrl}webr-serviceworker.js`).then(r=>{let i={type:"init",data:{config:e,channelType:En.ServiceWorker,clientId:r,location:window.location.href}};n.postMessage(i)})};if(Xu(e.serviceWorkerUrl))Yu(`${e.serviceWorkerUrl}webr-worker.js`,n=>t(n));else{let n=new Worker(`${e.serviceWorkerUrl}webr-worker.js`);t(n)}}activeRegistration(){var e;if(!((e=N(this,Hr))!=null&&e.active))throw new Nt("Attempted to obtain a non-existent active registration.");return N(this,Hr).active}interrupt(){Be(this,io,!0)}};ro=new WeakMap,Hr=new WeakMap,io=new WeakMap,ef=new WeakSet,rb=async function(e){Be(this,Hr,await navigator.serviceWorker.register(e)),await navigator.serviceWorker.ready,window.addEventListener("beforeunload",()=>{var n;(n=N(this,Hr))==null||n.unregister()});let t=await new Promise(n=>{navigator.serviceWorker.addEventListener("message",function r(i){i.data.type==="registration-successful"&&(navigator.serviceWorker.removeEventListener("message",r),n(i.data.clientId))}),this.activeRegistration().postMessage({type:"register-client-main"})});return navigator.serviceWorker.addEventListener("message",n=>{vt(this,tf,ib).call(this,n)}),t},tf=new WeakSet,ib=async function(e){if(e.data.type==="request"){let t=e.data.data,n=N(this,ro).get(t);if(!n)throw new Nt("Request not found during service worker XHR request");switch(N(this,ro).delete(t),n.type){case"read":{let r=await this.inputQueue.get();this.activeRegistration().postMessage({type:"wasm-webr-fetch-response",uuid:t,response:Zu(t,r)});break}case"interrupt":{let r=N(this,io);this.activeRegistration().postMessage({type:"wasm-webr-fetch-response",uuid:t,response:Zu(t,r)}),this.inputQueue.reset(),Be(this,io,!1);break}default:throw new Nt(`Unsupported request type '${n.type}'.`)}return}},nf=new WeakSet,ob=function(e){Rt?(e.on("message",t=>{N(this,ks).call(this,e,t)}),e.on("error",t=>{console.error(t),this.reject(new Zn("An error occurred initialising the webR ServiceWorkerChannel worker."))})):(e.onmessage=t=>N(this,ks).call(this,e,t.data),e.onerror=t=>{console.error(t),this.reject(new Zn("An error occurred initialising the webR ServiceWorkerChannel worker."))})},ks=new WeakMap,Rt&&(globalThis.Worker=$u("worker_threads").Worker);var oo,rf,ab,Ms,sb=class extends Ku{constructor(e){super(),ae(this,rf),this.close=()=>{},ae(this,oo,void 0),ae(this,Ms,async(n,r)=>{if(!(!r||!r.type))switch(r.type){case"resolve":this.resolve();return;case"response":this.resolveResponse(r);return;case"system":this.systemQueue.put(r.data);return;default:this.outputQueue.put(r);return;case"request":{let i=r,o=i.data.msg;switch(o.type){case"read":{let a=await this.inputQueue.get();if(N(this,oo)){let s=Zu(i.data.uuid,a);N(this,oo).postMessage(s)}break}default:throw new Nt(`Unsupported request type '${o.type}'.`)}return}case"sync-request":throw new Nt("Can't send messages of type 'sync-request' in PostMessage mode. Use 'request' instead.")}}),{resolve:this.resolve,reject:this.reject,promise:this.initialised}=vs();let t=n=>{Be(this,oo,n),vt(this,rf,ab).call(this,n),this.close=()=>{n.terminate(),this.putClosedMessage()};let r={type:"init",data:{config:e,channelType:En.PostMessage}};n.postMessage(r)};if(Xu(e.baseUrl))Yu(`${e.baseUrl}webr-worker.js`,n=>t(n));else{let n=new Worker(`${e.baseUrl}webr-worker.js`);t(n)}}interrupt(){console.error("Interrupting R execution is not available when using the PostMessage channel")}};oo=new WeakMap,rf=new WeakSet,ab=function(e){Rt?(e.on("message",t=>{N(this,Ms).call(this,e,t)}),e.on("error",t=>{console.error(t),this.reject(new Zn("An error occurred initialising the webR PostMessageChannel worker."))})):(e.onmessage=t=>N(this,Ms).call(this,e,t.data),e.onerror=t=>{console.error(t),this.reject(new Zn("An error occurred initialising the webR PostMessageChannel worker."))})},Ms=new WeakMap;var En={Automatic:0,SharedArrayBuffer:1,ServiceWorker:2,PostMessage:3};function Wk(e){switch(e.channelType){case En.SharedArrayBuffer:return new nb(e);case En.ServiceWorker:return new zk(e);case En.PostMessage:return new sb(e);case En.Automatic:default:return typeof SharedArrayBuffer<"u"?new nb(e):new sb(e)}}var qk=Rt?__dirname+"/":"https://webr.r-wasm.org/v0.4.1/",Hk="https://repo.r-wasm.org",cb="0.4.1";function er(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"payloadType"in e&&eb(e._payload)}function Vk(e){var t;return!!(er(e)&&(t=e._payload.obj.methods)!=null&&t.includes("exec"))}function Yk(){}function Xk(e,t){return async function*(){let n={type:"callRObjectMethod",data:{payload:t._payload,prop:"getPropertyValue",args:[{payloadType:"raw",obj:"length"}],shelter:void 0}},r=await e.request(n);if(typeof r.obj!="number")throw new Fr("Cannot iterate over object, unexpected type for length property.");for(let i=1;i<=r.obj;i++)yield t.get(i)}}function lb(e,t,n){return async(...r)=>{let i=r.map(s=>er(s)?s._payload:{obj:An(s,er,c=>c._payload),payloadType:"raw"}),o={type:"callRObjectMethod",data:{payload:n,prop:t,args:i}},a=await e.request(o);switch(a.payloadType){case"ptr":return tr(e,a);case"raw":return An(a,eb,(s,c)=>tr(c,s),e).obj}}}async function Jk(e,t,n,...r){let i={type:"newRObject",data:{objType:t,args:An(r,er,a=>a._payload),shelter:n}},o=await e.request(i);switch(o.payloadType){case"raw":throw new us("Unexpected raw payload type returned from newRObject");case"ptr":return tr(e,o)}}function tr(e,t){var n;let r=new Proxy((n=t.obj.methods)!=null&&n.includes("exec")?Object.assign(Yk,{...t}):t,{get:(i,o)=>{var a;if(o==="_payload")return t;if(o===Symbol.asyncIterator)return Xk(e,r);if((a=t.obj.methods)!=null&&a.includes(o.toString()))return lb(e,o.toString(),t)},apply:async(i,o,a)=>{let s=await tr(e,t).exec(...a);return Vk(s)?s:s.toJs()}});return r}function Ve(e,t,n){return new Proxy(le,{construct:(r,i)=>Jk(e,n,t,...i),get:(r,i)=>lb(e,i.toString())})}var Gk={FONTCONFIG_PATH:"/etc/fonts",R_HOME:"/usr/lib/R",R_ENABLE_JIT:"0",WEBR:"1",WEBR_VERSION:cb},ub={RArgs:[],REnv:Gk,baseUrl:qk,serviceWorkerUrl:"",repoUrl:Hk,homedir:"/home/web_user",interactive:!0,channelType:En.Automatic,createLazyFilesystem:!0},de,As,of,fb,Zk=class{constructor(e={}){ae(this,of),ae(this,de,void 0),ae(this,As,void 0),this.version=cb,this.FS={lookupPath:async n=>{let r={type:"lookupPath",data:{path:n}};return(await N(this,de).request(r)).obj},mkdir:async n=>{let r={type:"mkdir",data:{path:n}};return(await N(this,de).request(r)).obj},mount:async(n,r,i)=>{let o={type:"mount",data:{type:n,options:r,mountpoint:i}};await N(this,de).request(o)},syncfs:async n=>{let r={type:"syncfs",data:{populate:n}};await N(this,de).request(r)},readFile:async(n,r)=>{let i={type:"readFile",data:{path:n,flags:r}};return(await N(this,de).request(i)).obj},rmdir:async n=>{let r={type:"rmdir",data:{path:n}};await N(this,de).request(r)},writeFile:async(n,r,i)=>{let o={type:"writeFile",data:{path:n,data:r,flags:i}};await N(this,de).request(o)},unlink:async n=>{let r={type:"unlink",data:{path:n}};await N(this,de).request(r)},unmount:async n=>{let r={type:"unmount",data:{path:n}};await N(this,de).request(r)}};let t={...ub,...e,REnv:{...ub.REnv,...e.REnv}};Be(this,de,Wk(t)),this.objs={},this.Shelter=Kk(N(this,de)),Be(this,As,N(this,de).initialised.then(async()=>{this.globalShelter=await new this.Shelter,this.RObject=this.globalShelter.RObject,this.RLogical=this.globalShelter.RLogical,this.RInteger=this.globalShelter.RInteger,this.RDouble=this.globalShelter.RDouble,this.RComplex=this.globalShelter.RComplex,this.RCharacter=this.globalShelter.RCharacter,this.RRaw=this.globalShelter.RRaw,this.RList=this.globalShelter.RList,this.RDataFrame=this.globalShelter.RDataFrame,this.RPairlist=this.globalShelter.RPairlist,this.REnvironment=this.globalShelter.REnvironment,this.RSymbol=this.globalShelter.RSymbol,this.RString=this.globalShelter.RString,this.RCall=this.globalShelter.RCall,this.objs={baseEnv:await this.RObject.getPersistentObject("baseEnv"),globalEnv:await this.RObject.getPersistentObject("globalEnv"),null:await this.RObject.getPersistentObject("null"),true:await this.RObject.getPersistentObject("true"),false:await this.RObject.getPersistentObject("false"),na:await this.RObject.getPersistentObject("na")},vt(this,of,fb).call(this)}))}async init(){return N(this,As)}close(){N(this,de).close()}async read(){return await N(this,de).read()}async flush(){return await N(this,de).flush()}write(e){N(this,de).write(e)}writeConsole(e){this.write({type:"stdin",data:e+`
`})}interrupt(){N(this,de).interrupt()}async installPackages(e,t){let n=Object.assign({quiet:!1,mount:!0},t),r={type:"installPackages",data:{name:e,options:n}};await N(this,de).request(r)}async destroy(e){await this.globalShelter.destroy(e)}async evalR(e,t){return this.globalShelter.evalR(e,t)}async evalRVoid(e,t){return this.evalRRaw(e,"void",t)}async evalRBoolean(e,t){return this.evalRRaw(e,"boolean",t)}async evalRNumber(e,t){return this.evalRRaw(e,"number",t)}async evalRString(e,t){return this.evalRRaw(e,"string",t)}async evalRRaw(e,t,n={}){let r=An(n,er,a=>a._payload),i={type:"evalRRaw",data:{code:e,options:r,outputType:t}},o=await N(this,de).request(i);switch(o.payloadType){case"raw":return o.obj;case"ptr":throw new us("Unexpected ptr payload type returned from evalRVoid")}}async invokeWasmFunction(e,...t){let n={type:"invokeWasmFunction",data:{ptr:e,args:t}};return(await N(this,de).request(n)).obj}};de=new WeakMap,As=new WeakMap,of=new WeakSet,fb=async function(){for(;;){let e=await N(this,de).readSystem();switch(e.type){case"setTimeoutWasm":setTimeout((t,n)=>{this.invokeWasmFunction(t,...n)},e.data.delay,e.data.ptr,e.data.args);break;case"console.log":console.log(e.data);break;case"console.warn":console.warn(e.data);break;case"console.error":console.error(e.data);break;case"close":N(this,de).close();break;default:throw new Fr("Unknown system message type `"+e.type+"`")}}};var me,fe,Es,hb=class{constructor(e){ae(this,me,""),ae(this,fe,void 0),ae(this,Es,!1),Be(this,fe,e)}async init(){if(N(this,Es))return;let e={type:"newShelter"},t=await N(this,fe).request(e);Be(this,me,t.obj),this.RObject=Ve(N(this,fe),N(this,me),"object"),this.RLogical=Ve(N(this,fe),N(this,me),"logical"),this.RInteger=Ve(N(this,fe),N(this,me),"integer"),this.RDouble=Ve(N(this,fe),N(this,me),"double"),this.RComplex=Ve(N(this,fe),N(this,me),"complex"),this.RCharacter=Ve(N(this,fe),N(this,me),"character"),this.RRaw=Ve(N(this,fe),N(this,me),"raw"),this.RList=Ve(N(this,fe),N(this,me),"list"),this.RDataFrame=Ve(N(this,fe),N(this,me),"dataframe"),this.RPairlist=Ve(N(this,fe),N(this,me),"pairlist"),this.REnvironment=Ve(N(this,fe),N(this,me),"environment"),this.RSymbol=Ve(N(this,fe),N(this,me),"symbol"),this.RString=Ve(N(this,fe),N(this,me),"string"),this.RCall=Ve(N(this,fe),N(this,me),"call"),Be(this,Es,!0)}async purge(){let e={type:"shelterPurge",data:N(this,me)};await N(this,fe).request(e)}async destroy(e){let t={type:"shelterDestroy",data:{id:N(this,me),obj:e._payload}};await N(this,fe).request(t)}async size(){let e={type:"shelterSize",data:N(this,me)};return(await N(this,fe).request(e)).obj}async evalR(e,t={}){let n=An(t,er,o=>o._payload),r={type:"evalR",data:{code:e,options:n,shelter:N(this,me)}},i=await N(this,fe).request(r);switch(i.payloadType){case"raw":throw new us("Unexpected payload type returned from evalR");default:return tr(N(this,fe),i)}}async captureR(e,t={}){let n=An(t,er,o=>o._payload),r={type:"captureR",data:{code:e,options:n,shelter:N(this,me)}},i=await N(this,fe).request(r);switch(i.payloadType){case"ptr":throw new us("Unexpected payload type returned from evalR");case"raw":{let o=i.obj,a=tr(N(this,fe),o.result),s=o.output,c=o.images;for(let l=0;l<s.length;++l)s[l].type!=="stdout"&&s[l].type!=="stderr"&&(s[l].data=tr(N(this,fe),s[l].data));return{result:a,output:s,images:c}}}}};me=new WeakMap,fe=new WeakMap,Es=new WeakMap;function Kk(e){return new Proxy(hb,{construct:async()=>{let t=new hb(e);return await t.init(),t}})}NodeList.prototype.map=Array.prototype.map;const Tn=new Zk;await Tn.init(),await Tn.installPackages(["knitr","memoise"]);const Qk=await Tn.evalRString("R.version.string"),eM=window.location.pathname.replace("index.html","");await Tn.evalR(`tf = tempfile();download.file('${window.location.origin}${eM}pcurve.R',tf);source(tf)`);const tM=await Tn.evalR('\\(stat,df1,df2,value,comment,line) make_tables(pcurve_prep(stat,df1,df2,value,comment,line), pvalcols = c("pval_log","pval_probit"), prep_class = "table", test_class="pcurvetab")'),nM=await Tn.evalR("\\(stat,df1,df2,value,comment,line) make_plot_data(pcurve_prep(stat,df1,df2,value,comment,line))");var af="";const sf="-?(0|[1-9]\\d*)?(\\.\\d+)?(?<=\\d)",cf="(?<value>-?(0|[1-9]\\d*)?(\\.\\d+)?(?<=\\d)(e-?(0|[1-9]\\d*))?)",lf="#(?<comment>.*)",db=[new RegExp(`^\\s*(?<stat>z)\\s*=\\s*${cf}\\s*(?:${lf})?$`,"i"),new RegExp(`^\\s*(?<stat>[rt]|chi2)\\(\\s*(?<df1>${sf})\\s*\\)\\s*=\\s*${cf}\\s*(?:${lf})?$`,"i"),new RegExp(`^\\s*(?<stat>F)\\(\\s*(?<df1>${sf})\\s*,\\s*(?<df2>${sf})\\s*\\)\\s*=\\s*${cf}\\s*(?:${lf})?$`,"i")],rM=document.getElementById("status-message"),Ts=document.getElementById("TApcurve"),uf=document.getElementById("simpletext"),Vr=document.getElementById("table1"),Ss=document.getElementById("table2"),iM=document.getElementById("displayurl"),pb=document.getElementById("ojs-plot"),Ye=document.getElementById("backdrop"),oM=document.getElementById("halftoggle");rM.innerHTML=(crossOriginIsolated?"\u{1F7E2}":"\u{1F315}")+`WebR Loaded! [${Qk}]`;function aM(e,t=200){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}function sM(e){const t=Math.ceil(Math.abs(Math.log10(e))),n=parseFloat(e.toFixed(t+2-1))+"",r=e.toExponential(2-1);return Array.from(n).length>Array.from(r).length?r:n}function yb(){oM.checked?Vr.querySelectorAll("tbody>tr:nth-child(even)>td").map(e=>e.style.display=""):Vr.querySelectorAll("tbody>tr:nth-child(even)>td").map(e=>e.style.display="none")}function gb(){Ye.scrollTop=Ts.scrollTop,Ye.scrollLeft=Ts.scrollLeft}function mb(){let e=window.getComputedStyle(Ts),t="";for(let n=0;n<e.length;n++)t+=e[n]+": "+e.getPropertyValue(e[n])+";";Ye.style=t,Ye.style.position="absolute",Ye.style.zIndex="-1",Ye.style.overflow="hidden",Ye.style.backgroundColor="#ffffff",Ye.style.resize="none",Ye.style["-webkit-text-fill-color"]="rgba(0,0,0,0)",Ye.style.color="rgba(0,0,0,0)",Ye.style["border-color"]="rgba(0,0,0,0)"}function cM(e){switch(e.stat.toLowerCase()){case"f":return parseFloat(e.df1)>=1&parseFloat(e.df2)>=1&parseFloat(e.value)>=0;case"chi2":return parseFloat(e.df1)>=1&parseFloat(e.value)>=0;case"r":return parseFloat(e.df1)>=3&parseFloat(e.value)>=-1&parseFloat(e.value)<=1;case"z":return!isNaN(parseFloat(e.value));case"t":return parseFloat(e.df1)>=1&!isNaN(parseFloat(e.value));default:return!1}}async function lM(e){const t=JSON.stringify(e);if(af===t)return;await nM(e.stat,e.df1,e.df2,e.value,e.comment,e.line);const n=await(await Tn.evalR("plotdata")).toD3();if(n.length==0){ff();return}document.querySelectorAll(".section button").map(o=>{o.style.display="block"});const r=await Tn.evalR("plotdata2");fM(n,await r.toArray());const i=await tM(e.stat,e.df1,e.df2,e.value,e.comment,e.line);Vr.innerHTML=i.values[1],yb(),Vr.querySelector("table").classList.add("table","table-striped"),Vr.querySelector("thead").classList.add("thead-dark"),Ss.innerHTML=i.values[0],Ss.querySelector("table").classList.add("table","table-striped","sortable"),Ss.querySelector("thead").classList.add("thead-dark"),af=t}const uM=aM(async e=>{await lM(e)});async function bb(){mb(),Ye.innerHTML="",uf.innerHTML="";const e=Ts.value;if(iM.value=`${window.location.origin}/?data=${lo.encodeURI(e)}`,"URLSearchParams"in window){const r=new URL(window.location);r.searchParams.set("data",lo.encodeURI(e)),history.pushState(null,"",r)}if(e===""){ff();return}const t=e.split(/\r?\n|\r|\n/g).flatMap(function(r,i){for(var o,a=0;a<db.length;a++)if(o=db[a].exec(r),o&&cM(o.groups)){const s=o.input.match("^.*?(?=#)");if(s!==null?uf.innerHTML+=s[0]+`
`:uf.innerHTML+=o.input+`
`,o.groups.line=i+1,o.groups.comment===void 0)o.groups.comment="";else{const c="#"+o.groups.comment;r=r.replace(c,"<span class='commentinput'>$&<span>")}return Ye.innerHTML+=`${r}<br/>`,o.groups}return Ye.innerHTML+=`<span class='invalidinput'>${r}</span><br/>`,[]});if(!t.length){ff();return}const n={line:[],stat:[],df1:[],df2:[],value:[],comment:[]};for(let r=0;r<t.length;r++)n.line.push(t[r].line),n.stat.push(t[r].stat),n.df1.push(parseFloat(t[r].df1)),n.df2.push(parseFloat(t[r].df2)),n.value.push(parseFloat(t[r].value)),n.comment.push(t[r].comment);await uM(n)}function ff(){af="",document.querySelectorAll(".section button").map(e=>{e.style.display="none"}),pb.innerHTML="No significant results entered.",Vr.innerHTML="No significant results entered.",Ss.innerHTML="No significant results entered."}async function fM(e,t){const n=e.length,r=[{x:t[0],y:1/(2*n),statistic:-2*n*Math.log(t[0]/.05)}],i=[{x:t[1],y:1/(2*n)},{x:t[2],y:1/(2*n)}];pb.replaceChildren(pm({marginBottom:80,marginTop:30,x:{type:"log",label:"p value (log scale)"},y:{domain:[0,1],label:"Empirical cumulative probability"},style:{background:"#ffffff",color:"#000000",fontSize:"14px"},marks:[wu({tickFormat:sM,tickRotate:-90}),xg([.05]),pu([0]),pu([1]),Su(i,{x:"x",y:"y",strokeOpacity:.5,stroke:"steelblue",strokeWidth:5,title:o=>"Expected 95% range for Fisher's statistic under the null"}),Sm(r,{x:"x",y:"y",r:8,symbol:"diamond",fill:"plum",fillOpacity:.7,channels:{"Fisher's statistic":o=>`\u{1D6D8}\xB2(${2*n})=${o.statistic.toFixed(3)}`,"geometric mean p":o=>o.x},tip:{format:{y:!1,x:!1}}}),ak(e,{y:"Fp",x1:"lo",x2:"up",fill:"steelblue",fillOpacity:.5}),Su(e,{y:"Fp",x:"med",stroke:"royalblue",strokeWidth:4}),Su(e,{x:"pval",y:"Fp",curve:"step-after",stroke:"lightgray",strokeWidth:3}),Sm(e,{x:"pval",y:"Fp",r:6,fill:"currentColor",channels:{comment:"comment","Line#":"line",input:"input_string",p:"p_string"},tip:{format:{x:!1,y:!1}}})]}))}const hM=document.getElementById("status-message");hM.innerHTML=(crossOriginIsolated?"\u{1F7E2}":"\u{1F315}")+" WebR Loading\u2026";const dM=document.getElementById("backdrop"),pM=document.getElementById("halftoggle"),yM=document.getElementById("loadingoverlay"),ao=document.getElementById("TApcurve"),gM=window.location.search,vb=new URLSearchParams(gM);if(vb.has("data")){const e=vb.get("data");if(lo.isValid(e)){const t=lo.decode(e);ao.innerHTML=t}}yM.style.display="none",document.getElementById("TApcurve").disabled=!1,pM.onchange=yb,ao.oninput=bb;var hf;ao.onmousedown=function(){hf=setTimeout(()=>{dM.style.display="none"},100)},ao.onmouseup=function(){hf!==null&&clearTimeout(hf),mb()},ao.onscroll=gb,bb(),gb()})();
